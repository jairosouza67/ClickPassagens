function zb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qw={exports:{}},ju={},Kw={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),Wb=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),qb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),Yb=Symbol.for("react.suspense"),Jb=Symbol.for("react.memo"),Zb=Symbol.for("react.lazy"),yv=Symbol.iterator;function eC(t){return t===null||typeof t!="object"?null:(t=yv&&t[yv]||t["@@iterator"],typeof t=="function"?t:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xw=Object.assign,Yw={};function eo(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Qw}eo.prototype.isReactComponent={};eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jw(){}Jw.prototype=eo.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Qw}var Cp=bp.prototype=new Jw;Cp.constructor=bp;Xw(Cp,eo.prototype);Cp.isPureReactComponent=!0;var wv=Array.isArray,Zw=Object.prototype.hasOwnProperty,Ip={current:null},e_={key:!0,ref:!0,__self:!0,__source:!0};function t_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zw.call(e,r)&&!e_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Za,type:t,key:i,ref:o,props:s,_owner:Ip.current}}function tC(t,e){return{$$typeof:Za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function nC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function Ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nC(""+t.key):e.toString(36)}function uc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Za:case Wb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ud(o,0):r,wv(s)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),uc(s,e,n,"",function(d){return d})):s!=null&&(Ap(s)&&(s=tC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_v,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Ud(i,a);o+=uc(i,e,n,u,s)}else if(u=eC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Ud(i,a++),o+=uc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jl(t,e,n){if(t==null)return t;var r=[],s=0;return uc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},dc={transition:null},sC={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:dc,ReactCurrentOwner:Ip};function n_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:jl,forEach:function(t,e,n){jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jl(t,function(){e++}),e},toArray:function(t){return jl(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=eo;ae.Fragment=Hb;ae.Profiler=qb;ae.PureComponent=bp;ae.StrictMode=Gb;ae.Suspense=Yb;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;ae.act=n_;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Zw.call(e,u)&&!e_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Za,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:Qb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kb,_context:t},t.Consumer=t};ae.createElement=t_;ae.createFactory=function(t){var e=t_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:Xb,render:t}};ae.isValidElement=Ap;ae.lazy=function(t){return{$$typeof:Zb,_payload:{_status:-1,_result:t},_init:rC}};ae.memo=function(t,e){return{$$typeof:Jb,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=dc.transition;dc.transition={};try{t()}finally{dc.transition=e}};ae.unstable_act=n_;ae.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ae.useContext=function(t){return Rt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ae.useId=function(){return Rt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};ae.useRef=function(t){return Rt.current.useRef(t)};ae.useState=function(t){return Rt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Rt.current.useTransition()};ae.version="18.3.1";Kw.exports=ae;var m=Kw.exports;const He=Gw(m),el=zb({__proto__:null,default:He},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=m,oC=Symbol.for("react.element"),aC=Symbol.for("react.fragment"),lC=Object.prototype.hasOwnProperty,cC=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uC={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lC.call(e,r)&&!uC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oC,type:t,key:i,ref:o,props:s,_owner:cC.current}}ju.Fragment=aC;ju.jsx=r_;ju.jsxs=r_;qw.exports=ju;var l=qw.exports,Lh={},s_={exports:{}},Kt={},i_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var G=V.length;V.push(z);e:for(;0<G;){var oe=G-1>>>1,fe=V[oe];if(0<s(fe,z))V[oe]=z,V[G]=fe,G=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],G=V.pop();if(G!==z){V[0]=G;e:for(var oe=0,fe=V.length,Ee=fe>>>1;oe<Ee;){var Re=2*(oe+1)-1,Qe=V[Re],ze=Re+1,X=V[ze];if(0>s(Qe,G))ze<fe&&0>s(X,Qe)?(V[oe]=X,V[ze]=G,oe=ze):(V[oe]=Qe,V[Re]=G,oe=Re);else if(ze<fe&&0>s(X,G))V[oe]=X,V[ze]=G,oe=ze;else break e}}return z}function s(V,z){var G=V.sortIndex-z.sortIndex;return G!==0?G:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,f=null,g=3,x=!1,S=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=V)r(d),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(d)}}function N(V){if(E=!1,T(V),!S)if(n(u)!==null)S=!0,ee(O);else{var z=n(d);z!==null&&me(N,z.startTime-V)}}function O(V,z){S=!1,E&&(E=!1,w(_),_=-1),x=!0;var G=g;try{for(T(z),f=n(u);f!==null&&(!(f.expirationTime>z)||V&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,g=f.priorityLevel;var fe=oe(f.expirationTime<=z);z=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(u)&&r(u),T(z)}else r(u);f=n(u)}if(f!==null)var Ee=!0;else{var Re=n(d);Re!==null&&me(N,Re.startTime-z),Ee=!1}return Ee}finally{f=null,g=G,x=!1}}var L=!1,b=null,_=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function j(){if(b!==null){var V=t.unstable_now();R=V;var z=!0;try{z=b(!0,V)}finally{z?P():(L=!1,b=null)}}else L=!1}var P;if(typeof y=="function")P=function(){y(j)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=j,P=function(){ie.postMessage(null)}}else P=function(){I(j,0)};function ee(V){b=V,L||(L=!0,P())}function me(V,z){_=I(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ee(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var G=g;g=z;try{return V()}finally{g=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=g;g=V;try{return z()}finally{g=G}},t.unstable_scheduleCallback=function(V,z,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,V){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,V={id:h++,callback:z,priorityLevel:V,startTime:G,expirationTime:fe,sortIndex:-1},G>oe?(V.sortIndex=G,e(d,V),n(u)===null&&V===n(d)&&(E?(w(_),_=-1):E=!0,me(N,G-oe))):(V.sortIndex=fe,e(u,V),S||x||(S=!0,ee(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var z=g;return function(){var G=g;g=z;try{return V.apply(this,arguments)}finally{g=G}}}})(o_);i_.exports=o_;var dC=i_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=m,qt=dC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a_=new Set,_a={};function qs(t,e){Li(t,e),Li(t+"Capture",e)}function Li(t,e){for(_a[t]=e,t=0;t<e.length;t++)a_.add(e[t])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,fC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},Ev={};function pC(t){return Vh.call(Ev,t)?!0:Vh.call(xv,t)?!1:fC.test(t)?Ev[t]=!0:(xv[t]=!0,!1)}function mC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gC(t,e,n,r){if(e===null||typeof e>"u"||mC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Rp);pt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Rp);pt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Rp);pt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pp(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gC(e,n,s,r)&&(n=null),r||s===null?pC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=hC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),di=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),u_=Symbol.for("react.offscreen"),Tv=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Tv&&t[Tv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Bd;function Go(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var zd=!1;function Wd(t,e){if(!t||zd)return"";zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{zd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function vC(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=Wd(t.type,!1),t;case 11:return t=Wd(t.type.render,!1),t;case 1:return t=Wd(t.type,!0),t;default:return""}}function Bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case di:return"Portal";case $h:return"Profiler";case kp:return"StrictMode";case Fh:return"Suspense";case Uh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c_:return(t.displayName||"Context")+".Consumer";case l_:return(t._context.displayName||"Context")+".Provider";case jp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Op:return e=t.displayName||null,e!==null?e:Bh(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return Bh(t(e))}catch{}}return null}function yC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(e);case 8:return e===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wC(t){var e=d_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=wC(t))}function h_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f_(t,e){e=e.checked,e!=null&&Pp(t,"checked",e,!1)}function Wh(t,e){f_(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hh(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hh(t,e,n){(e!=="number"||Mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Ti(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(qo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function p_(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,g_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_C=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){_C.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function v_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function y_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=v_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xC=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kh(t,e){if(e){if(xC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=null;function Dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yh=null,Si=null,bi=null;function Av(t){if(t=rl(t)){if(typeof Yh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Vu(e),Yh(t.stateNode,t.type,e))}}function w_(t){Si?bi?bi.push(t):bi=[t]:Si=t}function __(){if(Si){var t=Si,e=bi;if(bi=Si=null,Av(t),e)for(t=0;t<e.length;t++)Av(e[t])}}function x_(t,e){return t(e)}function E_(){}var Hd=!1;function T_(t,e,n){if(Hd)return t(e,n);Hd=!0;try{return x_(t,e,n)}finally{Hd=!1,(Si!==null||bi!==null)&&(E_(),__())}}function Ea(t,e){var n=t.stateNode;if(n===null)return null;var r=Vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Jh=!1;if(rr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Jh=!1}function EC(t,e,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var sa=!1,Lc=null,Vc=!1,Zh=null,TC={onError:function(t){sa=!0,Lc=t}};function SC(t,e,n,r,s,i,o,a,u){sa=!1,Lc=null,EC.apply(TC,arguments)}function bC(t,e,n,r,s,i,o,a,u){if(SC.apply(this,arguments),sa){if(sa){var d=Lc;sa=!1,Lc=null}else throw Error(U(198));Vc||(Vc=!0,Zh=d)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(Ks(t)!==t)throw Error(U(188))}function CC(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nv(s),t;if(i===r)return Nv(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function b_(t){return t=CC(t),t!==null?C_(t):null}function C_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C_(t);if(e!==null)return e;t=t.sibling}return null}var I_=qt.unstable_scheduleCallback,Rv=qt.unstable_cancelCallback,IC=qt.unstable_shouldYield,AC=qt.unstable_requestPaint,Be=qt.unstable_now,NC=qt.unstable_getCurrentPriorityLevel,Mp=qt.unstable_ImmediatePriority,A_=qt.unstable_UserBlockingPriority,$c=qt.unstable_NormalPriority,RC=qt.unstable_LowPriority,N_=qt.unstable_IdlePriority,Ou=null,Rn=null;function PC(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ou,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:OC,kC=Math.log,jC=Math.LN2;function OC(t){return t>>>=0,t===0?32:31-(kC(t)/jC|0)|0}var Ll=64,Vl=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ko(a):(i&=o,i!==0&&(r=Ko(i)))}else o=n&~s,o!==0?r=Ko(o):i!==0&&(r=Ko(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function DC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=DC(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R_(){var t=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),t}function Gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function LC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function P_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k_,Vp,j_,O_,D_,tf=!1,$l=[],Lr=null,Vr=null,$r=null,Ta=new Map,Sa=new Map,Nr=[],VC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(t,e){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function Mo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=rl(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $C(t,e,n,r,s){switch(e){case"focusin":return Lr=Mo(Lr,t,e,n,r,s),!0;case"dragenter":return Vr=Mo(Vr,t,e,n,r,s),!0;case"mouseover":return $r=Mo($r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ta.set(i,Mo(Ta.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Sa.set(i,Mo(Sa.get(i)||null,t,e,n,r,s)),!0}return!1}function M_(t){var e=Ts(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=S_(n),e!==null){t.blockedOn=e,D_(t.priority,function(){j_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xh=r,n.target.dispatchEvent(r),Xh=null}else return e=rl(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function kv(t,e,n){hc(t)&&n.delete(e)}function FC(){tf=!1,Lr!==null&&hc(Lr)&&(Lr=null),Vr!==null&&hc(Vr)&&(Vr=null),$r!==null&&hc($r)&&($r=null),Ta.forEach(kv),Sa.forEach(kv)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,FC)))}function ba(t){function e(s){return Lo(s,t)}if(0<$l.length){Lo($l[0],t);for(var n=1;n<$l.length;n++){var r=$l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lr!==null&&Lo(Lr,t),Vr!==null&&Lo(Vr,t),$r!==null&&Lo($r,t),Ta.forEach(e),Sa.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)M_(n),n.blockedOn===null&&Nr.shift()}var Ci=fr.ReactCurrentBatchConfig,Uc=!0;function UC(t,e,n,r){var s=_e,i=Ci.transition;Ci.transition=null;try{_e=1,$p(t,e,n,r)}finally{_e=s,Ci.transition=i}}function BC(t,e,n,r){var s=_e,i=Ci.transition;Ci.transition=null;try{_e=4,$p(t,e,n,r)}finally{_e=s,Ci.transition=i}}function $p(t,e,n,r){if(Uc){var s=nf(t,e,n,r);if(s===null)nh(t,e,r,Bc,n),Pv(t,r);else if($C(s,t,e,n,r))r.stopPropagation();else if(Pv(t,r),e&4&&-1<VC.indexOf(t)){for(;s!==null;){var i=rl(s);if(i!==null&&k_(i),i=nf(t,e,n,r),i===null&&nh(t,e,r,Bc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nh(t,e,r,null,n)}}var Bc=null;function nf(t,e,n,r){if(Bc=null,t=Dp(r),t=Ts(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function L_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NC()){case Mp:return 1;case A_:return 4;case $c:case RC:return 16;case N_:return 536870912;default:return 16}default:return 16}}var Or=null,Fp=null,fc=null;function V_(){if(fc)return fc;var t,e=Fp,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return fc=s.slice(t,1<r?1-r:void 0)}function pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function jv(){return!1}function Qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fl:jv,this.isPropagationStopped=jv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=Qt(to),nl=De({},to,{view:0,detail:0}),zC=Qt(nl),qd,Kd,Vo,Du=De({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vo&&(Vo&&t.type==="mousemove"?(qd=t.screenX-Vo.screenX,Kd=t.screenY-Vo.screenY):Kd=qd=0,Vo=t),qd)},movementY:function(t){return"movementY"in t?t.movementY:Kd}}),Ov=Qt(Du),WC=De({},Du,{dataTransfer:0}),HC=Qt(WC),GC=De({},nl,{relatedTarget:0}),Qd=Qt(GC),qC=De({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),KC=Qt(qC),QC=De({},to,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XC=Qt(QC),YC=De({},to,{data:0}),Dv=Qt(YC),JC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eI[t])?!!e[t]:!1}function Bp(){return tI}var nI=De({},nl,{key:function(t){if(t.key){var e=JC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rI=Qt(nI),sI=De({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mv=Qt(sI),iI=De({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),oI=Qt(iI),aI=De({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),lI=Qt(aI),cI=De({},Du,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uI=Qt(cI),dI=[9,13,27,32],zp=rr&&"CompositionEvent"in window,ia=null;rr&&"documentMode"in document&&(ia=document.documentMode);var hI=rr&&"TextEvent"in window&&!ia,$_=rr&&(!zp||ia&&8<ia&&11>=ia),Lv=String.fromCharCode(32),Vv=!1;function F_(t,e){switch(t){case"keyup":return dI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function fI(t,e){switch(t){case"compositionend":return U_(e);case"keypress":return e.which!==32?null:(Vv=!0,Lv);case"textInput":return t=e.data,t===Lv&&Vv?null:t;default:return null}}function pI(t,e){if(fi)return t==="compositionend"||!zp&&F_(t,e)?(t=V_(),fc=Fp=Or=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $_&&e.locale!=="ko"?null:e.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mI[t.type]:e==="textarea"}function B_(t,e,n,r){w_(r),e=zc(e,"onChange"),0<e.length&&(n=new Up("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oa=null,Ca=null;function gI(t){Z_(t,0)}function Mu(t){var e=gi(t);if(h_(e))return t}function vI(t,e){if(t==="change")return e}var z_=!1;if(rr){var Xd;if(rr){var Yd="oninput"in document;if(!Yd){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),Yd=typeof Fv.oninput=="function"}Xd=Yd}else Xd=!1;z_=Xd&&(!document.documentMode||9<document.documentMode)}function Uv(){oa&&(oa.detachEvent("onpropertychange",W_),Ca=oa=null)}function W_(t){if(t.propertyName==="value"&&Mu(Ca)){var e=[];B_(e,Ca,t,Dp(t)),T_(gI,e)}}function yI(t,e,n){t==="focusin"?(Uv(),oa=e,Ca=n,oa.attachEvent("onpropertychange",W_)):t==="focusout"&&Uv()}function wI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Ca)}function _I(t,e){if(t==="click")return Mu(e)}function xI(t,e){if(t==="input"||t==="change")return Mu(e)}function EI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:EI;function Ia(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vh.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function H_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G_(){for(var t=window,e=Mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mc(t.document)}return e}function Wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TI(t){var e=G_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H_(n.ownerDocument.documentElement,n)){if(r!==null&&Wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zv(n,i);var o=zv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SI=rr&&"documentMode"in document&&11>=document.documentMode,pi=null,rf=null,aa=null,sf=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||pi==null||pi!==Mc(r)||(r=pi,"selectionStart"in r&&Wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&Ia(aa,r)||(aa=r,r=zc(rf,"onSelect"),0<r.length&&(e=new Up("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pi)))}function Ul(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},Jd={},q_={};rr&&(q_=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Lu(t){if(Jd[t])return Jd[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q_)return Jd[t]=e[n];return t}var K_=Lu("animationend"),Q_=Lu("animationiteration"),X_=Lu("animationstart"),Y_=Lu("transitionend"),J_=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){J_.set(t,e),qs(e,[t])}for(var Zd=0;Zd<Hv.length;Zd++){var eh=Hv[Zd],bI=eh.toLowerCase(),CI=eh[0].toUpperCase()+eh.slice(1);as(bI,"on"+CI)}as(K_,"onAnimationEnd");as(Q_,"onAnimationIteration");as(X_,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(Y_,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bC(r,e,void 0,t),t.currentTarget=null}function Z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Gv(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Gv(s,a,d),i=u}}}if(Vc)throw t=Zh,Vc=!1,Zh=null,t}function Ie(t,e){var n=e[uf];n===void 0&&(n=e[uf]=new Set);var r=t+"__bubble";n.has(r)||(ex(e,t,2,!1),n.add(r))}function th(t,e,n){var r=0;e&&(r|=4),ex(n,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[Bl]){t[Bl]=!0,a_.forEach(function(n){n!=="selectionchange"&&(II.has(n)||th(n,!1,t),th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,th("selectionchange",!1,e))}}function ex(t,e,n,r){switch(L_(e)){case 1:var s=UC;break;case 4:s=BC;break;default:s=$p}n=s.bind(null,e,n,t),s=void 0,!Jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}T_(function(){var d=i,h=Dp(n),f=[];e:{var g=J_.get(t);if(g!==void 0){var x=Up,S=t;switch(t){case"keypress":if(pc(n)===0)break e;case"keydown":case"keyup":x=rI;break;case"focusin":S="focus",x=Qd;break;case"focusout":S="blur",x=Qd;break;case"beforeblur":case"afterblur":x=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=oI;break;case K_:case Q_:case X_:x=KC;break;case Y_:x=lI;break;case"scroll":x=zC;break;case"wheel":x=uI;break;case"copy":case"cut":case"paste":x=XC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Mv}var E=(e&4)!==0,I=!E&&t==="scroll",w=E?g!==null?g+"Capture":null:g;E=[];for(var y=d,T;y!==null;){T=y;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,w!==null&&(N=Ea(y,w),N!=null&&E.push(Na(y,N,T)))),I)break;y=y.return}0<E.length&&(g=new x(g,S,null,n,h),f.push({event:g,listeners:E}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Xh&&(S=n.relatedTarget||n.fromElement)&&(Ts(S)||S[sr]))break e;if((x||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=d,S=S?Ts(S):null,S!==null&&(I=Ks(S),S!==I||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=d),x!==S)){if(E=Ov,N="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Mv,N="onPointerLeave",w="onPointerEnter",y="pointer"),I=x==null?g:gi(x),T=S==null?g:gi(S),g=new E(N,y+"leave",x,n,h),g.target=I,g.relatedTarget=T,N=null,Ts(h)===d&&(E=new E(w,y+"enter",S,n,h),E.target=T,E.relatedTarget=I,N=E),I=N,x&&S)t:{for(E=x,w=S,y=0,T=E;T;T=ri(T))y++;for(T=0,N=w;N;N=ri(N))T++;for(;0<y-T;)E=ri(E),y--;for(;0<T-y;)w=ri(w),T--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=ri(E),w=ri(w)}E=null}else E=null;x!==null&&qv(f,g,x,E,!1),S!==null&&I!==null&&qv(f,I,S,E,!0)}}e:{if(g=d?gi(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var O=vI;else if($v(g))if(z_)O=xI;else{O=wI;var L=yI}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=_I);if(O&&(O=O(t,d))){B_(f,O,n,h);break e}L&&L(t,g,d),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Hh(g,"number",g.value)}switch(L=d?gi(d):window,t){case"focusin":($v(L)||L.contentEditable==="true")&&(pi=L,rf=d,aa=null);break;case"focusout":aa=rf=pi=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Wv(f,n,h);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":Wv(f,n,h)}var b;if(zp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else fi?F_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&($_&&n.locale!=="ko"&&(fi||_!=="onCompositionStart"?_==="onCompositionEnd"&&fi&&(b=V_()):(Or=h,Fp="value"in Or?Or.value:Or.textContent,fi=!0)),L=zc(d,_),0<L.length&&(_=new Dv(_,t,null,n,h),f.push({event:_,listeners:L}),b?_.data=b:(b=U_(n),b!==null&&(_.data=b)))),(b=hI?fI(t,n):pI(t,n))&&(d=zc(d,"onBeforeInput"),0<d.length&&(h=new Dv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}Z_(f,e)})}function Na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ea(t,n),i!=null&&r.unshift(Na(t,i,s)),i=Ea(t,e),i!=null&&r.push(Na(t,i,s))),t=t.return}return r}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=Ea(n,i),u!=null&&o.unshift(Na(n,u,a))):s||(u=Ea(n,i),u!=null&&o.push(Na(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(AI,`
`).replace(NI,"")}function zl(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(U(425))}function Wc(){}var of=null,af=null;function lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(kI)}:cf;function kI(t){setTimeout(function(){throw t})}function rh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ba(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),In="__reactFiber$"+no,Ra="__reactProps$"+no,sr="__reactContainer$"+no,uf="__reactEvents$"+no,jI="__reactListeners$"+no,OI="__reactHandles$"+no;function Ts(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[In])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function rl(t){return t=t[In]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Vu(t){return t[Ra]||null}var df=[],vi=-1;function ls(t){return{current:t}}function Ne(t){0>vi||(t.current=df[vi],df[vi]=null,vi--)}function Se(t,e){vi++,df[vi]=t.current,t.current=e}var Jr={},Tt=ls(Jr),Lt=ls(!1),ks=Jr;function Vi(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(t){return t=t.childContextTypes,t!=null}function Hc(){Ne(Lt),Ne(Tt)}function Yv(t,e,n){if(Tt.current!==Jr)throw Error(U(168));Se(Tt,e),Se(Lt,n)}function tx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,yC(t)||"Unknown",s));return De({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,ks=Tt.current,Se(Tt,t),Se(Lt,Lt.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=tx(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,Ne(Lt),Ne(Tt),Se(Tt,t)):Ne(Lt),Se(Lt,n)}var Xn=null,$u=!1,sh=!1;function nx(t){Xn===null?Xn=[t]:Xn.push(t)}function DI(t){$u=!0,nx(t)}function cs(){if(!sh&&Xn!==null){sh=!0;var t=0,e=_e;try{var n=Xn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,$u=!1}catch(s){throw Xn!==null&&(Xn=Xn.slice(t+1)),I_(Mp,cs),s}finally{_e=e,sh=!1}}return null}var yi=[],wi=0,qc=null,Kc=0,Xt=[],Yt=0,js=null,Jn=1,Zn="";function _s(t,e){yi[wi++]=Kc,yi[wi++]=qc,qc=t,Kc=e}function rx(t,e,n){Xt[Yt++]=Jn,Xt[Yt++]=Zn,Xt[Yt++]=js,js=t;var r=Jn;t=Zn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jn=1<<32-fn(e)+s|n<<s|r,Zn=i+t}else Jn=1<<i|n<<s|r,Zn=t}function Hp(t){t.return!==null&&(_s(t,1),rx(t,1,0))}function Gp(t){for(;t===qc;)qc=yi[--wi],yi[wi]=null,Kc=yi[--wi],yi[wi]=null;for(;t===js;)js=Xt[--Yt],Xt[Yt]=null,Zn=Xt[--Yt],Xt[Yt]=null,Jn=Xt[--Yt],Xt[Yt]=null}var Ht=null,zt=null,Pe=!1,dn=null;function sx(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:Jn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ff(t){if(Pe){var e=zt;if(e){var n=e;if(!Zv(t,e)){if(hf(t))throw Error(U(418));e=Fr(n.nextSibling);var r=Ht;e&&Zv(t,e)?sx(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Ht=t)}}else{if(hf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Pe=!1,Ht=t}}}function ey(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Wl(t){if(t!==Ht)return!1;if(!Pe)return ey(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lf(t.type,t.memoizedProps)),e&&(e=zt)){if(hf(t))throw ix(),Error(U(418));for(;e;)sx(t,e),e=Fr(e.nextSibling)}if(ey(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?Fr(t.stateNode.nextSibling):null;return!0}function ix(){for(var t=zt;t;)t=Fr(t.nextSibling)}function $i(){zt=Ht=null,Pe=!1}function qp(t){dn===null?dn=[t]:dn.push(t)}var MI=fr.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Hl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ty(t){var e=t._init;return e(t._payload)}function ox(t){function e(w,y){if(t){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Wr(w,y),w.index=0,w.sibling=null,w}function i(w,y,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,T,N){return y===null||y.tag!==6?(y=dh(T,w.mode,N),y.return=w,y):(y=s(y,T),y.return=w,y)}function u(w,y,T,N){var O=T.type;return O===hi?h(w,y,T.props.children,N,T.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ir&&ty(O)===y.type)?(N=s(y,T.props),N.ref=$o(w,y,T),N.return=w,N):(N=xc(T.type,T.key,T.props,null,w.mode,N),N.ref=$o(w,y,T),N.return=w,N)}function d(w,y,T,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=hh(T,w.mode,N),y.return=w,y):(y=s(y,T.children||[]),y.return=w,y)}function h(w,y,T,N,O){return y===null||y.tag!==7?(y=Rs(T,w.mode,N,O),y.return=w,y):(y=s(y,T),y.return=w,y)}function f(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dh(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ol:return T=xc(y.type,y.key,y.props,null,w.mode,T),T.ref=$o(w,null,y),T.return=w,T;case di:return y=hh(y,w.mode,T),y.return=w,y;case Ir:var N=y._init;return f(w,N(y._payload),T)}if(qo(y)||Oo(y))return y=Rs(y,w.mode,T,null),y.return=w,y;Hl(w,y)}return null}function g(w,y,T,N){var O=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(w,y,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ol:return T.key===O?u(w,y,T,N):null;case di:return T.key===O?d(w,y,T,N):null;case Ir:return O=T._init,g(w,y,O(T._payload),N)}if(qo(T)||Oo(T))return O!==null?null:h(w,y,T,N,null);Hl(w,T)}return null}function x(w,y,T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(T)||null,a(y,w,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ol:return w=w.get(N.key===null?T:N.key)||null,u(y,w,N,O);case di:return w=w.get(N.key===null?T:N.key)||null,d(y,w,N,O);case Ir:var L=N._init;return x(w,y,T,L(N._payload),O)}if(qo(N)||Oo(N))return w=w.get(T)||null,h(y,w,N,O,null);Hl(y,N)}return null}function S(w,y,T,N){for(var O=null,L=null,b=y,_=y=0,A=null;b!==null&&_<T.length;_++){b.index>_?(A=b,b=null):A=b.sibling;var R=g(w,b,T[_],N);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(w,b),y=i(R,y,_),L===null?O=R:L.sibling=R,L=R,b=A}if(_===T.length)return n(w,b),Pe&&_s(w,_),O;if(b===null){for(;_<T.length;_++)b=f(w,T[_],N),b!==null&&(y=i(b,y,_),L===null?O=b:L.sibling=b,L=b);return Pe&&_s(w,_),O}for(b=r(w,b);_<T.length;_++)A=x(b,w,_,T[_],N),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?_:A.key),y=i(A,y,_),L===null?O=A:L.sibling=A,L=A);return t&&b.forEach(function(k){return e(w,k)}),Pe&&_s(w,_),O}function E(w,y,T,N){var O=Oo(T);if(typeof O!="function")throw Error(U(150));if(T=O.call(T),T==null)throw Error(U(151));for(var L=O=null,b=y,_=y=0,A=null,R=T.next();b!==null&&!R.done;_++,R=T.next()){b.index>_?(A=b,b=null):A=b.sibling;var k=g(w,b,R.value,N);if(k===null){b===null&&(b=A);break}t&&b&&k.alternate===null&&e(w,b),y=i(k,y,_),L===null?O=k:L.sibling=k,L=k,b=A}if(R.done)return n(w,b),Pe&&_s(w,_),O;if(b===null){for(;!R.done;_++,R=T.next())R=f(w,R.value,N),R!==null&&(y=i(R,y,_),L===null?O=R:L.sibling=R,L=R);return Pe&&_s(w,_),O}for(b=r(w,b);!R.done;_++,R=T.next())R=x(b,w,_,R.value,N),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?_:R.key),y=i(R,y,_),L===null?O=R:L.sibling=R,L=R);return t&&b.forEach(function(j){return e(w,j)}),Pe&&_s(w,_),O}function I(w,y,T,N){if(typeof T=="object"&&T!==null&&T.type===hi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ol:e:{for(var O=T.key,L=y;L!==null;){if(L.key===O){if(O=T.type,O===hi){if(L.tag===7){n(w,L.sibling),y=s(L,T.props.children),y.return=w,w=y;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ir&&ty(O)===L.type){n(w,L.sibling),y=s(L,T.props),y.ref=$o(w,L,T),y.return=w,w=y;break e}n(w,L);break}else e(w,L);L=L.sibling}T.type===hi?(y=Rs(T.props.children,w.mode,N,T.key),y.return=w,w=y):(N=xc(T.type,T.key,T.props,null,w.mode,N),N.ref=$o(w,y,T),N.return=w,w=N)}return o(w);case di:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(w,y.sibling),y=s(y,T.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=hh(T,w.mode,N),y.return=w,w=y}return o(w);case Ir:return L=T._init,I(w,y,L(T._payload),N)}if(qo(T))return S(w,y,T,N);if(Oo(T))return E(w,y,T,N);Hl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,T),y.return=w,w=y):(n(w,y),y=dh(T,w.mode,N),y.return=w,w=y),o(w)):n(w,y)}return I}var Fi=ox(!0),ax=ox(!1),Qc=ls(null),Xc=null,_i=null,Kp=null;function Qp(){Kp=_i=Xc=null}function Xp(t){var e=Qc.current;Ne(Qc),t._currentValue=e}function pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ii(t,e){Xc=t,Kp=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(Kp!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(Xc===null)throw Error(U(308));_i=t,Xc.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Ss=null;function Yp(t){Ss===null?Ss=[t]:Ss.push(t)}function lx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yp(e)):(n.next=s.next,s.next=n),e.interleaved=n,ir(t,r)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Jp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ir(t,n)}return s=r.interleaved,s===null?(e.next=e,Yp(r)):(e.next=s.next,s.next=e),r.interleaved=e,ir(t,n)}function mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function ny(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yc(t,e,n,r){var s=t.updateQueue;Ar=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=d=u=null,a=i;do{var g=a.lane,x=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(g=e,x=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){f=S.call(x,f,g);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,g=typeof S=="function"?S.call(x,f,g):S,g==null)break e;f=De({},f,g);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=x,u=f):h=h.next=x,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=f}}function ry(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var sl={},Pn=ls(sl),Pa=ls(sl),ka=ls(sl);function bs(t){if(t===sl)throw Error(U(174));return t}function Zp(t,e){switch(Se(ka,e),Se(Pa,t),Se(Pn,sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qh(e,t)}Ne(Pn),Se(Pn,e)}function Ui(){Ne(Pn),Ne(Pa),Ne(ka)}function ux(t){bs(ka.current);var e=bs(Pn.current),n=qh(e,t.type);e!==n&&(Se(Pa,t),Se(Pn,n))}function em(t){Pa.current===t&&(Ne(Pn),Ne(Pa))}var ke=ls(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ih=[];function tm(){for(var t=0;t<ih.length;t++)ih[t]._workInProgressVersionPrimary=null;ih.length=0}var gc=fr.ReactCurrentDispatcher,oh=fr.ReactCurrentBatchConfig,Os=0,Oe=null,Je=null,ot=null,Zc=!1,la=!1,ja=0,LI=0;function vt(){throw Error(U(321))}function nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function rm(t,e,n,r,s,i){if(Os=i,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gc.current=t===null||t.memoizedState===null?UI:BI,t=n(r,s),la){i=0;do{if(la=!1,ja=0,25<=i)throw Error(U(301));i+=1,ot=Je=null,e.updateQueue=null,gc.current=zI,t=n(r,s)}while(la)}if(gc.current=eu,e=Je!==null&&Je.next!==null,Os=0,ot=Je=Oe=null,Zc=!1,e)throw Error(U(300));return t}function sm(){var t=ja!==0;return ja=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Oe.memoizedState=ot=t:ot=ot.next=t,ot}function sn(){if(Je===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=ot===null?Oe.memoizedState:ot.next;if(e!==null)ot=e,Je=t;else{if(t===null)throw Error(U(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ot===null?Oe.memoizedState=ot=t:ot=ot.next=t}return ot}function Oa(t,e){return typeof e=="function"?e(t):e}function ah(t){var e=sn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var h=d.lane;if((Os&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Oe.lanes|=h,Ds|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,gn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Oe.lanes|=i,Ds|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lh(t){var e=sn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(Mt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dx(){}function hx(t,e){var n=Oe,r=sn(),s=e(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Mt=!0),r=r.queue,im(mx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Da(9,px.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(U(349));Os&30||fx(n,e,s)}return s}function fx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function px(t,e,n,r){e.value=n,e.getSnapshot=r,gx(e)&&vx(t)}function mx(t,e,n){return n(function(){gx(e)&&vx(t)})}function gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function vx(t){var e=ir(t,1);e!==null&&pn(e,t,1,-1)}function sy(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=FI.bind(null,Oe,t),[e.memoizedState,t]}function Da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yx(){return sn().memoizedState}function vc(t,e,n,r){var s=bn();Oe.flags|=t,s.memoizedState=Da(1|e,n,void 0,r===void 0?null:r)}function Fu(t,e,n,r){var s=sn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&nm(r,o.deps)){s.memoizedState=Da(e,n,i,r);return}}Oe.flags|=t,s.memoizedState=Da(1|e,n,i,r)}function iy(t,e){return vc(8390656,8,t,e)}function im(t,e){return Fu(2048,8,t,e)}function wx(t,e){return Fu(4,2,t,e)}function _x(t,e){return Fu(4,4,t,e)}function xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ex(t,e,n){return n=n!=null?n.concat([t]):null,Fu(4,4,xx.bind(null,e,t),n)}function om(){}function Tx(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sx(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bx(t,e,n){return Os&21?(gn(n,e)||(n=R_(),Oe.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function VI(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=oh.transition;oh.transition={};try{t(!1),e()}finally{_e=n,oh.transition=r}}function Cx(){return sn().memoizedState}function $I(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ix(t))Ax(e,n);else if(n=lx(t,e,n,r),n!==null){var s=At();pn(n,t,r,s),Nx(n,e,r)}}function FI(t,e,n){var r=zr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ix(t))Ax(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gn(a,o)){var u=e.interleaved;u===null?(s.next=s,Yp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=lx(t,e,s,r),n!==null&&(s=At(),pn(n,t,r,s),Nx(n,e,r))}}function Ix(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Ax(t,e){la=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var eu={readContext:rn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},UI={readContext:rn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4194308,4,xx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$I.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:sy,useDebugValue:om,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=sy(!1),e=t[0];return t=VI.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=bn();if(Pe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),lt===null)throw Error(U(349));Os&30||fx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,iy(mx.bind(null,r,i,t),[t]),r.flags|=2048,Da(9,px.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bn(),e=lt.identifierPrefix;if(Pe){var n=Zn,r=Jn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BI={readContext:rn,useCallback:Tx,useContext:rn,useEffect:im,useImperativeHandle:Ex,useInsertionEffect:wx,useLayoutEffect:_x,useMemo:Sx,useReducer:ah,useRef:yx,useState:function(){return ah(Oa)},useDebugValue:om,useDeferredValue:function(t){var e=sn();return bx(e,Je.memoizedState,t)},useTransition:function(){var t=ah(Oa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:hx,useId:Cx,unstable_isNewReconciler:!1},zI={readContext:rn,useCallback:Tx,useContext:rn,useEffect:im,useImperativeHandle:Ex,useInsertionEffect:wx,useLayoutEffect:_x,useMemo:Sx,useReducer:lh,useRef:yx,useState:function(){return lh(Oa)},useDebugValue:om,useDeferredValue:function(t){var e=sn();return Je===null?e.memoizedState=t:bx(e,Je.memoizedState,t)},useTransition:function(){var t=lh(Oa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:hx,useId:Cx,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uu={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),s=zr(t),i=nr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(pn(e,t,s,r),mc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),s=zr(t),i=nr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(pn(e,t,s,r),mc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=zr(t),s=nr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,r),e!==null&&(pn(e,t,r,n),mc(e,t,r))}};function oy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ia(n,r)||!Ia(s,i):!0}function Rx(t,e,n){var r=!1,s=Jr,i=e.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=Vt(e)?ks:Tt.current,r=e.contextTypes,i=(r=r!=null)?Vi(t,s):Jr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ay(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uu.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=Vt(e)?ks:Tt.current,s.context=Vi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Uu.enqueueReplaceState(s,s.state,null),Yc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",r=e;do n+=vC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WI=typeof WeakMap=="function"?WeakMap:Map;function Px(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nu||(nu=!0,If=r),vf(t,e)},n}function kx(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vf(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ly(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sA.bind(null,t,e,n),e.then(t,t))}function cy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var HI=fr.ReactCurrentOwner,Mt=!1;function It(t,e,n,r){e.child=t===null?ax(e,null,n,r):Fi(e,t.child,n,r)}function dy(t,e,n,r,s){n=n.render;var i=e.ref;return Ii(e,s),r=rm(t,e,n,r,i,s),n=sm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(Pe&&n&&Hp(e),e.flags|=1,It(t,e,r,s),e.child)}function hy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jx(t,e,i,r,s)):(t=xc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(o,r)&&t.ref===e.ref)return or(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function jx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ia(i,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,or(t,e,s)}return yf(t,e,n,r,s)}function Ox(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ei,Ut),Ut|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ei,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(Ei,Ut),Ut|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(Ei,Ut),Ut|=r;return It(t,e,s,n),e.child}function Dx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yf(t,e,n,r,s){var i=Vt(n)?ks:Tt.current;return i=Vi(e,i),Ii(e,s),n=rm(t,e,n,r,i,s),r=sm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(Pe&&r&&Hp(e),e.flags|=1,It(t,e,n,s),e.child)}function fy(t,e,n,r,s){if(Vt(n)){var i=!0;Gc(e)}else i=!1;if(Ii(e,s),e.stateNode===null)yc(t,e),Rx(e,n,r),gf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=rn(d):(d=Vt(n)?ks:Tt.current,d=Vi(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&ay(e,o,r,d),Ar=!1;var g=e.memoizedState;o.state=g,Yc(e,r,o,s),u=e.memoizedState,a!==r||g!==u||Lt.current||Ar?(typeof h=="function"&&(mf(e,n,h,r),u=e.memoizedState),(a=Ar||oy(e,n,a,r,g,u,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cx(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:cn(e.type,a),o.props=d,f=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Vt(n)?ks:Tt.current,u=Vi(e,u));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==u)&&ay(e,o,r,u),Ar=!1,g=e.memoizedState,o.state=g,Yc(e,r,o,s);var S=e.memoizedState;a!==f||g!==S||Lt.current||Ar?(typeof x=="function"&&(mf(e,n,x,r),S=e.memoizedState),(d=Ar||oy(e,n,d,r,g,S,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,i,s)}function wf(t,e,n,r,s,i){Dx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jv(e,n,!1),or(t,e,i);r=e.stateNode,HI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fi(e,t.child,null,i),e.child=Fi(e,null,a,i)):It(t,e,a,i),e.memoizedState=r.state,s&&Jv(e,n,!0),e.child}function Mx(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),Zp(t,e.containerInfo)}function py(t,e,n,r,s){return $i(),qp(s),e.flags|=256,It(t,e,n,r),e.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lx(t,e,n){var r=e.pendingProps,s=ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(ke,s&1),t===null)return ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wu(o,r,0,null),t=Rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xf(n),e.memoizedState=_f,t):am(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return GI(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Wr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Rs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_f,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=Wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gl(t,e,n,r){return r!==null&&qp(r),Fi(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ch(Error(U(422))),Gl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wu({mode:"visible",children:r.children},s,0,null),i=Rs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fi(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=_f,i);if(!(e.mode&1))return Gl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=ch(i,r,void 0),Gl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mt||a){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ir(t,s),pn(r,t,s,-1))}return fm(),r=ch(Error(U(421))),Gl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zt=Fr(s.nextSibling),Ht=e,Pe=!0,dn=null,t!==null&&(Xt[Yt++]=Jn,Xt[Yt++]=Zn,Xt[Yt++]=js,Jn=t.id,Zn=t.overflow,js=e),e=am(e,r.children),e.flags|=4096,e)}function my(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pf(t.return,e,n)}function uh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Vx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,n,e);else if(t.tag===19)my(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uh(e,!0,n,null,i);break;case"together":uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qI(t,e,n){switch(e.tag){case 3:Mx(e),$i();break;case 5:ux(e);break;case 1:Vt(e.type)&&Gc(e);break;case 4:Zp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(Qc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?Lx(t,e,n):(Se(ke,ke.current&1),t=or(t,e,n),t!==null?t.sibling:null);Se(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Ox(t,e,n)}return or(t,e,n)}var $x,Ef,Fx,Ux;$x=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ef=function(){};Fx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bs(Pn.current);var i=null;switch(n){case"input":s=zh(t,s),r=zh(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=Gh(t,s),r=Gh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}Kh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_a.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_a.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ie("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Ux=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KI(t,e,n){var r=e.pendingProps;switch(Gp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Vt(e.type)&&Hc(),yt(e),null;case 3:return r=e.stateNode,Ui(),Ne(Lt),Ne(Tt),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Rf(dn),dn=null))),Ef(t,e),yt(e),null;case 5:em(e);var s=bs(ka.current);if(n=e.type,t!==null&&e.stateNode!=null)Fx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return yt(e),null}if(t=bs(Pn.current),Wl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[In]=e,r[Ra]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Qo.length;s++)Ie(Qo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Sv(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":Cv(r,i),Ie("invalid",r)}Kh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zl(r.textContent,a,t),s=["children",""+a]):_a.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Dl(r),bv(r,i,!0);break;case"textarea":Dl(r),Iv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[In]=e,t[Ra]=r,$x(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qh(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qo.length;s++)Ie(Qo[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Sv(t,r),s=zh(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Cv(t,r),s=Gh(t,r),Ie("invalid",t);break;default:s=r}Kh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?y_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&g_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xa(t,u):typeof u=="number"&&xa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_a.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ie("scroll",t):u!=null&&Pp(t,i,u,o))}switch(n){case"input":Dl(t),bv(t,r,!1);break;case"textarea":Dl(t),Iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ti(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)Ux(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=bs(ka.current),bs(Pn.current),Wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(i=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return yt(e),null;case 13:if(Ne(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&zt!==null&&e.mode&1&&!(e.flags&128))ix(),$i(),e.flags|=98560,i=!1;else if(i=Wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[In]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),i=!1}else dn!==null&&(Rf(dn),dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?et===0&&(et=3):fm())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Ui(),Ef(t,e),t===null&&Aa(e.stateNode.containerInfo),yt(e),null;case 10:return Xp(e.type._context),yt(e),null;case 17:return Vt(e.type)&&Hc(),yt(e),null;case 19:if(Ne(ke),i=e.memoizedState,i===null)return yt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fo(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,Fo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(ke,ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>zi&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return yt(e),null}else 2*Be()-i.renderingStartTime>zi&&n!==1073741824&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=ke.current,Se(ke,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return hm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function QI(t,e){switch(Gp(e),e.tag){case 1:return Vt(e.type)&&Hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),Ne(Lt),Ne(Tt),tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return em(e),null;case 13:if(Ne(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(ke),null;case 4:return Ui(),null;case 10:return Xp(e.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var ql=!1,xt=!1,XI=typeof WeakSet=="function"?WeakSet:Set,H=null;function xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Tf(t,e,n){try{n()}catch(r){$e(t,e,r)}}var gy=!1;function YI(t,e){if(of=Uc,t=G_(),Wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,h=0,f=t,g=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)g=f,f=x;for(;;){if(f===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++h===r&&(u=o),(x=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=x}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:t,selectionRange:n},Uc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,I=S.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:cn(e.type,E),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){$e(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return S=gy,gy=!1,S}function ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tf(e,n,i)}s=s.next}while(s!==r)}}function Bu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bx(t){var e=t.alternate;e!==null&&(t.alternate=null,Bx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Ra],delete e[uf],delete e[jI],delete e[OI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zx(t){return t.tag===5||t.tag===3||t.tag===4}function vy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}var ut=null,un=!1;function Tr(t,e,n){for(n=n.child;n!==null;)Wx(t,e,n),n=n.sibling}function Wx(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:xt||xi(n,e);case 6:var r=ut,s=un;ut=null,Tr(t,e,n),ut=r,un=s,ut!==null&&(un?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(un?(t=ut,n=n.stateNode,t.nodeType===8?rh(t.parentNode,n):t.nodeType===1&&rh(t,n),ba(t)):rh(ut,n.stateNode));break;case 4:r=ut,s=un,ut=n.stateNode.containerInfo,un=!0,Tr(t,e,n),ut=r,un=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tf(n,e,o),s=s.next}while(s!==r)}Tr(t,e,n);break;case 1:if(!xt&&(xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Tr(t,e,n),xt=r):Tr(t,e,n);break;default:Tr(t,e,n)}}function yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XI),e.forEach(function(r){var s=oA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,un=!1;break e;case 3:ut=a.stateNode.containerInfo,un=!0;break e;case 4:ut=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(ut===null)throw Error(U(160));Wx(i,o,s),ut=null,un=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){$e(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hx(e,t),e=e.sibling}function Hx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),Tn(t),r&4){try{ca(3,t,t.return),Bu(3,t)}catch(E){$e(t,t.return,E)}try{ca(5,t,t.return)}catch(E){$e(t,t.return,E)}}break;case 1:an(e,t),Tn(t),r&512&&n!==null&&xi(n,n.return);break;case 5:if(an(e,t),Tn(t),r&512&&n!==null&&xi(n,n.return),t.flags&32){var s=t.stateNode;try{xa(s,"")}catch(E){$e(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&f_(s,i),Qh(a,o);var d=Qh(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?y_(s,f):h==="dangerouslySetInnerHTML"?g_(s,f):h==="children"?xa(s,f):Pp(s,h,f,d)}switch(a){case"input":Wh(s,i);break;case"textarea":p_(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ti(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ti(s,!!i.multiple,i.defaultValue,!0):Ti(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ra]=i}catch(E){$e(t,t.return,E)}}break;case 6:if(an(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){$e(t,t.return,E)}}break;case 3:if(an(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(e.containerInfo)}catch(E){$e(t,t.return,E)}break;case 4:an(e,t),Tn(t);break;case 13:an(e,t),Tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(um=Be())),r&4&&yy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(d=xt)||h,an(e,t),xt=d):an(e,t),Tn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(g=H,x=g.child,g.tag){case 0:case 11:case 14:case 15:ca(4,g,g.return);break;case 1:xi(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){$e(r,n,E)}}break;case 5:xi(g,g.return);break;case 22:if(g.memoizedState!==null){_y(f);continue}}x!==null?(x.return=g,H=x):_y(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=v_("display",o))}catch(E){$e(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(E){$e(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(e,t),Tn(t),r&4&&yy(t);break;case 21:break;default:an(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zx(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xa(s,""),r.flags&=-33);var i=vy(t);Cf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vy(t);bf(t,a,o);break;default:throw Error(U(161))}}catch(u){$e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JI(t,e,n){H=t,Gx(t)}function Gx(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ql;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||xt;a=ql;var d=xt;if(ql=o,(xt=u)&&!d)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?xy(s):u!==null?(u.return=o,H=u):xy(s);for(;i!==null;)H=i,Gx(i),i=i.sibling;H=s,ql=a,xt=d}wy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):wy(t)}}function wy(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Bu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ry(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ry(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}xt||e.flags&512&&Sf(e)}catch(g){$e(e,e.return,g)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function _y(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function xy(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bu(4,e)}catch(u){$e(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){$e(e,s,u)}}var i=e.return;try{Sf(e)}catch(u){$e(e,i,u)}break;case 5:var o=e.return;try{Sf(e)}catch(u){$e(e,o,u)}}}catch(u){$e(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var ZI=Math.ceil,tu=fr.ReactCurrentDispatcher,lm=fr.ReactCurrentOwner,nn=fr.ReactCurrentBatchConfig,pe=0,lt=null,Ge=null,ft=0,Ut=0,Ei=ls(0),et=0,Ma=null,Ds=0,zu=0,cm=0,ua=null,jt=null,um=0,zi=1/0,Kn=null,nu=!1,If=null,Br=null,Kl=!1,Dr=null,ru=0,da=0,Af=null,wc=-1,_c=0;function At(){return pe&6?Be():wc!==-1?wc:wc=Be()}function zr(t){return t.mode&1?pe&2&&ft!==0?ft&-ft:MI.transition!==null?(_c===0&&(_c=R_()),_c):(t=_e,t!==0||(t=window.event,t=t===void 0?16:L_(t.type)),t):1}function pn(t,e,n,r){if(50<da)throw da=0,Af=null,Error(U(185));tl(t,n,r),(!(pe&2)||t!==lt)&&(t===lt&&(!(pe&2)&&(zu|=n),et===4&&Rr(t,ft)),$t(t,r),n===1&&pe===0&&!(e.mode&1)&&(zi=Be()+500,$u&&cs()))}function $t(t,e){var n=t.callbackNode;MC(t,e);var r=Fc(t,t===lt?ft:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?DI(Ey.bind(null,t)):nx(Ey.bind(null,t)),PI(function(){!(pe&6)&&cs()}),n=null;else{switch(P_(r)){case 1:n=Mp;break;case 4:n=A_;break;case 16:n=$c;break;case 536870912:n=N_;break;default:n=$c}n=e1(n,qx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qx(t,e){if(wc=-1,_c=0,pe&6)throw Error(U(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Fc(t,t===lt?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=su(t,r);else{e=r;var s=pe;pe|=2;var i=Qx();(lt!==t||ft!==e)&&(Kn=null,zi=Be()+500,Ns(t,e));do try{nA();break}catch(a){Kx(t,a)}while(1);Qp(),tu.current=i,pe=s,Ge!==null?e=0:(lt=null,ft=0,e=et)}if(e!==0){if(e===2&&(s=ef(t),s!==0&&(r=s,e=Nf(t,s))),e===1)throw n=Ma,Ns(t,0),Rr(t,r),$t(t,Be()),n;if(e===6)Rr(t,r);else{if(s=t.current.alternate,!(r&30)&&!eA(s)&&(e=su(t,r),e===2&&(i=ef(t),i!==0&&(r=i,e=Nf(t,i))),e===1))throw n=Ma,Ns(t,0),Rr(t,r),$t(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:xs(t,jt,Kn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=um+500-Be(),10<e)){if(Fc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cf(xs.bind(null,t,jt,Kn),e);break}xs(t,jt,Kn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZI(r/1960))-r,10<r){t.timeoutHandle=cf(xs.bind(null,t,jt,Kn),r);break}xs(t,jt,Kn);break;case 5:xs(t,jt,Kn);break;default:throw Error(U(329))}}}return $t(t,Be()),t.callbackNode===n?qx.bind(null,t):null}function Nf(t,e){var n=ua;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=su(t,e),t!==2&&(e=jt,jt=n,e!==null&&Rf(e)),t}function Rf(t){jt===null?jt=t:jt.push.apply(jt,t)}function eA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~cm,e&=~zu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ey(t){if(pe&6)throw Error(U(327));Ai();var e=Fc(t,0);if(!(e&1))return $t(t,Be()),null;var n=su(t,e);if(t.tag!==0&&n===2){var r=ef(t);r!==0&&(e=r,n=Nf(t,r))}if(n===1)throw n=Ma,Ns(t,0),Rr(t,e),$t(t,Be()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,jt,Kn),$t(t,Be()),null}function dm(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(zi=Be()+500,$u&&cs())}}function Ms(t){Dr!==null&&Dr.tag===0&&!(pe&6)&&Ai();var e=pe;pe|=1;var n=nn.transition,r=_e;try{if(nn.transition=null,_e=1,t)return t()}finally{_e=r,nn.transition=n,pe=e,!(pe&6)&&cs()}}function hm(){Ut=Ei.current,Ne(Ei)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RI(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Ui(),Ne(Lt),Ne(Tt),tm();break;case 5:em(r);break;case 4:Ui();break;case 13:Ne(ke);break;case 19:Ne(ke);break;case 10:Xp(r.type._context);break;case 22:case 23:hm()}n=n.return}if(lt=t,Ge=t=Wr(t.current,null),ft=Ut=e,et=0,Ma=null,cm=zu=Ds=0,jt=ua=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ss=null}return t}function Kx(t,e){do{var n=Ge;try{if(Qp(),gc.current=eu,Zc){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}if(Os=0,ot=Je=Oe=null,la=!1,ja=0,lm.current=null,n===null||n.return===null){et=1,Ma=e,Ge=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=cy(o);if(x!==null){x.flags&=-257,uy(x,o,a,i,e),x.mode&1&&ly(i,d,e),e=x,u=d;var S=e.updateQueue;if(S===null){var E=new Set;E.add(u),e.updateQueue=E}else S.add(u);break e}else{if(!(e&1)){ly(i,d,e),fm();break e}u=Error(U(426))}}else if(Pe&&a.mode&1){var I=cy(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),uy(I,o,a,i,e),qp(Bi(u,a));break e}}i=u=Bi(u,a),et!==4&&(et=2),ua===null?ua=[i]:ua.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Px(i,u,e);ny(i,w);break e;case 1:a=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Br===null||!Br.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=kx(i,a,e);ny(i,N);break e}}i=i.return}while(i!==null)}Yx(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function Qx(){var t=tu.current;return tu.current=eu,t===null?eu:t}function fm(){(et===0||et===3||et===2)&&(et=4),lt===null||!(Ds&268435455)&&!(zu&268435455)||Rr(lt,ft)}function su(t,e){var n=pe;pe|=2;var r=Qx();(lt!==t||ft!==e)&&(Kn=null,Ns(t,e));do try{tA();break}catch(s){Kx(t,s)}while(1);if(Qp(),pe=n,tu.current=r,Ge!==null)throw Error(U(261));return lt=null,ft=0,et}function tA(){for(;Ge!==null;)Xx(Ge)}function nA(){for(;Ge!==null&&!IC();)Xx(Ge)}function Xx(t){var e=Zx(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?Yx(t):Ge=e,lm.current=null}function Yx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QI(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ge=null;return}}else if(n=KI(n,e,Ut),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);et===0&&(et=5)}function xs(t,e,n){var r=_e,s=nn.transition;try{nn.transition=null,_e=1,rA(t,e,n,r)}finally{nn.transition=s,_e=r}return null}function rA(t,e,n,r){do Ai();while(Dr!==null);if(pe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(LC(t,i),t===lt&&(Ge=lt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kl||(Kl=!0,e1($c,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var o=_e;_e=1;var a=pe;pe|=4,lm.current=null,YI(t,n),Hx(n,t),TI(af),Uc=!!of,af=of=null,t.current=n,JI(n),AC(),pe=a,_e=o,nn.transition=i}else t.current=n;if(Kl&&(Kl=!1,Dr=t,ru=s),i=t.pendingLanes,i===0&&(Br=null),PC(n.stateNode),$t(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nu)throw nu=!1,t=If,If=null,t;return ru&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===Af?da++:(da=0,Af=t):da=0,cs(),null}function Ai(){if(Dr!==null){var t=P_(ru),e=nn.transition,n=_e;try{if(nn.transition=null,_e=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,ru=0,pe&6)throw Error(U(331));var s=pe;for(pe|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(H=d;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ca(8,h,i)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var g=h.sibling,x=h.return;if(Bx(h),h===d){H=null;break}if(g!==null){g.return=x,H=g;break}H=x}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ca(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,H=w;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bu(9,a)}}catch(O){$e(a,a.return,O)}if(a===o){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(pe=s,cs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ou,t)}catch{}r=!0}return r}finally{_e=n,nn.transition=e}}return!1}function Ty(t,e,n){e=Bi(n,e),e=Px(t,e,1),t=Ur(t,e,1),e=At(),t!==null&&(tl(t,1,e),$t(t,e))}function $e(t,e,n){if(t.tag===3)Ty(t,t,n);else for(;e!==null;){if(e.tag===3){Ty(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Bi(n,t),t=kx(e,t,1),e=Ur(e,t,1),t=At(),e!==null&&(tl(e,1,t),$t(e,t));break}}e=e.return}}function sA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Be()-um?Ns(t,0):cm|=n),$t(t,e)}function Jx(t,e){e===0&&(t.mode&1?(e=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):e=1);var n=At();t=ir(t,e),t!==null&&(tl(t,e,n),$t(t,n))}function iA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jx(t,n)}function oA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Jx(t,n)}var Zx;Zx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,qI(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Pe&&e.flags&1048576&&rx(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yc(t,e),t=e.pendingProps;var s=Vi(e,Tt.current);Ii(e,n),s=rm(null,e,r,t,s,n);var i=sm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(i=!0,Gc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jp(e),s.updater=Uu,e.stateNode=s,s._reactInternals=e,gf(e,r,t,n),e=wf(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Hp(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lA(r),t=cn(r,t),s){case 0:e=yf(null,e,r,t,n);break e;case 1:e=fy(null,e,r,t,n);break e;case 11:e=dy(null,e,r,t,n);break e;case 14:e=hy(null,e,r,cn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),yf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),fy(t,e,r,s,n);case 3:e:{if(Mx(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,cx(t,e),Yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bi(Error(U(423)),e),e=py(t,e,r,n,s);break e}else if(r!==s){s=Bi(Error(U(424)),e),e=py(t,e,r,n,s);break e}else for(zt=Fr(e.stateNode.containerInfo.firstChild),Ht=e,Pe=!0,dn=null,n=ax(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),r===s){e=or(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return ux(e),t===null&&ff(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lf(r,s)?o=null:i!==null&&lf(r,i)&&(e.flags|=32),Dx(t,e),It(t,e,o,n),e.child;case 6:return t===null&&ff(e),null;case 13:return Lx(t,e,n);case 4:return Zp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fi(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),dy(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(Qc,r._currentValue),r._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!Lt.current){e=or(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=nr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),pf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ii(e,n),s=rn(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=cn(r,e.pendingProps),s=cn(r.type,s),hy(t,e,r,s,n);case 15:return jx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),yc(t,e),e.tag=1,Vt(r)?(t=!0,Gc(e)):t=!1,Ii(e,n),Rx(e,r,s),gf(e,r,s,n),wf(null,e,r,!0,t,n);case 19:return Vx(t,e,n);case 22:return Ox(t,e,n)}throw Error(U(156,e.tag))};function e1(t,e){return I_(t,e)}function aA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new aA(t,e,n,r)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lA(t){if(typeof t=="function")return pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jp)return 11;if(t===Op)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hi:return Rs(n.children,s,i,e);case kp:o=8,s|=8;break;case $h:return t=Zt(12,n,e,s|2),t.elementType=$h,t.lanes=i,t;case Fh:return t=Zt(13,n,e,s),t.elementType=Fh,t.lanes=i,t;case Uh:return t=Zt(19,n,e,s),t.elementType=Uh,t.lanes=i,t;case u_:return Wu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l_:o=10;break e;case c_:o=9;break e;case jp:o=11;break e;case Op:o=14;break e;case Ir:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rs(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function Wu(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=u_,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function hh(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mm(t,e,n,r,s,i,o,a,u){return t=new cA(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(i),t}function uA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t1(t){if(!t)return Jr;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Vt(n))return tx(t,n,e)}return e}function n1(t,e,n,r,s,i,o,a,u){return t=mm(n,r,!0,t,s,i,o,a,u),t.context=t1(null),n=t.current,r=At(),s=zr(n),i=nr(r,s),i.callback=e??null,Ur(n,i,s),t.current.lanes=s,tl(t,s,r),$t(t,r),t}function Hu(t,e,n,r){var s=e.current,i=At(),o=zr(s);return n=t1(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(s,e,o),t!==null&&(pn(t,s,o,i),mc(t,s,o)),o}function iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gm(t,e){Sy(t,e),(t=t.alternate)&&Sy(t,e)}function dA(){return null}var r1=typeof reportError=="function"?reportError:function(t){console.error(t)};function vm(t){this._internalRoot=t}Gu.prototype.render=vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Hu(t,e,null,null)};Gu.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){Hu(null,t,null,null)}),e[sr]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=O_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&M_(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function by(){}function hA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=iu(o);i.call(d)}}var o=n1(e,r,t,0,null,!1,!1,"",by);return t._reactRootContainer=o,t[sr]=o.current,Aa(t.nodeType===8?t.parentNode:t),Ms(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=iu(u);a.call(d)}}var u=mm(t,0,!1,null,null,!1,!1,"",by);return t._reactRootContainer=u,t[sr]=u.current,Aa(t.nodeType===8?t.parentNode:t),Ms(function(){Hu(e,u,n,r)}),u}function Ku(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=iu(o);a.call(u)}}Hu(e,o,t,s)}else o=hA(n,e,t,s,r);return iu(o)}k_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(Lp(e,n|1),$t(e,Be()),!(pe&6)&&(zi=Be()+500,cs()))}break;case 13:Ms(function(){var r=ir(t,1);if(r!==null){var s=At();pn(r,t,1,s)}}),gm(t,1)}};Vp=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=At();pn(e,t,134217728,n)}gm(t,134217728)}};j_=function(t){if(t.tag===13){var e=zr(t),n=ir(t,e);if(n!==null){var r=At();pn(n,t,e,r)}gm(t,e)}};O_=function(){return _e};D_=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Yh=function(t,e,n){switch(e){case"input":if(Wh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vu(r);if(!s)throw Error(U(90));h_(r),Wh(r,s)}}}break;case"textarea":p_(t,n);break;case"select":e=n.value,e!=null&&Ti(t,!!n.multiple,e,!1)}};x_=dm;E_=Ms;var fA={usingClientEntryPoint:!1,Events:[rl,gi,Vu,w_,__,dm]},Uo={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pA={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b_(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||dA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Ou=Ql.inject(pA),Rn=Ql}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(U(200));return uA(t,e,null,n)};Kt.createRoot=function(t,e){if(!ym(t))throw Error(U(299));var n=!1,r="",s=r1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mm(t,1,!1,null,null,n,!1,r,s),t[sr]=e.current,Aa(t.nodeType===8?t.parentNode:t),new vm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=b_(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Ms(t)};Kt.hydrate=function(t,e,n){if(!qu(e))throw Error(U(200));return Ku(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=r1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=n1(e,null,t,1,n??null,s,!1,i,o),t[sr]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gu(e)};Kt.render=function(t,e,n){if(!qu(e))throw Error(U(200));return Ku(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!qu(t))throw Error(U(40));return t._reactRootContainer?(Ms(function(){Ku(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};Kt.unstable_batchedUpdates=dm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Ku(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function s1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s1)}catch(t){console.error(t)}}s1(),s_.exports=Kt;var ro=s_.exports;const mA=Gw(ro);var Cy=ro;Lh.createRoot=Cy.createRoot,Lh.hydrateRoot=Cy.hydrateRoot;function Iy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gA(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Iy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Iy(t[s],null)}}}}function ou(t){const e=yA(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),u=a.find(_A);if(u){const d=u.props.children,h=a.map(f=>f===u?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var vA=ou("Slot");function yA(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=EA(s),a=xA(i,s.props);return s.type!==m.Fragment&&(a.ref=r?gA(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wA=Symbol("radix.slottable");function _A(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wA}function xA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function i1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=i1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function o1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=i1(t))&&(r&&(r+=" "),r+=e);return r}const Ay=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ny=o1,a1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ny(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const g=Ay(h)||Ay(f);return s[d][g]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,g]=h;return g===void 0||(d[f]=g),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:g,...x}=h;return Object.entries(x).every(S=>{let[E,I]=S;return Array.isArray(I)?I.includes({...i,...a}[E]):{...i,...a}[E]===I})?[...d,f,g]:d},[]);return Ny(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};function TA(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=l1(e))&&(r&&(r+=" "),r+=n);return r}function l1(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=l1(t[r]))&&(n&&(n+=" "),n+=e);return n}var wm="-";function SA(t){var e=CA(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(a){var u=a.split(wm);return u[0]===""&&u.length!==1&&u.shift(),c1(u,e)||bA(a)}function o(a,u){var d=n[a]||[];return u&&s[a]?[].concat(d,s[a]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function c1(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?c1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var i=t.join(wm);return(o=e.validators.find(function(a){var u=a.validator;return u(i)}))==null?void 0:o.classGroupId}}var Ry=/^\[(.+)\]$/;function bA(t){if(Ry.test(t)){var e=Ry.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function CA(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=AA(Object.entries(t.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];Pf(a,r,o,e)}),r}function Pf(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var i=s===""?e:Py(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(IA(s)){Pf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],u=o[1];Pf(u,Py(e,a),n,r)})})}function Py(t,e){var n=t;return e.split(wm).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function IA(t){return t.isThemeGetter}function AA(t,e){return e?t.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var u=a[0],d=a[1];return[e+u,d]})):o});return[r,i]}):t}function NA(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var u1="!";function RA(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(o){for(var a=[],u=0,d=0,h,f=0;f<o.length;f++){var g=o[f];if(u===0){if(g===r&&(n||o.slice(f,f+s)===e)){a.push(o.slice(d,f)),d=f+s;continue}if(g==="/"){h=f;continue}}g==="["?u++:g==="]"&&u--}var x=a.length===0?o:o.substring(d),S=x.startsWith(u1),E=S?x.substring(1):x,I=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:I}}}function PA(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function kA(t){return{cache:NA(t.cacheSize),splitModifiers:RA(t),...SA(t)}}var jA=/\s+/;function OA(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(jA).map(function(o){var a=n(o),u=a.modifiers,d=a.hasImportantModifier,h=a.baseClassName,f=a.maybePostfixModifierPosition,g=r(f?h.substring(0,f):h),x=!!f;if(!g){if(!f)return{isTailwindClass:!1,originalClassName:o};if(g=r(h),!g)return{isTailwindClass:!1,originalClassName:o};x=!1}var S=PA(u).join(":"),E=d?S+u1:S;return{isTailwindClass:!0,modifierId:E,classGroupId:g,originalClassName:o,hasPostfixModifier:x}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,u=o.classGroupId,d=o.hasPostfixModifier,h=a+u;return i.has(h)?!1:(i.add(h),s(u,d).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function DA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,i,o=a;function a(d){var h=e[0],f=e.slice(1),g=f.reduce(function(x,S){return S(x)},h());return r=kA(g),s=r.cache.get,i=r.cache.set,o=u,u(d)}function u(d){var h=s(d);if(h)return h;var f=OA(d,r);return i(d,f),f}return function(){return o(TA.apply(null,arguments))}}function Ce(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var d1=/^\[(?:([a-z-]+):)?(.+)\]$/i,MA=/^\d+\/\d+$/,LA=new Set(["px","full","screen"]),VA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$A=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FA=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ln(t){return Cs(t)||LA.has(t)||MA.test(t)||kf(t)}function kf(t){return Qs(t,"length",GA)}function UA(t){return Qs(t,"size",h1)}function BA(t){return Qs(t,"position",h1)}function zA(t){return Qs(t,"url",qA)}function Xl(t){return Qs(t,"number",Cs)}function Cs(t){return!Number.isNaN(Number(t))}function WA(t){return t.endsWith("%")&&Cs(t.slice(0,-1))}function Bo(t){return ky(t)||Qs(t,"number",ky)}function le(t){return d1.test(t)}function zo(){return!0}function Sr(t){return VA.test(t)}function HA(t){return Qs(t,"",KA)}function Qs(t,e,n){var r=d1.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function GA(t){return $A.test(t)}function h1(){return!1}function qA(t){return t.startsWith("url(")}function ky(t){return Number.isInteger(Number(t))}function KA(t){return FA.test(t)}function QA(){var t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),u=Ce("contrast"),d=Ce("grayscale"),h=Ce("hueRotate"),f=Ce("invert"),g=Ce("gap"),x=Ce("gradientColorStops"),S=Ce("gradientColorStopPositions"),E=Ce("inset"),I=Ce("margin"),w=Ce("opacity"),y=Ce("padding"),T=Ce("saturate"),N=Ce("scale"),O=Ce("sepia"),L=Ce("skew"),b=Ce("space"),_=Ce("translate"),A=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",le,e]},j=function(){return[le,e]},P=function(){return["",ln]},Q=function(){return["auto",Cs,le]},ie=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ee=function(){return["solid","dashed","dotted","double","none"]},me=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},V=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",le]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},oe=function(){return[Cs,Xl]},fe=function(){return[Cs,le]};return{cacheSize:500,theme:{colors:[zo],spacing:[ln],blur:["none","",Sr,le],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Sr,le],borderSpacing:j(),borderWidth:P(),contrast:oe(),grayscale:z(),hueRotate:fe(),invert:z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[WA,kf],inset:k(),margin:k(),opacity:oe(),padding:j(),saturate:oe(),scale:oe(),sepia:z(),skew:fe(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ie(),[le])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bo]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Bo]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",Bo]},le]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[Bo]},le]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(V())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(V(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(V(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",le,e]}],"min-w":[{"min-w":["min","max","fit",le,ln]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Sr]},Sr,le]}],h:[{h:[le,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",le,ln]}],"max-h":[{"max-h":[le,e,"min","max","fit"]}],"font-size":[{text:["base",Sr,kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xl]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Cs,Xl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",le,ln]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ee(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ln]}],"underline-offset":[{"underline-offset":["auto",le,ln]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ie(),[BA])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(ee(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(ee())}],"outline-offset":[{"outline-offset":[le,ln]}],"outline-w":[{outline:[ln]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ln]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sr,HA]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":me()}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Sr,le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Bo,le]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ln,Xl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var XA=DA(QA);function Ke(...t){return XA(o1(t))}const YA=a1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ni=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?vA:"button";return l.jsx(o,{className:Ke(YA({variant:e,size:n,className:t})),ref:i,...s})});Ni.displayName="Button";const Xo=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xo.displayName="Card";const JA=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));JA.displayName="CardHeader";const ZA=m.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));ZA.displayName="CardTitle";const eN=m.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Ke("text-sm text-muted-foreground",t),...e}));eN.displayName="CardDescription";const tN=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ke("p-6 pt-0",t),...e}));tN.displayName="CardContent";const nN=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ke("flex items-center p-6 pt-0",t),...e}));nN.displayName="CardFooter";function fh(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function rN(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),u=n.length;n=[...n,o];const d=f=>{var w;const{scope:g,children:x,...S}=f,E=((w=g==null?void 0:g[t])==null?void 0:w[u])||a,I=m.useMemo(()=>S,Object.values(S));return l.jsx(E.Provider,{value:I,children:x})};d.displayName=i+"Provider";function h(f,g){var E;const x=((E=g==null?void 0:g[t])==null?void 0:E[u])||a,S=m.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,sN(s,...e)]}function sN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ri(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function f1(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),u=n.length;n=[...n,o];const d=f=>{var w;const{scope:g,children:x,...S}=f,E=((w=g==null?void 0:g[t])==null?void 0:w[u])||a,I=m.useMemo(()=>S,Object.values(S));return l.jsx(E.Provider,{value:I,children:x})};d.displayName=i+"Provider";function h(f,g){var E;const x=((E=g==null?void 0:g[t])==null?void 0:E[u])||a,S=m.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,iN(s,...e)]}function iN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function jy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=jy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jy(t[s],null)}}}}function jf(...t){return m.useCallback(oN(...t),t)}function aN(t){const e=t+"CollectionProvider",[n,r]=f1(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:I,children:w}=E,y=He.useRef(null),T=He.useRef(new Map).current;return l.jsx(s,{scope:I,itemMap:T,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",u=ou(a),d=He.forwardRef((E,I)=>{const{scope:w,children:y}=E,T=i(a,w),N=jf(I,T.collectionRef);return l.jsx(u,{ref:N,children:y})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",g=ou(h),x=He.forwardRef((E,I)=>{const{scope:w,children:y,...T}=E,N=He.useRef(null),O=jf(I,N),L=i(h,w);return He.useEffect(()=>(L.itemMap.set(N,{ref:N,...T}),()=>void L.itemMap.delete(N))),l.jsx(g,{[f]:"",ref:O,children:y})});x.displayName=h;function S(E){const I=i(t+"CollectionConsumer",E);return He.useCallback(()=>{const y=I.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(I.itemMap.values()).sort((L,b)=>T.indexOf(L.ref.current)-T.indexOf(b.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},S,r]}var p1=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},lN=el[" useId ".trim().toString()]||(()=>{}),cN=0;function uN(t){const[e,n]=m.useState(lN());return p1(()=>{t||n(r=>r??String(cN++))},[t]),t||(e?`radix-${e}`:"")}var dN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xs=dN.reduce((t,e)=>{const n=ou(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hN(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var fN=el[" useInsertionEffect ".trim().toString()]||p1;function pN({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=mN({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=m.useCallback(h=>{var f;if(a){const g=gN(h)?h(t):h;g!==t&&((f=o.current)==null||f.call(o,g))}else i(h)},[a,t,i,o]);return[u,d]}function mN({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return fN(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function gN(t){return typeof t=="function"}var vN=m.createContext(void 0);function yN(t){const e=m.useContext(vN);return t||e||"ltr"}var ph="rovingFocusGroup.onEntryFocus",wN={bubbles:!1,cancelable:!0},il="RovingFocusGroup",[Of,m1,_N]=aN(il),[xN,g1]=f1(il,[_N]),[EN,TN]=xN(il),v1=m.forwardRef((t,e)=>l.jsx(Of.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Of.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(SN,{...t,ref:e})})}));v1.displayName=il;var SN=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,g=m.useRef(null),x=jf(e,g),S=yN(i),[E,I]=pN({prop:o,defaultProp:a??null,onChange:u,caller:il}),[w,y]=m.useState(!1),T=hN(d),N=m1(n),O=m.useRef(!1),[L,b]=m.useState(0);return m.useEffect(()=>{const _=g.current;if(_)return _.addEventListener(ph,T),()=>_.removeEventListener(ph,T)},[T]),l.jsx(EN,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:E,onItemFocus:m.useCallback(_=>I(_),[I]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>b(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>b(_=>_-1),[]),children:l.jsx(Xs.div,{tabIndex:w||L===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:Ri(t.onMouseDown,()=>{O.current=!0}),onFocus:Ri(t.onFocus,_=>{const A=!O.current;if(_.target===_.currentTarget&&A&&!w){const R=new CustomEvent(ph,wN);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=N().filter(ee=>ee.focusable),j=k.find(ee=>ee.active),P=k.find(ee=>ee.id===E),ie=[j,P,...k].filter(Boolean).map(ee=>ee.ref.current);_1(ie,h)}}O.current=!1}),onBlur:Ri(t.onBlur,()=>y(!1))})})}),y1="RovingFocusGroupItem",w1=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,u=uN(),d=i||u,h=TN(y1,n),f=h.currentTabStopId===d,g=m1(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:E}=h;return m.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),l.jsx(Of.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(Xs.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Ri(t.onMouseDown,I=>{r?h.onItemFocus(d):I.preventDefault()}),onFocus:Ri(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ri(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){h.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const w=IN(I,h.orientation,h.dir);if(w!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let T=g().filter(N=>N.focusable).map(N=>N.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const N=T.indexOf(I.currentTarget);T=h.loop?AN(T,N+1):T.slice(N+1)}setTimeout(()=>_1(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:E!=null}):o})})});w1.displayName=y1;var bN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CN(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function IN(t,e,n){const r=CN(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bN[r]}function _1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AN(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NN=v1,RN=w1;function Oy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function PN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Oy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Oy(t[s],null)}}}}function kN(...t){return m.useCallback(PN(...t),t)}var Dy=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function jN(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var x1=t=>{const{present:e,children:n}=t,r=ON(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=kN(r.ref,DN(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};x1.displayName="Presence";function ON(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,u]=jN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Yl(r.current);i.current=a==="mounted"?d:"none"},[a]),Dy(()=>{const d=r.current,h=s.current;if(h!==t){const g=i.current,x=Yl(d);t?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Dy(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=x=>{const E=Yl(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&E&&(u("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},g=x=>{x.target===e&&(i.current=Yl(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Yl(t){return(t==null?void 0:t.animationName)||"none"}function DN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MN=m.createContext(void 0);function LN(t){const e=m.useContext(MN);return t||e||"ltr"}var E1=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},VN=el[" useInsertionEffect ".trim().toString()]||E1;function $N({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=FN({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=m.useCallback(h=>{var f;if(a){const g=UN(h)?h(t):h;g!==t&&((f=o.current)==null||f.call(o,g))}else i(h)},[a,t,i,o]);return[u,d]}function FN({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return VN(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function UN(t){return typeof t=="function"}var BN=el[" useId ".trim().toString()]||(()=>{}),zN=0;function WN(t){const[e,n]=m.useState(BN());return E1(()=>{t||n(r=>r??String(zN++))},[t]),t||(e?`radix-${e}`:"")}var Qu="Tabs",[HN,p5]=rN(Qu,[g1]),T1=g1(),[GN,_m]=HN(Qu),S1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...d}=t,h=LN(a),[f,g]=$N({prop:r,onChange:s,defaultProp:i??"",caller:Qu});return l.jsx(GN,{scope:n,baseId:WN(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:u,children:l.jsx(Xs.div,{dir:h,"data-orientation":o,...d,ref:e})})});S1.displayName=Qu;var b1="TabsList",C1=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=_m(b1,n),o=T1(n);return l.jsx(NN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(Xs.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});C1.displayName=b1;var I1="TabsTrigger",A1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=_m(I1,n),a=T1(n),u=P1(o.baseId,r),d=k1(o.baseId,r),h=r===o.value;return l.jsx(RN,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(Xs.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:fh(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fh(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fh(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});A1.displayName=I1;var N1="TabsContent",R1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=_m(N1,n),u=P1(a.baseId,r),d=k1(a.baseId,r),h=r===a.value,f=m.useRef(h);return m.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(x1,{present:s||h,children:({present:g})=>l.jsx(Xs.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});R1.displayName=N1;function P1(t,e){return`${t}-trigger-${e}`}function k1(t,e){return`${t}-content-${e}`}var qN=S1,j1=C1,O1=A1,D1=R1;const KN=qN,QN=m.forwardRef(({className:t,...e},n)=>l.jsx(j1,{ref:n,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));QN.displayName=j1.displayName;const XN=m.forwardRef(({className:t,...e},n)=>l.jsx(O1,{ref:n,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));XN.displayName=O1.displayName;const Sn=m.forwardRef(({className:t,...e},n)=>l.jsx(D1,{ref:n,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Sn.displayName=D1.displayName;var YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZN=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...u},d)=>m.createElement("svg",{ref:d,...YN,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${JN(t)}`,...u},[...e.map(([h,f])=>m.createElement(h,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var ne=ZN;const eR=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tR=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nR=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),rR=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),My=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),sR=ne("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),M1=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),iR=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),au=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),oR=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),kn=ne("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),xm=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aR=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),lR=ne("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),L1=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),V1=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),$1=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Df=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),La=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),cR=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),uR=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),dR=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ly=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),F1=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Em=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Va=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),hR=ne("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),U1=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Hr=ne("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),fR=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ha=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),B1=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mf=ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),pR=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Lf=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Vf=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),z1=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),mR=ne("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),Vy=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ol=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),W1=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$y=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),gR=ne("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ls=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vR=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),yR=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,x=d&63;u||(x=64,o||(g=64)),r.push(n[h],n[f],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new _R;const g=i<<2|a>>4;if(r.push(g),d!==64){const x=a<<4&240|d>>2;if(r.push(x),f!==64){const S=d<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xR=function(t){const e=H1(t);return G1.encodeByteArray(e,!0)},lu=function(t){return xR(t).replace(/\./g,"")},q1=function(t){try{return G1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},Xu=()=>{try{return yR()||TR()||SR()||bR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K1=t=>{var e,n;return(n=(e=Xu())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},CR=t=>{const e=K1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=Xu())==null?void 0:t.config},X1=t=>{var e;return(e=Xu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[lu(JSON.stringify(n)),lu(JSON.stringify(o)),a].join(".")}const fa={};function NR(){const t={prod:[],emulator:[]};for(const e of Object.keys(fa))fa[e]?t.emulator.push(e):t.prod.push(e);return t}function RR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fy=!1;function J1(t,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||fa[t]===e||fa[t]||Fy)return;fa[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=NR().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Fy=!0,o()},g}function h(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=RR(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),I=document.getElementById(E)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;a(T),h(I,E);const N=d();u(y,w),T.append(y,S,I,N),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function kR(){var e;const t=(e=Xu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?UR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new pr(s,a,r)}}function UR(t,e){return t.replace(BR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BR=/\{\$([^}]+)}/g;function zR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Uy(i)&&Uy(o)){if(!Vs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Uy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WR(t,e){const n=new HR(t,e);return n.subscribe.bind(n)}class HR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mh),s.error===void 0&&(s.error=mh),s.complete===void 0&&(s.complete=mh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class $s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(t){return t===Es?void 0:t}function QR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const YR={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},JR=ce.INFO,ZR={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},eP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const tP=(t,e)=>e.some(n=>t instanceof n);let By,zy;function nP(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,$f=new WeakMap,eE=new WeakMap,gh=new WeakMap,Sm=new WeakMap;function sP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Z1.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function iP(t){if($f.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$f.set(t,e)}let Ff={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oP(t){Ff=t(Ff)}function aP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vh(this),e,...n);return eE.set(r,e.sort?e.sort():[e]),Gr(r)}:rP().includes(t)?function(...e){return t.apply(vh(this),e),Gr(Z1.get(this))}:function(...e){return Gr(t.apply(vh(this),e))}}function lP(t){return typeof t=="function"?aP(t):(t instanceof IDBTransaction&&iP(t),tP(t,nP())?new Proxy(t,Ff):t)}function Gr(t){if(t instanceof IDBRequest)return sP(t);if(gh.has(t))return gh.get(t);const e=lP(t);return e!==t&&(gh.set(t,e),Sm.set(e,t)),e}const vh=t=>Sm.get(t);function cP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gr(o.result),u.oldVersion,u.newVersion,Gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const uP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],yh=new Map;function Wy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uP.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return yh.set(e,i),i}oP(t=>({...t,get:(e,n,r)=>Wy(e,n)||t.get(e,n,r),has:(e,n)=>!!Wy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",Hy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Tm("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",vP="@firebase/app-check-compat",yP="@firebase/app-check",wP="@firebase/auth",_P="@firebase/auth-compat",xP="@firebase/database",EP="@firebase/data-connect",TP="@firebase/database-compat",SP="@firebase/functions",bP="@firebase/functions-compat",CP="@firebase/installations",IP="@firebase/installations-compat",AP="@firebase/messaging",NP="@firebase/messaging-compat",RP="@firebase/performance",PP="@firebase/performance-compat",kP="@firebase/remote-config",jP="@firebase/remote-config-compat",OP="@firebase/storage",DP="@firebase/storage-compat",MP="@firebase/firestore",LP="@firebase/ai",VP="@firebase/firestore-compat",$P="firebase",FP="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",UP={[Uf]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[yP]:"fire-app-check",[vP]:"fire-app-check-compat",[wP]:"fire-auth",[_P]:"fire-auth-compat",[xP]:"fire-rtdb",[EP]:"fire-data-connect",[TP]:"fire-rtdb-compat",[SP]:"fire-fn",[bP]:"fire-fn-compat",[CP]:"fire-iid",[IP]:"fire-iid-compat",[AP]:"fire-fcm",[NP]:"fire-fcm-compat",[RP]:"fire-perf",[PP]:"fire-perf-compat",[kP]:"fire-rc",[jP]:"fire-rc-compat",[OP]:"fire-gcs",[DP]:"fire-gcs-compat",[MP]:"fire-fst",[VP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,BP=new Map,zf=new Map;function Gy(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wi(t){const e=t.name;if(zf.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,t);for(const n of cu.values())Gy(n,t);for(const n of BP.values())Gy(n,t);return!0}function bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new al("app","Firebase",zP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=FP;function tE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qr.create("bad-app-name",{appName:String(s)});if(n||(n=Q1()),!n)throw qr.create("no-options");const i=cu.get(s);if(i){if(Vs(n,i.options)&&Vs(r,i.config))return i;throw qr.create("duplicate-app",{appName:s})}const o=new XR(s);for(const u of zf.values())o.addComponent(u);const a=new WP(n,r,o);return cu.set(s,a),a}function nE(t=Bf){const e=cu.get(t);if(!e&&t===Bf&&Q1())return tE();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=UP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(o.join(" "));return}Wi(new $s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",GP=1,$a="firebase-heartbeat-store";let wh=null;function rE(){return wh||(wh=cP(HP,GP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($a)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),wh}async function qP(t){try{const n=(await rE()).transaction($a),r=await n.objectStore($a).get(sE(t));return await n.done,r}catch(e){if(e instanceof pr)ar.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function qy(t,e){try{const r=(await rE()).transaction($a,"readwrite");await r.objectStore($a).put(e,sE(t)),await r.done}catch(n){if(n instanceof pr)ar.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function sE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1024,QP=30;class XP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ky();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>QP){const o=ZP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ky(),{heartbeatsToSend:r,unsentEntries:s}=YP(this._heartbeatsCache.heartbeats),i=lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ar.warn(n),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function YP(t,e=KP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Qy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qy(t){return lu(JSON.stringify({version:2,heartbeats:t})).length}function ZP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){Wi(new $s("platform-logger",e=>new hP(e),"PRIVATE")),Wi(new $s("heartbeat",e=>new XP(e),"PRIVATE")),Kr(Uf,Hy,t),Kr(Uf,Hy,"esm2020"),Kr("fire-js","")}e2("");var t2="firebase",n2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(t2,n2,"app");function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=iE,oE=new al("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Tm("@firebase/auth");function s2(t,...e){uu.logLevel<=ce.WARN&&uu.warn(`Auth (${io}): ${t}`,...e)}function Ec(t,...e){uu.logLevel<=ce.ERROR&&uu.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw Im(t,...e)}function mn(t,...e){return Im(t,...e)}function Cm(t,e,n){const r={...r2(),[e]:n};return new al("auth","Firebase",r).create(e,{appName:t.name})}function jn(t){return Cm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aE(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&on(t,"argument-error"),Cm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Im(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oE.create(t,...e)}function K(t,e,...n){if(!t)throw Im(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ec(e),new Error(e)}function lr(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function i2(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i2()||OR()||"connection"in navigator)?navigator.onLine:!0}function a2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=PR()||DR()}get(){return o2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new cl(3e4,6e4);function mr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wn(t,e,n,r,s={}){return cE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ll({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return jR()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&so(t.emulatorConfig.host)&&(d.credentials="include"),lE.fetch()(await uE(t,t.config.apiHost,n,a),d)})}async function cE(t,e,n){t._canInitEmulator=!1;const r={...l2,...e};try{const s=new h2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Jl(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Cm(t,h,d);on(t,h)}}catch(s){if(s instanceof pr)throw s;on(t,"network-request-failed",{message:String(s)})}}async function ul(t,e,n,r,s={}){const i=await Wn(t,e,n,r,s);return"mfaPendingCredential"in i&&on(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uE(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Am(t.config,s):`${t.config.apiScheme}://${s}`;return c2.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function d2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),u2.get())})}}function Jl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mn(t,e,r);return s.customData._tokenResponse=n,s}function Yy(t){return t!==void 0&&t.enterprise!==void 0}class f2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p2(t,e){return Wn(t,"GET","/v2/recaptchaConfig",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e){return Wn(t,"POST","/v1/accounts:delete",e)}async function du(t,e){return Wn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g2(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=Nm(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pa(_h(s.auth_time)),issuedAtTime:pa(_h(s.iat)),expirationTime:pa(_h(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _h(t){return Number(t)*1e3}function Nm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const s=q1(n);return s?JSON.parse(s):(Ec("Failed to decode base64 JWT payload"),null)}catch(s){return Ec("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Jy(t){const e=Nm(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&v2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Hi(t,du(e,{idToken:n}));K(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?dE(s.providerUserInfo):[],o=_2(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Hf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function w2(t){const e=ct(t);await hu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){const n=await cE(t,{},async()=>{const r=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await uE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&so(t.emulatorConfig.host)&&(u.credentials="include"),lE.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E2(t,e){return Wn(t,"POST","/v2/accounts:revokeToken",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Jy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await x2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Pi;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pi,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Hi(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g2(this,e)}reload(){return w2(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await Hi(this,m2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:x,providerData:S,stsTokenManager:E}=n;K(f&&E,e,"internal-error");const I=Pi.fromJSON(this.name,E);K(typeof f=="string",e,"internal-error"),br(r,e.name),br(s,e.name),K(typeof g=="boolean",e,"internal-error"),K(typeof x=="boolean",e,"internal-error"),br(i,e.name),br(o,e.name),br(a,e.name),br(u,e.name),br(d,e.name),br(h,e.name);const w=new hn({uid:f,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:I,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(w.providerData=S.map(y=>({...y}))),u&&(w._redirectEventId=u),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pi;s.updateFromServerResponse(n);const i=new hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];K(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Pi;a.updateFromIdToken(r);const u=new hn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function tr(t){lr(t instanceof Function,"Expected a class definition");let e=Zy.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hE.type="NONE";const e0=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){return`firebase:${t}:${e}:${n}`}class ki{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Tc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Tc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await du(this.auth,{idToken:e}).catch(()=>{});return n?hn._fromGetAccountInfoResponse(this.auth,n,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ki(tr(e0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||tr(e0);const o=Tc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const g=await du(e,{idToken:h}).catch(()=>{});if(!g)break;f=await hn._fromGetAccountInfoResponse(e,g,h)}else f=hn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new ki(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ki(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(wE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||mE(e))&&!e.includes("edge/"))return"Chrome";if(vE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fE(t=St()){return/firefox\//i.test(t)}function pE(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mE(t=St()){return/crios\//i.test(t)}function gE(t=St()){return/iemobile/i.test(t)}function vE(t=St()){return/android/i.test(t)}function yE(t=St()){return/blackberry/i.test(t)}function wE(t=St()){return/webos/i.test(t)}function Rm(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T2(t=St()){var e;return Rm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function S2(){return MR()&&document.documentMode===10}function _E(t=St()){return Rm(t)||vE(t)||wE(t)||yE(t)||/windows phone/i.test(t)||gE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e=[]){let n;switch(t){case"Browser":n=t0(St());break;case"Worker":n=`${t0(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e={}){return Wn(t,"GET","/v2/passwordPolicy",mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=6;class A2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??I2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await du(this,{idToken:e}),r=await hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ot(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(jn(this));const n=e?ct(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C2(this),n=new A2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&s2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _n(t){return ct(t)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R2(t){Yu=t}function EE(t){return Yu.loadJS(t)}function P2(){return Yu.recaptchaEnterpriseScript}function k2(){return Yu.gapiScript}function j2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class O2{constructor(){this.enterprise=new D2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class D2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const M2="recaptcha-enterprise",TE="NO_RECAPTCHA";class L2{constructor(e){this.type=M2,this.auth=_n(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{p2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new f2(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Yy(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(TE)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O2().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Yy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=P2();u.length!==0&&(u+=a),EE(u).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Wo(t,e,n,r=!1,s=!1){const i=new L2(t);let o;if(s)o=TE;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fu(t,e,n,r,s){var i,o;if(s==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Wo(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Wo(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Wo(t,e,n);return r(t,a).catch(async u=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Wo(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)})}else{const a=await Wo(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(s+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){const n=bm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vs(i,e??{}))return s;on(s,"already-initialized")}return n.initialize({options:e})}function $2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F2(t,e,n){const r=_n(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=SE(e),{host:o,port:a}=U2(e),u=a===null?"":`:${a}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Vs(d,r.config.emulator)&&Vs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,so(o)?(Y1(`${i}//${o}${u}`),J1("Auth",!0)):s||B2()}function SE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U2(t){const e=SE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:r0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:r0(o)}}}function r0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function z2(t,e){return Wn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e){return ul(t,"POST","/v1/accounts:signInWithPassword",mr(t,e))}async function H2(t,e){return Wn(t,"POST","/v1/accounts:sendOobCode",mr(t,e))}async function G2(t,e){return H2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,e))}async function K2(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Pm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fu(e,n,"signInWithPassword",W2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return q2(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fu(e,r,"signUpPassword",z2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return K2(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ji(t,e){return ul(t,"POST","/v1/accounts:signInWithIdp",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="http://localhost";class Fs extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Fs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ji(e,n)}buildRequest(){const e={requestUri:Q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(t){const e=Yo(Jo(t)).link,n=e?Yo(Jo(e)).deep_link_id:null,r=Yo(Jo(t)).deep_link_id;return(r?Yo(Jo(r)).link:null)||r||n||e||t}class km{constructor(e){const n=Yo(Jo(e)),r=n.apiKey??null,s=n.oobCode??null,i=X2(n.mode??null);K(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y2(e);try{return new km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,n){return Fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=km.parseLink(n);return K(r,"argument-error"),Fa._fromEmailAndCode(e,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Ju{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends dl{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends dl{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends dl{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t,e){return ul(t,"POST","/v1/accounts:signUp",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await hn._fromIdTokenResponse(e,r,s),o=s0(r);return new Us({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=s0(r);return new Us({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function s0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends pr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pu(e,n,r,s)}}function bE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(t,i,e,r):i})}async function Z2(t,e,n=!1){const r=await Hi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e,n=!1){const{auth:r}=t;if(Ot(r.app))return Promise.reject(jn(r));const s="reauthenticate";try{const i=await Hi(t,bE(r,s,e,t),n);K(i.idToken,r,"internal-error");const o=Nm(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),Us._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&on(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t,e,n=!1){if(Ot(t.app))return Promise.reject(jn(t));const r="signIn",s=await bE(t,r,e),i=await Us._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function tk(t,e){return CE(_n(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e,n){var r;K(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),K(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t){const e=_n(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rk(t,e,n){const r=_n(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&nk(r,s,n),await fu(r,s,"getOobCode",G2,"EMAIL_PASSWORD_PROVIDER")}async function sk(t,e,n){if(Ot(t.app))return Promise.reject(jn(t));const r=_n(t),o=await fu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J2,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&IE(t),u}),a=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ik(t,e,n){return Ot(t.app)?Promise.reject(jn(t)):tk(ct(t),oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){return Wn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Hi(r,ok(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){return ct(t).setPersistence(e)}function ck(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function uk(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function dk(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function hk(t){return ct(t).signOut()}const mu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,pk=10;class NE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);S2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pk):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NE.type="LOCAL";const RE=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PE.type="SESSION";const kE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),u=await mk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const d=jm("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function vk(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function yk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _k(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",xk=1,gu="firebaseLocalStorage",DE="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([gu],e?"readwrite":"readonly").objectStore(gu)}function Ek(){const t=indexedDB.deleteDatabase(OE);return new hl(t).toPromise()}function Gf(){const t=indexedDB.open(OE,xk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gu,{keyPath:DE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gu)?e(r):(r.close(),await Ek(),e(await Gf()))})})}async function i0(t,e,n){const r=ed(t,!0).put({[DE]:e,value:n});return new hl(r).toPromise()}async function Tk(t,e){const n=ed(t,!1).get(e),r=await new hl(n).toPromise();return r===void 0?null:r.value}function o0(t,e){const n=ed(t,!0).delete(e);return new hl(n).toPromise()}const Sk=800,bk=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zu._getInstance(_k()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await yk(),!this.activeServiceWorker)return;this.sender=new gk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await i0(e,mu,"1"),await o0(e,mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Tk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ed(s,!1).getAll();return new hl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const Ck=ME;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){return e?tr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ik(t){return CE(t.auth,new Dm(t),t.bypassAuthState)}function Ak(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),ek(n,new Dm(t),t.bypassAuthState)}async function Nk(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),Z2(n,new Dm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ik;case"linkViaPopup":case"linkViaRedirect":return Nk;case"reauthViaPopup":case"reauthViaRedirect":return Ak;default:on(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new cl(2e3,1e4);async function Pk(t,e,n){if(Ot(t.app))return Promise.reject(mn(t,"operation-not-supported-in-this-environment"));const r=_n(t);aE(t,e,Ju);const s=Om(r,n);return new Is(r,"signInViaPopup",e,s).executeNotNull()}class Is extends LE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rk.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="pendingRedirect",Sc=new Map;class jk extends LE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sc.get(this.auth._key());if(!e){try{const r=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sc.set(this.auth._key(),e)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(t,e){const n=$E(e),r=VE(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function Dk(t,e){return VE(t)._set($E(e),"true")}function Mk(t,e){Sc.set(t._key(),e)}function VE(t){return tr(t._redirectPersistence)}function $E(t){return Tc(kk,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e,n){return Lk(t,e,n)}async function Lk(t,e,n){if(Ot(t.app))return Promise.reject(jn(t));const r=_n(t);aE(t,e,Ju),await r._initializationPromise;const s=Om(r,n);return await Dk(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function l0(t,e){return await _n(t)._initializationPromise,FE(t,e,!1)}async function FE(t,e,n=!1){if(Ot(t.app))return Promise.reject(jn(t));const r=_n(t),s=Om(r,e),o=await new jk(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=10*60*1e3;class $k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UE(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,e={}){return Wn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zk=/^https?/;async function Wk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uk(t);for(const n of e)try{if(Hk(n))return}catch{}on(t,"unauthorized-domain")}function Hk(t){const e=Wf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zk.test(n))return!1;if(Bk.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new cl(3e4,6e4);function u0(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qk(t){return new Promise((e,n)=>{var s,i,o;function r(){u0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u0(),n(mn(t,"network-request-failed"))},timeout:Gk.get()})}if((i=(s=On().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=On().gapi)!=null&&o.load)r();else{const a=j2("iframefcb");return On()[a]=()=>{gapi.load?r():n(mn(t,"network-request-failed"))},EE(`${k2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw bc=null,e})}let bc=null;function Kk(t){return bc=bc||qk(t),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new cl(5e3,15e3),Xk="__/auth/iframe",Yk="emulator/auth/iframe",Jk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ej(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Am(e,Yk):`https://${t.config.authDomain}/${Xk}`,r={apiKey:e.apiKey,appName:t.name,v:io},s=Zk.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ll(r).slice(1)}`}async function tj(t){const e=await Kk(t),n=On().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:ej(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jk,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mn(t,"network-request-failed"),a=On().setTimeout(()=>{i(o)},Qk.get());function u(){On().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rj=500,sj=600,ij="_blank",oj="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aj(t,e,n,r=rj,s=sj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...nj,width:r.toString(),height:s.toString(),top:i,left:o},d=St().toLowerCase();n&&(a=mE(d)?ij:n),fE(d)&&(e=e||oj,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[x,S])=>`${g}${x}=${S},`,"");if(T2(d)&&a!=="_self")return lj(e||"",a),new d0(null);const f=window.open(e||"",a,h);K(f,t,"popup-blocked");try{f.focus()}catch{}return new d0(f)}function lj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="__/auth/handler",uj="emulator/auth/handler",dj=encodeURIComponent("fac");async function h0(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:s};if(e instanceof Ju){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(i||{}))o[h]=f}if(e instanceof dl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),d=u?`#${dj}=${encodeURIComponent(u)}`:"";return`${hj(t)}?${ll(a).slice(1)}${d}`}function hj({config:t}){return t.emulator?Am(t,uj):`https://${t.authDomain}/${cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="webStorageSupport";class fj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=FE,this._overrideRedirectResult=Mk}async _openPopup(e,n,r,s){var o;lr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await h0(e,n,r,Wf(),s);return aj(e,i,jm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await h0(e,n,r,Wf(),s);return vk(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tj(e),r=new $k(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xh,{type:xh},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[xh];i!==void 0&&n(!!i),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _E()||pE()||Rm()}}const pj=fj;var f0="@firebase/auth",p0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vj(t){Wi(new $s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(t)},d=new N2(r,s,i,u);return $2(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new $s("auth-internal",e=>{const n=_n(e.getProvider("auth").getImmediate());return(r=>new mj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(f0,p0,gj(t)),Kr(f0,p0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=5*60,wj=X1("authIdTokenMaxAge")||yj;let m0=null;const _j=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wj)return;const s=n==null?void 0:n.token;m0!==s&&(m0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xj(t=nE()){const e=bm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V2(t,{popupRedirectResolver:pj,persistence:[Ck,RE,kE]}),r=X1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=_j(i.toString());uk(n,o,()=>o(n.currentUser)),ck(n,a=>o(a))}}const s=K1("auth");return s&&F2(n,`http://${s}`),n}function Ej(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Ej().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vj("Browser");var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,BE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,_){function A(){}A.prototype=_.prototype,b.F=_.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(R,k,j){for(var P=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)P[Q-2]=arguments[Q];return _.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,_,A){A||(A=0);const R=Array(16);if(typeof _=="string")for(var k=0;k<16;++k)R[k]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(k=0;k<16;++k)R[k]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=b.g[0],A=b.g[1],k=b.g[2];let j=b.g[3],P;P=_+(j^A&(k^j))+R[0]+3614090360&4294967295,_=A+(P<<7&4294967295|P>>>25),P=j+(k^_&(A^k))+R[1]+3905402710&4294967295,j=_+(P<<12&4294967295|P>>>20),P=k+(A^j&(_^A))+R[2]+606105819&4294967295,k=j+(P<<17&4294967295|P>>>15),P=A+(_^k&(j^_))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=_+(j^A&(k^j))+R[4]+4118548399&4294967295,_=A+(P<<7&4294967295|P>>>25),P=j+(k^_&(A^k))+R[5]+1200080426&4294967295,j=_+(P<<12&4294967295|P>>>20),P=k+(A^j&(_^A))+R[6]+2821735955&4294967295,k=j+(P<<17&4294967295|P>>>15),P=A+(_^k&(j^_))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=_+(j^A&(k^j))+R[8]+1770035416&4294967295,_=A+(P<<7&4294967295|P>>>25),P=j+(k^_&(A^k))+R[9]+2336552879&4294967295,j=_+(P<<12&4294967295|P>>>20),P=k+(A^j&(_^A))+R[10]+4294925233&4294967295,k=j+(P<<17&4294967295|P>>>15),P=A+(_^k&(j^_))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=_+(j^A&(k^j))+R[12]+1804603682&4294967295,_=A+(P<<7&4294967295|P>>>25),P=j+(k^_&(A^k))+R[13]+4254626195&4294967295,j=_+(P<<12&4294967295|P>>>20),P=k+(A^j&(_^A))+R[14]+2792965006&4294967295,k=j+(P<<17&4294967295|P>>>15),P=A+(_^k&(j^_))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=_+(k^j&(A^k))+R[1]+4129170786&4294967295,_=A+(P<<5&4294967295|P>>>27),P=j+(A^k&(_^A))+R[6]+3225465664&4294967295,j=_+(P<<9&4294967295|P>>>23),P=k+(_^A&(j^_))+R[11]+643717713&4294967295,k=j+(P<<14&4294967295|P>>>18),P=A+(j^_&(k^j))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=_+(k^j&(A^k))+R[5]+3593408605&4294967295,_=A+(P<<5&4294967295|P>>>27),P=j+(A^k&(_^A))+R[10]+38016083&4294967295,j=_+(P<<9&4294967295|P>>>23),P=k+(_^A&(j^_))+R[15]+3634488961&4294967295,k=j+(P<<14&4294967295|P>>>18),P=A+(j^_&(k^j))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=_+(k^j&(A^k))+R[9]+568446438&4294967295,_=A+(P<<5&4294967295|P>>>27),P=j+(A^k&(_^A))+R[14]+3275163606&4294967295,j=_+(P<<9&4294967295|P>>>23),P=k+(_^A&(j^_))+R[3]+4107603335&4294967295,k=j+(P<<14&4294967295|P>>>18),P=A+(j^_&(k^j))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=_+(k^j&(A^k))+R[13]+2850285829&4294967295,_=A+(P<<5&4294967295|P>>>27),P=j+(A^k&(_^A))+R[2]+4243563512&4294967295,j=_+(P<<9&4294967295|P>>>23),P=k+(_^A&(j^_))+R[7]+1735328473&4294967295,k=j+(P<<14&4294967295|P>>>18),P=A+(j^_&(k^j))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=_+(A^k^j)+R[5]+4294588738&4294967295,_=A+(P<<4&4294967295|P>>>28),P=j+(_^A^k)+R[8]+2272392833&4294967295,j=_+(P<<11&4294967295|P>>>21),P=k+(j^_^A)+R[11]+1839030562&4294967295,k=j+(P<<16&4294967295|P>>>16),P=A+(k^j^_)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=_+(A^k^j)+R[1]+2763975236&4294967295,_=A+(P<<4&4294967295|P>>>28),P=j+(_^A^k)+R[4]+1272893353&4294967295,j=_+(P<<11&4294967295|P>>>21),P=k+(j^_^A)+R[7]+4139469664&4294967295,k=j+(P<<16&4294967295|P>>>16),P=A+(k^j^_)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=_+(A^k^j)+R[13]+681279174&4294967295,_=A+(P<<4&4294967295|P>>>28),P=j+(_^A^k)+R[0]+3936430074&4294967295,j=_+(P<<11&4294967295|P>>>21),P=k+(j^_^A)+R[3]+3572445317&4294967295,k=j+(P<<16&4294967295|P>>>16),P=A+(k^j^_)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=_+(A^k^j)+R[9]+3654602809&4294967295,_=A+(P<<4&4294967295|P>>>28),P=j+(_^A^k)+R[12]+3873151461&4294967295,j=_+(P<<11&4294967295|P>>>21),P=k+(j^_^A)+R[15]+530742520&4294967295,k=j+(P<<16&4294967295|P>>>16),P=A+(k^j^_)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=_+(k^(A|~j))+R[0]+4096336452&4294967295,_=A+(P<<6&4294967295|P>>>26),P=j+(A^(_|~k))+R[7]+1126891415&4294967295,j=_+(P<<10&4294967295|P>>>22),P=k+(_^(j|~A))+R[14]+2878612391&4294967295,k=j+(P<<15&4294967295|P>>>17),P=A+(j^(k|~_))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=_+(k^(A|~j))+R[12]+1700485571&4294967295,_=A+(P<<6&4294967295|P>>>26),P=j+(A^(_|~k))+R[3]+2399980690&4294967295,j=_+(P<<10&4294967295|P>>>22),P=k+(_^(j|~A))+R[10]+4293915773&4294967295,k=j+(P<<15&4294967295|P>>>17),P=A+(j^(k|~_))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=_+(k^(A|~j))+R[8]+1873313359&4294967295,_=A+(P<<6&4294967295|P>>>26),P=j+(A^(_|~k))+R[15]+4264355552&4294967295,j=_+(P<<10&4294967295|P>>>22),P=k+(_^(j|~A))+R[6]+2734768916&4294967295,k=j+(P<<15&4294967295|P>>>17),P=A+(j^(k|~_))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=_+(k^(A|~j))+R[4]+4149444226&4294967295,_=A+(P<<6&4294967295|P>>>26),P=j+(A^(_|~k))+R[11]+3174756917&4294967295,j=_+(P<<10&4294967295|P>>>22),P=k+(_^(j|~A))+R[2]+718787259&4294967295,k=j+(P<<15&4294967295|P>>>17),P=A+(j^(k|~_))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+j&4294967295}r.prototype.v=function(b,_){_===void 0&&(_=b.length);const A=_-this.blockSize,R=this.C;let k=this.h,j=0;for(;j<_;){if(k==0)for(;j<=A;)s(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<_;)if(R[k++]=b.charCodeAt(j++),k==this.blockSize){s(this,R),k=0;break}}else for(;j<_;)if(R[k++]=b[j++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=_},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;_=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=_&255,_/=256;for(this.v(b),b=Array(16),_=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)b[_++]=this.g[A]>>>R&255;return b};function i(b,_){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=_(b)}function o(b,_){this.h=_;const A=[];let R=!0;for(let k=b.length-1;k>=0;k--){const j=b[k]|0;R&&j==_||(A[k]=j,R=!1)}this.g=A}var a={};function u(b){return-128<=b&&b<128?i(b,function(_){return new o([_|0],_<0?-1:0)}):new o([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return I(d(-b));const _=[];let A=1;for(let R=0;b>=A;R++)_[R]=b/A|0,A*=4294967296;return new o(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return I(h(b.substring(1),_));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=d(Math.pow(_,8));let R=f;for(let j=0;j<b.length;j+=8){var k=Math.min(8,b.length-j);const P=parseInt(b.substring(j,j+k),_);k<8?(k=d(Math.pow(_,k)),R=R.j(k).add(d(P))):(R=R.j(A),R=R.add(d(P)))}return R}var f=u(0),g=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-I(this).m();let b=0,_=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);b+=(R>=0?R:4294967296+R)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(E(this))return"-"+I(this).toString(b);const _=d(Math.pow(b,6));var A=this;let R="";for(;;){const k=N(A,_).g;A=w(A,k.j(_));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=k,S(A))return j+R;for(;j.length<6;)j="0"+j;R=j+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function E(b){return b.h==-1}t.l=function(b){return b=w(this,b),E(b)?-1:S(b)?0:1};function I(b){const _=b.g.length,A=[];for(let R=0;R<_;R++)A[R]=~b.g[R];return new o(A,~b.h).add(g)}t.abs=function(){return E(this)?I(this):this},t.add=function(b){const _=Math.max(this.g.length,b.g.length),A=[];let R=0;for(let k=0;k<=_;k++){let j=R+(this.i(k)&65535)+(b.i(k)&65535),P=(j>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);R=P>>>16,j&=65535,P&=65535,A[k]=P<<16|j}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(b,_){return b.add(I(_))}t.j=function(b){if(S(this)||S(b))return f;if(E(this))return E(b)?I(this).j(I(b)):I(I(this).j(b));if(E(b))return I(this.j(I(b)));if(this.l(x)<0&&b.l(x)<0)return d(this.m()*b.m());const _=this.g.length+b.g.length,A=[];for(var R=0;R<2*_;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<b.g.length;k++){const j=this.i(R)>>>16,P=this.i(R)&65535,Q=b.i(k)>>>16,ie=b.i(k)&65535;A[2*R+2*k]+=P*ie,y(A,2*R+2*k),A[2*R+2*k+1]+=j*ie,y(A,2*R+2*k+1),A[2*R+2*k+1]+=P*Q,y(A,2*R+2*k+1),A[2*R+2*k+2]+=j*Q,y(A,2*R+2*k+2)}for(b=0;b<_;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=_;b<2*_;b++)A[b]=0;return new o(A,0)};function y(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function T(b,_){this.g=b,this.h=_}function N(b,_){if(S(_))throw Error("division by zero");if(S(b))return new T(f,f);if(E(b))return _=N(I(b),_),new T(I(_.g),I(_.h));if(E(_))return _=N(b,I(_)),new T(I(_.g),_.h);if(b.g.length>30){if(E(b)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=_;R.l(b)<=0;)A=O(A),R=O(R);var k=L(A,1),j=L(R,1);for(R=L(R,2),A=L(A,2);!S(R);){var P=j.add(R);P.l(b)<=0&&(k=k.add(A),j=P),R=L(R,1),A=L(A,1)}return _=w(b,k.j(_)),new T(k,_)}for(k=f;b.l(_)>=0;){for(A=Math.max(1,Math.floor(b.m()/_.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),j=d(A),P=j.j(_);E(P)||P.l(b)>0;)A-=R,j=d(A),P=j.j(_);S(j)&&(j=g),k=k.add(j),b=w(b,P)}return new T(k,b)}t.B=function(b){return N(this,b).h},t.and=function(b){const _=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<_;R++)A[R]=this.i(R)&b.i(R);return new o(A,this.h&b.h)},t.or=function(b){const _=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<_;R++)A[R]=this.i(R)|b.i(R);return new o(A,this.h|b.h)},t.xor=function(b){const _=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<_;R++)A[R]=this.i(R)^b.i(R);return new o(A,this.h^b.h)};function O(b){const _=b.g.length+1,A=[];for(let R=0;R<_;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(A,b.h)}function L(b,_){const A=_>>5;_%=32;const R=b.g.length-A,k=[];for(let j=0;j<R;j++)k[j]=_>0?b.i(j+A)>>>_|b.i(j+A+1)<<32-_:b.i(j+A);return new o(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Qr=o}).apply(typeof g0<"u"?g0:typeof self<"u"?self:typeof window<"u"?window:{});var Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,Zo,WE,Cc,qf,HE,GE,qE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zl=="object"&&Zl];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var v=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var D=c[C];if(!(D in v))break e;v=v[D]}c=c[c.length-1],C=v[c],p=p(C),p!=C&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var v=[],C;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&v.push([C,p[C]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function u(c,p,v){return c.call.apply(c.bind,arguments)}function d(c,p,v){return d=u,d.apply(null,arguments)}function h(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function f(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(C,D,M){for(var B=Array(arguments.length-2),se=2;se<arguments.length;se++)B[se-2]=arguments[se];return p.prototype[D].apply(C,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const p=c.length;if(p>0){const v=Array(p);for(let C=0;C<p;C++)v[C]=c[C];return v}return[]}function S(c,p){for(let C=1;C<arguments.length;C++){const D=arguments[C];var v=typeof D;if(v=v!="object"?v:D?Array.isArray(D)?"array":v:"null",v=="array"||v=="object"&&typeof D.length=="number"){v=c.length||0;const M=D.length||0;c.length=v+M;for(let B=0;B<M;B++)c[v+B]=D[B]}else c.push(D)}}class E{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(c){o.setTimeout(()=>{throw c},0)}function w(){var c=b;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class y{constructor(){this.h=this.g=null}add(p,v){const C=T.get();C.set(p,v),this.h?this.h.next=C:this.g=C,this.h=C}}var T=new E(()=>new N,c=>c.reset());class N{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,b=new y,_=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(A)}};function A(){for(var c;c=w();){try{c.h.call(c.g)}catch(v){I(v)}var p=T;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}L=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,p),o.removeEventListener("test",v,p)}catch{}return c}();function P(c){return/^[\s\xa0]*$/.test(c)}function Q(c,p){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(Q,k),Q.prototype.init=function(c,p){const v=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),ee=0;function me(c,p,v,C,D){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!C,this.ha=D,this.key=++ee,this.da=this.fa=!1}function V(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function z(c,p,v){for(const C in c)p.call(v,c[C],C,c)}function G(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function oe(c){const p={};for(const v in c)p[v]=c[v];return p}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(c,p){let v,C;for(let D=1;D<arguments.length;D++){C=arguments[D];for(v in C)c[v]=C[v];for(let M=0;M<fe.length;M++)v=fe[M],Object.prototype.hasOwnProperty.call(C,v)&&(c[v]=C[v])}}function Re(c){this.src=c,this.g={},this.h=0}Re.prototype.add=function(c,p,v,C,D){const M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);const B=ze(c,p,C,D);return B>-1?(p=c[B],v||(p.fa=!1)):(p=new me(p,this.src,M,!!C,D),p.fa=v,c.push(p)),p};function Qe(c,p){const v=p.type;if(v in c.g){var C=c.g[v],D=Array.prototype.indexOf.call(C,p,void 0),M;(M=D>=0)&&Array.prototype.splice.call(C,D,1),M&&(V(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ze(c,p,v,C){for(let D=0;D<c.length;++D){const M=c[D];if(!M.da&&M.listener==p&&M.capture==!!v&&M.ha==C)return D}return-1}var X="closure_lm_"+(Math.random()*1e6|0),ge={};function rt(c,p,v,C,D){if(C&&C.once)return ve(c,p,v,C,D);if(Array.isArray(p)){for(let M=0;M<p.length;M++)rt(c,p[M],v,C,D);return null}return v=vo(v),c&&c[ie]?c.J(p,v,a(C)?!!C.capture:!!C,D):xe(c,p,v,!1,C,D)}function xe(c,p,v,C,D,M){if(!p)throw Error("Invalid event type");const B=a(D)?!!D.capture:!!D;let se=qn(c);if(se||(c[X]=se=new Re(c)),v=se.add(p,v,C,B,M),v.proxy)return v;if(C=ye(),v.proxy=C,C.src=c,C.listener=v,c.addEventListener)j||(D=B),D===void 0&&(D=!1),c.addEventListener(p.toString(),C,D);else if(c.attachEvent)c.attachEvent(gr(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ye(){function c(v){return p.call(c.src,c.listener,v)}const p=fs;return c}function ve(c,p,v,C,D){if(Array.isArray(p)){for(let M=0;M<p.length;M++)ve(c,p[M],v,C,D);return null}return v=vo(v),c&&c[ie]?c.K(p,v,a(C)?!!C.capture:!!C,D):xe(c,p,v,!0,C,D)}function gt(c,p,v,C,D){if(Array.isArray(p))for(var M=0;M<p.length;M++)gt(c,p[M],v,C,D);else C=a(C)?!!C.capture:!!C,v=vo(v),c&&c[ie]?(c=c.i,M=String(p).toString(),M in c.g&&(p=c.g[M],v=ze(p,v,C,D),v>-1&&(V(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[M],c.h--)))):c&&(c=qn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ze(p,v,C,D)),(v=c>-1?p[c]:null)&&Xe(v))}function Xe(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ie])Qe(p.i,c);else{var v=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(v,C,c.capture):p.detachEvent?p.detachEvent(gr(v),C):p.addListener&&p.removeListener&&p.removeListener(C),(v=qn(p))?(Qe(v,c),v.h==0&&(v.src=null,p[X]=null)):V(c)}}}function gr(c){return c in ge?ge[c]:ge[c]="on"+c}function fs(c,p){if(c.da)c=!0;else{p=new Q(p,this);const v=c.listener,C=c.ha||c.src;c.fa&&Xe(c),c=v.call(C,p)}return c}function qn(c){return c=c[X],c instanceof Re?c:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[go]||(c[go]=function(p){return c.handleEvent(p)}),c[go])}function Fe(){R.call(this),this.i=new Re(this),this.M=this,this.G=null}f(Fe,R),Fe.prototype[ie]=!0,Fe.prototype.removeEventListener=function(c,p,v,C){gt(this,c,p,v,C)};function bt(c,p){var v,C=c.G;if(C)for(v=[];C;C=C.G)v.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new k(p,c);else if(p instanceof k)p.target=p.target||c;else{var D=p;p=new k(C,c),Ee(p,D)}D=!0;let M,B;if(v)for(B=v.length-1;B>=0;B--)M=p.g=v[B],D=xl(M,C,!0,p)&&D;if(M=p.g=c,D=xl(M,C,!0,p)&&D,D=xl(M,C,!1,p)&&D,v)for(B=0;B<v.length;B++)M=p.g=v[B],D=xl(M,C,!1,p)&&D}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let C=0;C<v.length;C++)V(v[C]);delete c.g[p],c.h--}}this.G=null},Fe.prototype.J=function(c,p,v,C){return this.i.add(String(c),p,!1,v,C)},Fe.prototype.K=function(c,p,v,C){return this.i.add(String(c),p,!0,v,C)};function xl(c,p,v,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let D=!0;for(let M=0;M<p.length;++M){const B=p[M];if(B&&!B.da&&B.capture==v){const se=B.listener,Ye=B.ha||B.src;B.fa&&Qe(c.i,B),D=se.call(Ye,C)!==!1&&D}}return D&&!C.defaultPrevented}function vb(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Sg(c){c.g=vb(()=>{c.g=null,c.i&&(c.i=!1,Sg(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class yb extends R{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Sg(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(c){R.call(this),this.h=c,this.g={}}f(yo,R);var bg=[];function Cg(c){z(c.g,function(p,v){this.g.hasOwnProperty(v)&&Xe(p)},c),c.g={}}yo.prototype.N=function(){yo.Z.N.call(this),Cg(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sd=o.JSON.stringify,wb=o.JSON.parse,_b=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ig(){}function Ag(){}var wo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bd(){k.call(this,"d")}f(bd,k);function Cd(){k.call(this,"c")}f(Cd,k);var ps={},Ng=null;function El(){return Ng=Ng||new Fe}ps.Ia="serverreachability";function Rg(c){k.call(this,ps.Ia,c)}f(Rg,k);function _o(c){const p=El();bt(p,new Rg(p))}ps.STAT_EVENT="statevent";function Pg(c,p){k.call(this,ps.STAT_EVENT,c),this.stat=p}f(Pg,k);function Ct(c){const p=El();bt(p,new Pg(p,c))}ps.Ja="timingevent";function kg(c,p){k.call(this,ps.Ja,c),this.size=p}f(kg,k);function xo(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function Eo(){this.g=!0}Eo.prototype.ua=function(){this.g=!1};function xb(c,p,v,C,D,M){c.info(function(){if(c.g)if(M){var B="",se=M.split("&");for(let Te=0;Te<se.length;Te++){var Ye=se[Te].split("=");if(Ye.length>1){const st=Ye[0];Ye=Ye[1];const En=st.split("_");B=En.length>=2&&En[1]=="type"?B+(st+"="+Ye+"&"):B+(st+"=redacted&")}}}else B=null;else B=M;return"XMLHTTP REQ ("+C+") [attempt "+D+"]: "+p+`
`+v+`
`+B})}function Eb(c,p,v,C,D,M,B){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+D+"]: "+p+`
`+v+`
`+M+" "+B})}function ei(c,p,v,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Sb(c,v)+(C?" "+C:"")})}function Tb(c,p){c.info(function(){return"TIMEOUT: "+p})}Eo.prototype.info=function(){};function Sb(c,p){if(!c.g)return p;if(!p)return null;try{const M=JSON.parse(p);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var v=M[c];if(!(v.length<2)){var C=v[1];if(Array.isArray(C)&&!(C.length<1)){var D=C[0];if(D!="noop"&&D!="stop"&&D!="close")for(let B=1;B<C.length;B++)C[B]=""}}}}return Sd(M)}catch{return p}}var Tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Og;function Id(){}f(Id,Ig),Id.prototype.g=function(){return new XMLHttpRequest},Og=new Id;function To(c){return encodeURIComponent(String(c))}function bb(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function vr(c,p,v,C){this.j=c,this.i=p,this.l=v,this.S=C||1,this.V=new yo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dg}function Dg(){this.i=null,this.g="",this.h=!1}var Mg={},Ad={};function Nd(c,p,v){c.M=1,c.A=bl(xn(p)),c.u=v,c.R=!0,Lg(c,null)}function Lg(c,p){c.F=Date.now(),Sl(c),c.B=xn(c.A);var v=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),Xg(v.i,"t",C),c.C=0,v=c.j.L,c.h=new Dg,c.g=pv(c.j,v?p:null,!c.u),c.P>0&&(c.O=new yb(d(c.Y,c,c.g),c.P)),p=c.V,v=c.g,C=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(bg[0]=D.toString()),D=bg);for(let M=0;M<D.length;M++){const B=rt(v,D[M],C||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=c.J?oe(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),_o(),xb(c.i,c.v,c.B,c.l,c.S,c.u)}vr.prototype.ba=function(c){c=c.target;const p=this.O;p&&_r(c)==3?p.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{const se=_r(this.g),Ye=this.g.ya(),Te=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||rv(this.g)))){this.K||se!=4||Ye==7||(Ye==8||Te<=0?_o(3):_o(2)),Rd(this);var p=this.g.ca();this.X=p;var v=Cb(this);if(this.o=p==200,Eb(this.i,this.v,this.B,this.l,this.S,se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var C,D=this.g;if((C=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var M=C;break t}}M=null}if(c=M)ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pd(this,c);else{this.o=!1,this.m=3,Ct(12),ms(this),So(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Ib(this,v),st==Ad){se==4&&(this.m=4,Ct(14),c=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Mg){this.m=4,Ct(15),ei(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ei(this.i,this.l,st,null),Pd(this,st);if(Vg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)ei(this.i,this.l,v,"[Invalid Chunked Response]"),ms(this),So(this);else if(v.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$d(B),B.P=!0,Ct(11))}}else ei(this.i,this.l,v,null),Pd(this,v);se==4&&ms(this),this.o&&!this.K&&(se==4?uv(this.j,this):(this.o=!1,Sl(this)))}else Ub(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),ms(this),So(this)}}}catch{}finally{}};function Cb(c){if(!Vg(c))return c.g.la();const p=rv(c.g);if(p==="")return"";let v="";const C=p.length,D=_r(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ms(c),So(c),"";c.h.i=new o.TextDecoder}for(let M=0;M<C;M++)c.h.h=!0,v+=c.h.i.decode(p[M],{stream:!(D&&M==C-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Vg(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ib(c,p){var v=c.C,C=p.indexOf(`
`,v);return C==-1?Ad:(v=Number(p.substring(v,C)),isNaN(v)?Mg:(C+=1,C+v>p.length?Ad:(p=p.slice(C,C+v),c.C=C+v,p)))}vr.prototype.cancel=function(){this.K=!0,ms(this)};function Sl(c){c.T=Date.now()+c.H,$g(c,c.H)}function $g(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xo(d(c.aa,c),p)}function Rd(c){c.D&&(o.clearTimeout(c.D),c.D=null)}vr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Tb(this.i,this.B),this.M!=2&&(_o(),Ct(17)),ms(this),this.m=2,So(this)):$g(this,this.T-c)};function So(c){c.j.I==0||c.K||uv(c.j,c)}function ms(c){Rd(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Cg(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Pd(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||kd(v.h,c))){if(!c.L&&kd(v.h,c)&&v.I==3){try{var C=v.Ba.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var D=C;if(D[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Rl(v),Al(v);else break e;Vd(v),Ct(18)}}else v.xa=D[1],0<v.xa-v.K&&D[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=xo(d(v.Va,v),6e3));Bg(v.h)<=1&&v.ta&&(v.ta=void 0)}else vs(v,11)}else if((c.L||v.g==c)&&Rl(v),!P(p))for(D=v.Ba.g.parse(p),p=0;p<D.length;p++){let Te=D[p];const st=Te[0];if(!(st<=v.K))if(v.K=st,Te=Te[1],v.I==2)if(Te[0]=="c"){v.M=Te[1],v.ba=Te[2];const En=Te[3];En!=null&&(v.ka=En,v.j.info("VER="+v.ka));const ys=Te[4];ys!=null&&(v.za=ys,v.j.info("SVER="+v.za));const xr=Te[5];xr!=null&&typeof xr=="number"&&xr>0&&(C=1.5*xr,v.O=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Er=c.g;if(Er){const kl=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var M=C.h;M.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(jd(M,M.h),M.h=null))}if(C.G){const Fd=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Fd&&(C.wa=Fd,be(C.J,C.G,Fd))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),C=v;var B=c;if(C.na=fv(C,C.L?C.ba:null,C.W),B.L){zg(C.h,B);var se=B,Ye=C.O;Ye&&(se.H=Ye),se.D&&(Rd(se),Sl(se)),C.g=B}else lv(C);v.i.length>0&&Nl(v)}else Te[0]!="stop"&&Te[0]!="close"||vs(v,7);else v.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?vs(v,7):Ld(v):Te[0]!="noop"&&v.l&&v.l.qa(Te),v.A=0)}}_o(4)}catch{}}var Ab=class{constructor(c,p){this.g=c,this.map=p}};function Fg(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ug(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bg(c){return c.h?1:c.g?c.g.size:0}function kd(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function jd(c,p){c.g?c.g.add(p):c.h=p}function zg(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fg.prototype.cancel=function(){if(this.i=Wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wg(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return x(c.i)}var Hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nb(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const C=c[v].indexOf("=");let D,M=null;C>=0?(D=c[v].substring(0,C),M=c[v].substring(C+1)):D=c[v],p(D,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yr?(this.l=c.l,bo(this,c.j),this.o=c.o,this.g=c.g,Co(this,c.u),this.h=c.h,Od(this,Yg(c.i)),this.m=c.m):c&&(p=String(c).match(Hg))?(this.l=!1,bo(this,p[1]||"",!0),this.o=Io(p[2]||""),this.g=Io(p[3]||"",!0),Co(this,p[4]),this.h=Io(p[5]||"",!0),Od(this,p[6]||"",!0),this.m=Io(p[7]||"")):(this.l=!1,this.i=new No(null,this.l))}yr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ao(p,Gg,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ao(p,Gg,!0),"@"),c.push(To(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ao(v,v.charAt(0)=="/"?kb:Pb,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ao(v,Ob)),c.join("")},yr.prototype.resolve=function(c){const p=xn(this);let v=!!c.j;v?bo(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var C=c.h;if(v)Co(p,c.u);else if(v=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var D=p.h.lastIndexOf("/");D!=-1&&(C=p.h.slice(0,D+1)+C)}if(D=C,D==".."||D==".")C="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){C=D.lastIndexOf("/",0)==0,D=D.split("/");const M=[];for(let B=0;B<D.length;){const se=D[B++];se=="."?C&&B==D.length&&M.push(""):se==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),C&&B==D.length&&M.push("")):(M.push(se),C=!0)}C=M.join("/")}else C=D}return v?p.h=C:v=c.i.toString()!=="",v?Od(p,Yg(c.i)):v=!!c.m,v&&(p.m=c.m),p};function xn(c){return new yr(c)}function bo(c,p,v){c.j=v?Io(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Co(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Od(c,p,v){p instanceof No?(c.i=p,Db(c.i,c.l)):(v||(p=Ao(p,jb)),c.i=new No(p,c.l))}function be(c,p,v){c.i.set(p,v)}function bl(c){return be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Io(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ao(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Rb),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gg=/[#\/\?@]/g,Pb=/[#\?:]/g,kb=/[#\?]/g,jb=/[#\?@]/g,Ob=/#/g;function No(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function gs(c){c.g||(c.g=new Map,c.h=0,c.i&&Nb(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=No.prototype,t.add=function(c,p){gs(this),this.i=null,c=ti(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function qg(c,p){gs(c),p=ti(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Kg(c,p){return gs(c),p=ti(c,p),c.g.has(p)}t.forEach=function(c,p){gs(this),this.g.forEach(function(v,C){v.forEach(function(D){c.call(p,D,C,this)},this)},this)};function Qg(c,p){gs(c);let v=[];if(typeof p=="string")Kg(c,p)&&(v=v.concat(c.g.get(ti(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}t.set=function(c,p){return gs(this),this.i=null,c=ti(this,c),Kg(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Qg(this,c),c.length>0?String(c[0]):p):p};function Xg(c,p,v){qg(c,p),v.length>0&&(c.i=null,c.g.set(ti(c,p),x(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let C=0;C<p.length;C++){var v=p[C];const D=To(v);v=Qg(this,v);for(let M=0;M<v.length;M++){let B=D;v[M]!==""&&(B+="="+To(v[M])),c.push(B)}}return this.i=c.join("&")};function Yg(c){const p=new No;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ti(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Db(c,p){p&&!c.j&&(gs(c),c.i=null,c.g.forEach(function(v,C){const D=C.toLowerCase();C!=D&&(qg(this,C),Xg(this,D,v))},c)),c.j=p}function Mb(c,p){const v=new Eo;if(o.Image){const C=new Image;C.onload=h(wr,v,"TestLoadImage: loaded",!0,p,C),C.onerror=h(wr,v,"TestLoadImage: error",!1,p,C),C.onabort=h(wr,v,"TestLoadImage: abort",!1,p,C),C.ontimeout=h(wr,v,"TestLoadImage: timeout",!1,p,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function Lb(c,p){const v=new Eo,C=new AbortController,D=setTimeout(()=>{C.abort(),wr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(M=>{clearTimeout(D),M.ok?wr(v,"TestPingServer: ok",!0,p):wr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),wr(v,"TestPingServer: error",!1,p)})}function wr(c,p,v,C,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),C(v)}catch{}}function Vb(){this.g=new _b}function Dd(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Dd,Ig),Dd.prototype.g=function(){return new Cl(this.i,this.h)};function Cl(c,p){Fe.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Cl,Fe),t=Cl.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Po(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jg(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jg(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ro(this):Po(this),this.readyState==3&&Jg(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ro(this))},t.Na=function(c){this.g&&(this.response=c,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Po(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Po(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zg(c){let p="";return z(c,function(v,C){p+=C,p+=":",p+=v,p+=`\r
`}),p}function Md(c,p,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=Zg(v),typeof c=="string"?v!=null&&To(v):be(c,p,v))}function Le(c){Fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Le,Fe);var $b=/^https?$/i,Fb=["POST","PUT"];t=Le.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Og.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){ev(this,M);return}if(c=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var D in C)v.set(D,C[D]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const M of C.keys())v.set(M,C.get(M));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(M=>M.toLowerCase()=="content-type"),D=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(Fb,p,void 0)>=0)||C||D||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of v)this.g.setRequestHeader(M,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){ev(this,M)}};function ev(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,tv(c),Il(c)}function tv(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,bt(this,"complete"),bt(this,"abort"),Il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nv(this):this.Xa())},t.Xa=function(){nv(this)};function nv(c){if(c.h&&typeof i<"u"){if(c.v&&_r(c)==4)setTimeout(c.Ca.bind(c),0);else if(bt(c,"readystatechange"),_r(c)==4){c.h=!1;try{const M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var C;if(C=M===0){let B=String(c.D).match(Hg)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),C=!$b.test(B?B.toLowerCase():"")}v=C}if(v)bt(c,"complete"),bt(c,"success");else{c.o=6;try{var D=_r(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",tv(c)}}finally{Il(c)}}}}function Il(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||bt(c,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _r(c){return c.g?c.g.readyState:0}t.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),wb(p)}};function rv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ub(c){const p={};c=(c.g&&_r(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(P(c[C]))continue;var v=bb(c[C]);const D=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const M=p[D]||[];p[D]=M,M.push(v)}G(p,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function sv(c){this.za=0,this.i=[],this.j=new Eo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ko("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ko("baseRetryDelayMs",5e3,c),this.Za=ko("retryDelaySeedMs",1e4,c),this.Ta=ko("forwardChannelMaxRetries",2,c),this.va=ko("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fg(c&&c.concurrentRequestLimit),this.Ba=new Vb,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sv.prototype,t.ka=8,t.I=1,t.connect=function(c,p,v,C){Ct(0),this.W=c,this.H=p||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.J=fv(this,null,this.W),Nl(this)};function Ld(c){if(iv(c),c.I==3){var p=c.V++,v=xn(c.J);if(be(v,"SID",c.M),be(v,"RID",p),be(v,"TYPE","terminate"),jo(c,v),p=new vr(c,c.j,p),p.M=2,p.A=bl(xn(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&o.Image&&(new Image().src=p.A,v=!0),v||(p.g=pv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Sl(p)}hv(c)}function Al(c){c.g&&($d(c),c.g.cancel(),c.g=null)}function iv(c){Al(c),c.v&&(o.clearTimeout(c.v),c.v=null),Rl(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Nl(c){if(!Ug(c.h)&&!c.m){c.m=!0;var p=c.Ea;O||_(),L||(O(),L=!0),b.add(p,c),c.D=0}}function Bb(c,p){return Bg(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xo(d(c.Ea,c,p),dv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const D=new vr(this,this.j,c);let M=this.o;if(this.U&&(M?(M=oe(M),Ee(M,this.U)):M=this.U),this.u!==null||this.R||(D.J=M,M=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=av(this,D,p),v=xn(this.J),be(v,"RID",c),be(v,"CVER",22),this.G&&be(v,"X-HTTP-Session-Id",this.G),jo(this,v),M&&(this.R?p="headers="+To(Zg(M))+"&"+p:this.u&&Md(v,this.u,M)),jd(this.h,D),this.Ra&&be(v,"TYPE","init"),this.S?(be(v,"$req",p),be(v,"SID","null"),D.U=!0,Nd(D,v,null)):Nd(D,v,p),this.I=2}}else this.I==3&&(c?ov(this,c):this.i.length==0||Ug(this.h)||ov(this))};function ov(c,p){var v;p?v=p.l:v=c.V++;const C=xn(c.J);be(C,"SID",c.M),be(C,"RID",v),be(C,"AID",c.K),jo(c,C),c.u&&c.o&&Md(C,c.u,c.o),v=new vr(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=av(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jd(c.h,v),Nd(v,C,p)}function jo(c,p){c.H&&z(c.H,function(v,C){be(p,C,v)}),c.l&&z({},function(v,C){be(p,C,v)})}function av(c,p,v){v=Math.min(c.i.length,v);const C=c.l?d(c.l.Ka,c.l,c):null;e:{var D=c.i;let se=-1;for(;;){const Ye=["count="+v];se==-1?v>0?(se=D[0].g,Ye.push("ofs="+se)):se=0:Ye.push("ofs="+se);let Te=!0;for(let st=0;st<v;st++){var M=D[st].g;const En=D[st].map;if(M-=se,M<0)se=Math.max(0,D[st].g-100),Te=!1;else try{M="req"+M+"_"||"";try{var B=En instanceof Map?En:Object.entries(En);for(const[ys,xr]of B){let Er=xr;a(xr)&&(Er=Sd(xr)),Ye.push(M+ys+"="+encodeURIComponent(Er))}}catch(ys){throw Ye.push(M+"type="+encodeURIComponent("_badmap")),ys}}catch{C&&C(En)}}if(Te){B=Ye.join("&");break e}}B=void 0}return c=c.i.splice(0,v),p.G=c,B}function lv(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;O||_(),L||(O(),L=!0),b.add(p,c),c.A=0}}function Vd(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xo(d(c.Da,c),dv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,cv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xo(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Al(this),cv(this))};function $d(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function cv(c){c.g=new vr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=xn(c.na);be(p,"RID","rpc"),be(p,"SID",c.M),be(p,"AID",c.K),be(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&be(p,"TO",c.ia),be(p,"TYPE","xmlhttp"),jo(c,p),c.u&&c.o&&Md(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bl(xn(p)),v.u=null,v.R=!0,Lg(v,c)}t.Va=function(){this.C!=null&&(this.C=null,Al(this),Vd(this),Ct(19))};function Rl(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function uv(c,p){var v=null;if(c.g==p){Rl(c),$d(c),c.g=null;var C=2}else if(kd(c.h,p))v=p.G,zg(c.h,p),C=1;else return;if(c.I!=0){if(p.o)if(C==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var D=c.D;C=El(),bt(C,new kg(C,v)),Nl(c)}else lv(c);else if(D=p.m,D==3||D==0&&p.X>0||!(C==1&&Bb(c,p)||C==2&&Vd(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),D){case 1:vs(c,5);break;case 4:vs(c,10);break;case 3:vs(c,6);break;default:vs(c,2)}}}function dv(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function vs(c,p){if(c.j.info("Error code "+p),p==2){var v=d(c.bb,c),C=c.Ua;const D=!C;C=new yr(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||bo(C,"https"),bl(C),D?Mb(C.toString(),v):Lb(C.toString(),v)}else Ct(2);c.I=0,c.l&&c.l.pa(p),hv(c),iv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function hv(c){if(c.I=0,c.ja=[],c.l){const p=Wg(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ja,p),S(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function fv(c,p,v){var C=v instanceof yr?xn(v):new yr(v);if(C.g!="")p&&(C.g=p+"."+C.g),Co(C,C.u);else{var D=o.location;C=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;const M=new yr(null);C&&bo(M,C),p&&(M.g=p),D&&Co(M,D),v&&(M.h=v),C=M}return v=c.G,p=c.wa,v&&p&&be(C,v,p),be(C,"VER",c.ka),jo(c,C),C}function pv(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Le(new Dd({ab:v})):new Le(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mv(){}t=mv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(c,p){return new Ft(c,p)};function Ft(c,p){Fe.call(this),this.g=new sv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!P(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ni(this)}f(Ft,Fe),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Ld(this.g)},Ft.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sd(c),c=v);p.i.push(new Ab(p.Ya++,c)),p.I==3&&Nl(p)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,Ft.Z.N.call(this)};function gv(c){bd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f(gv,bd);function vv(){Cd.call(this),this.status=1}f(vv,Cd);function ni(c){this.g=c}f(ni,mv),ni.prototype.ra=function(){bt(this.g,"a")},ni.prototype.qa=function(c){bt(this.g,new gv(c))},ni.prototype.pa=function(c){bt(this.g,new vv)},ni.prototype.oa=function(){bt(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,qE=function(){return new Pl},GE=function(){return El()},HE=ps,qf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,Cc=Tl,jg.COMPLETE="complete",WE=jg,Ag.EventType=wo,wo.OPEN="a",wo.CLOSE="b",wo.ERROR="c",wo.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Zo=Ag,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,zE=Le}).apply(typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",y0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Tm("@firebase/firestore");function ai(){return Bs.logLevel}function W(t,...e){if(Bs.logLevel<=ce.DEBUG){const n=e.map(Mm);Bs.debug(`Firestore (${ao}): ${t}`,...n)}}function cr(t,...e){if(Bs.logLevel<=ce.ERROR){const n=e.map(Mm);Bs.error(`Firestore (${ao}): ${t}`,...n)}}function Gi(t,...e){if(Bs.logLevel<=ce.WARN){const n=e.map(Mm);Bs.warn(`Firestore (${ao}): ${t}`,...n)}}function Mm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KE(t,r,n)}function KE(t,e,n){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function we(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KE(e,s,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class Sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bj{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class Cj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ij{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Nj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Kf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Eh(s)===Eh(i)?ue(s,i):Eh(s)?1:-1}return ue(t.length,e.length)}const Rj=55296,Pj=57343;function Eh(t){const e=t.charCodeAt(0);return e>=Rj&&e<=Pj}function qi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class Cn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=Cn.isNumericId(e),s=Cn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cn.extractNumericId(e).compare(Cn.extractNumericId(n)):Kf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class je extends Cn{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Cn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new ht([_0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(je.fromString(e))}static fromName(e){return new Y(je.fromString(e).popFirst(5))}static empty(){return new Y(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oj(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x0(t){if(!Y.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function fl(t,e){if(!XE(t))throw new q(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*T0);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E0)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fl(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:qe("string",Ae._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ae(0,0))}static max(){return new te(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function Dj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Zr(s,Y.empty(),e)}function Mj(t){return new Zr(t.readTime,t.key,Ua)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(te.min(),Y.empty(),Ua)}static max(){return new Zr(te.max(),Y.empty(),Ua)}}function Lj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==Vj)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Fj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function nd(t){return t==null}function vu(t){return t===0&&1/t==-1/0}function Uj(t){return typeof t=="number"&&Number.isInteger(t)&&!vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="";function Bj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S0(e)),e=zj(t.get(n),e);return S0(e)}function zj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case YE:n+="";break;default:n+=i}}return n}function S0(t){return t+YE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new nt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZE("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=Wj.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",rT="__local_write_time__";function Fm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tT])==null?void 0:r.stringValue)===eT}function rd(t){const e=t.mapValue.fields[nT];return Fm(e)?rd(e):e}function Ba(t){const e=es(t.mapValue.fields[rT].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r,s,i,o,a,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const yu="(default)";class za{constructor(e,n){this.projectId=e,this.database=n||yu}static empty(){return new za("","")}get isDefaultDatabase(){return this.database===yu}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__type__",iT="__max__",tc={mapValue:{fields:{__type__:{stringValue:iT}}}},oT="__vector__",wu="value";function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fm(t)?4:qj(t)?9007199254740991:Gj(t)?10:11:J(28295,{value:t})}function Un(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=es(s.timestampValue),a=es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ts(s.bytesValue).isEqual(ts(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ue(s.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(s.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ue(s.integerValue)===Ue(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ue(s.doubleValue),a=Ue(i.doubleValue);return o===a?vu(o)===vu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(b0(o)!==b0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Un(o[u],a[u])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Wa(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function Ki(t,e){if(t===e)return 0;const n=ns(t),r=ns(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ue(i.integerValue||i.doubleValue),u=Ue(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return I0(t.timestampValue,e.timestampValue);case 4:return I0(Ba(t),Ba(e));case 5:return Kf(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ts(i),u=ts(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const h=ue(a[d],u[d]);if(h!==0)return h}return ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue(Ue(i.latitude),Ue(o.latitude));return a!==0?a:ue(Ue(i.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return A0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,x,S,E;const a=i.fields||{},u=o.fields||{},d=(g=a[wu])==null?void 0:g.arrayValue,h=(x=u[wu])==null?void 0:x.arrayValue,f=ue(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return f!==0?f:A0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tc.mapValue&&o===tc.mapValue)return 0;if(i===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const g=Kf(u[f],h[f]);if(g!==0)return g;const x=Ki(a[u[f]],d[h[f]]);if(x!==0)return x}return ue(u.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function I0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=es(t),r=es(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function A0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ki(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function Qi(t){return Qf(t)}function Qf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qf(n.fields[o])}`;return s+"}"}(t.mapValue):J(61005,{value:t})}function Ic(t){switch(ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(t);return e?16+Ic(e):16;case 5:return 2*t.stringValue.length;case 6:return ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ic(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return us(r.fields,(i,o)=>{s+=i.length+Ic(o)}),s}(t.mapValue);default:throw J(13486,{value:t})}}function Xf(t){return!!t&&"integerValue"in t}function Um(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function R0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ac(t){return!!t&&"mapValue"in t}function Gj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sT])==null?void 0:r.stringValue)===oT}function ma(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return{...t}}function qj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ac(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){us(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dt(ma(this.value))}}function aT(t){const e=[];return us(t.fields,(n,r)=>{const s=new ht([n]);if(Ac(r)){const i=aT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,te.min(),te.min(),te.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,s){return new Et(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new Et(e,2,n,te.min(),te.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,te.min(),te.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.position=e,this.inclusive=n}}function P0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ki(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class Ze extends lT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xj(e,n,r):n==="array-contains"?new Zj(e,r):n==="in"?new eO(e,r):n==="not-in"?new tO(e,r):n==="array-contains-any"?new nO(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yj(e,r):new Jj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ki(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bn(e,n)}matches(e){return cT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(t){return t.op==="and"}function uT(t){return Qj(t)&&cT(t)}function Qj(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function Yf(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Qi(t.value);if(uT(t))return t.filters.map(e=>Yf(e)).join(",");{const e=t.filters.map(n=>Yf(n)).join(",");return`${t.op}(${e})`}}function dT(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&Un(r.value,s.value)}(t,e):t instanceof Bn?function(r,s){return s instanceof Bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&dT(o,s.filters[a]),!0):!1}(t,e):void J(19439)}function hT(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Qi(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(t):"Filter"}class Xj extends Ze{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yj extends Ze{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jj extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Zj extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Wa(n.arrayValue,this.value)}}class eO extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class tO extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wa(this.value.arrayValue,n)}}class nO extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function j0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new rO(t,e,n,r,s,i,o)}function Bm(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),e.Te=n}return e.Te}function zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function Jf(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sO(t,e,n,r,s,i,o,a){return new sd(t,e,n,r,s,i,o,a)}function Wm(t){return new sd(t)}function O0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iO(t){return t.collectionGroup!==null}function ga(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new xu(i,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new xu(ht.keyField(),r))}return e.Ie}function Dn(t){const e=re(t);return e.Ee||(e.Ee=oO(e,ga(t))),e.Ee}function oO(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new xu(s.field,i)});const n=t.endAt?new _u(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _u(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zf(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return zm(Dn(t),Dn(e))&&t.limitType===e.limitType}function pT(t){return`${Bm(Dn(t))}|lt:${t.limitType}`}function li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hT(s)).join(", ")}]`),nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qi(s)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ga(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const d=P0(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,ga(r),s)||r.endAt&&!function(o,a,u){const d=P0(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,ga(r),s))}(t,e)}function aO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mT(t){return(e,n)=>{let r=!1;for(const s of ga(t)){const i=lO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function lO(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),d=a.data.field(i);return u!==null&&d!==null?Ki(u,d):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Me(Y.comparator);function ur(){return cO}const gT=new Me(Y.comparator);function ea(...t){let e=gT;for(const n of t)e=e.insert(n.key,n);return e}function vT(t){let e=gT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function As(){return va()}function yT(){return va()}function va(){return new Ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const uO=new Me(Y.comparator),dO=new nt(Y.comparator);function de(...t){let e=dO;for(const n of t)e=e.add(n);return e}const hO=new nt(ue);function fO(){return hO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function wT(t){return{integerValue:""+t}}function pO(t,e){return Uj(e)?wT(e):Hm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function mO(t,e,n){return t instanceof Eu?function(s,i){const o={fields:{[tT]:{stringValue:eT},[rT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fm(i)&&(i=rd(i)),i&&(o.fields[nT]=i),{mapValue:o}}(n,e):t instanceof Ha?xT(t,e):t instanceof Ga?ET(t,e):function(s,i){const o=_T(s,i),a=D0(o)+D0(s.Ae);return Xf(o)&&Xf(s.Ae)?wT(a):Hm(s.serializer,a)}(t,e)}function gO(t,e,n){return t instanceof Ha?xT(t,e):t instanceof Ga?ET(t,e):n}function _T(t,e){return t instanceof Tu?function(r){return Xf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Eu extends ad{}class Ha extends ad{constructor(e){super(),this.elements=e}}function xT(t,e){const n=TT(e);for(const r of t.elements)n.some(s=>Un(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ga extends ad{constructor(e){super(),this.elements=e}}function ET(t,e){let n=TT(e);for(const r of t.elements)n=n.filter(s=>!Un(s,r));return{arrayValue:{values:n}}}class Tu extends ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D0(t){return Ue(t.integerValue||t.doubleValue)}function TT(t){return Um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ha&&s instanceof Ha||r instanceof Ga&&s instanceof Ga?qi(r.elements,s.elements,Un):r instanceof Tu&&s instanceof Tu?Un(r.Ae,s.Ae):r instanceof Eu&&s instanceof Eu}(t.transform,e.transform)}class yO{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function ST(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CT(t.key,Mn.none()):new pl(t.key,t.data,Mn.none());{const n=t.data,r=Dt.empty();let s=new nt(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ds(t.key,r,new Wt(s.toArray()),Mn.none())}}function wO(t,e,n){t instanceof pl?function(s,i,o){const a=s.value.clone(),u=L0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(s,i,o){if(!Nc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=L0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(bT(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof pl?function(i,o,a,u){if(!Nc(i.precondition,o))return a;const d=i.value.clone(),h=V0(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(i,o,a,u){if(!Nc(i.precondition,o))return a;const d=V0(i.fieldTransforms,u,o),h=o.data;return h.setAll(bT(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Nc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _O(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=_T(r.transform,s||null);i!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,i))}return n||null}function M0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qi(r,s,(i,o)=>vO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pl extends ld{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ds extends ld{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L0(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,gO(o,a,n[s]))}return r}function V0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,mO(i,o,e))}return r}class CT extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xO extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=ST(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>M0(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>M0(n,r))}}class Gm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return uO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,he;function bO(t){switch(t){case F.OK:return J(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function IT(t){if(t===void 0)return cr("GRPC error has no .code"),F.UNKNOWN;switch(t){case We.OK:return F.OK;case We.CANCELLED:return F.CANCELLED;case We.UNKNOWN:return F.UNKNOWN;case We.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case We.INTERNAL:return F.INTERNAL;case We.UNAVAILABLE:return F.UNAVAILABLE;case We.UNAUTHENTICATED:return F.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case We.NOT_FOUND:return F.NOT_FOUND;case We.ALREADY_EXISTS:return F.ALREADY_EXISTS;case We.PERMISSION_DENIED:return F.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case We.ABORTED:return F.ABORTED;case We.OUT_OF_RANGE:return F.OUT_OF_RANGE;case We.UNIMPLEMENTED:return F.UNIMPLEMENTED;case We.DATA_LOSS:return F.DATA_LOSS;default:return J(39323,{code:t})}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Qr([4294967295,4294967295],0);function $0(t){const e=CO().encode(t),n=new BE;return n.update(e),new Uint8Array(n.digest())}function F0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qr([n,r],0),new Qr([s,i],0)]}class qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(r<0)throw new ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qr.fromNumber(r)));return s.compare(IO)===1&&(s=new Qr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$0(e),[r,s]=F0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=$0(e),[r,s]=F0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cd(te.min(),s,new Me(ue),ur(),de())}}class ml{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ml(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class AT{constructor(e,n){this.targetId=e,this.Ce=n}}class NT{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class U0{constructor(){this.ve=0,this.Fe=B0(),this.Me=mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),n=de(),r=de();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J(38017,{changeType:i})}}),new ml(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=B0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=nc(),this.He=nc(),this.Ye=new Me(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Jf(i))if(r===0){const o=new Y(i.path);this.et(n,o,Et.newNoDocument(o,te.min()))}else we(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ts(r).toUint8Array()}catch(u){if(u instanceof ZE)return Gi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qm(o,s,i)}catch(u){return Gi(u instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Jf(a.target)){const u=new Y(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Et.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=de();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new cd(e,n,this.Ye,this.je,r);return this.je=ur(),this.Je=nc(),this.He=nc(),this.Ye=new Me(ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nc(){return new Me(Y.comparator)}function B0(){return new Me(Y.comparator)}const NO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),PO=(()=>({and:"AND",or:"OR"}))();class kO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function Su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jO(t,e){return Su(t,e.toTimestamp())}function Ln(t){return we(!!t,49232),te.fromTimestamp(function(n){const r=es(n);return new Ae(r.seconds,r.nanos)}(t))}function Km(t,e){return tp(t,e).canonicalString()}function tp(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PT(t){const e=je.fromString(t);return we(MT(e),10190,{key:e.toString()}),e}function np(t,e){return Km(t.databaseId,e.path)}function Th(t,e){const n=PT(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(jT(n))}function kT(t,e){return Km(t.databaseId,e)}function OO(t){const e=PT(t);return e.length===4?je.emptyPath():jT(e)}function rp(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jT(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function z0(t,e,n){return{name:np(t,e),fields:n.value.mapValue.fields}}function DO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:J(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(we(h===void 0||typeof h=="string",58123),mt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:IT(d.code);return new q(h,d.message||"")}(o);n=new NT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Th(t,r.document.name),i=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):te.min(),a=new Dt({mapValue:{fields:r.document.fields}}),u=Et.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Rc(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Th(t,r.document),i=r.readTime?Ln(r.readTime):te.min(),o=Et.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Th(t,r.document),i=r.removedTargetIds||[];n=new Rc([],i,s,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new SO(s,i),a=r.targetId;n=new AT(a,o)}}return n}function MO(t,e){let n;if(e instanceof pl)n={update:z0(t,e.key,e.value)};else if(e instanceof CT)n={delete:np(t,e.key)};else if(e instanceof ds)n={update:z0(t,e.key,e.data),updateMask:HO(e.fieldMask)};else{if(!(e instanceof xO))return J(16599,{Vt:e.type});n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:jO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J(27497)}(t,e.precondition)),n}function LO(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ln(s.updateTime):Ln(i);return o.isEqual(te.min())&&(o=Ln(i)),new yO(o,s.transformResults||[])}(n,e))):[]}function VO(t,e){return{documents:[kT(t,e.path)]}}function $O(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kT(t,s);const i=function(d){if(d.length!==0)return DT(Bn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:ci(g.field),direction:BO(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ep(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function FO(t){let e=OO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){we(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=OT(f);return g instanceof Bn&&uT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(S){return new xu(ui(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,nd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,x=f.values||[];return new _u(x,g)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const g=!f.before,x=f.values||[];return new _u(x,g)}(n.endAt)),sO(e,s,o,i,a,"F",u,d)}function UO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ui(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(ui(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>OT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function BO(t){return NO[t]}function zO(t){return RO[t]}function WO(t){return PO[t]}function ci(t){return{fieldPath:t.canonicalString()}}function ui(t){return ht.fromServerFormat(t.fieldPath)}function DT(t){return t instanceof Ze?function(n){if(n.op==="=="){if(R0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:zO(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(s=>DT(s));return r.length===1?r[0]:{compositeFilter:{op:WO(n.op),filters:r}}}(t):J(54877,{filter:t})}function HO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,s,i=te.min(),o=te.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.yt=e}}function qO(t){const e=FO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Cn=new QO}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Zr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class QO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LT=41943040;class kt{static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(LT,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xi(0)}static cr(){return new Xi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LruGarbageCollector",XO=1048576;function G0([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class YO{constructor(e){this.Ir=e,this.buffer=new nt(G0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(H0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?W(H0,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Vr(3e5)})}}class ZO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(td.ce);const r=new YO(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(W0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ai()<=ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function eD(t,e){return new ZO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ya(r.mutation,s,Wt.empty(),Ae.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=As();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ea();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=As();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ur();const o=va(),a=function(){return va()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ds)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ya(h.mutation,d,h.mutation.getFieldMask(),Ae.now())):o.set(d.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new nD(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=va();let s=new Me((o,a)=>o-a),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||Wt.empty();h=a.applyToLocalView(d,h),r.set(u,h);const f=(s.get(a.batchId)||de()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,h=u.value,f=yT();h.forEach(g=>{if(!i.has(g)){const x=ST(n.get(g),r.get(g));x!==null&&f.set(g,x),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(As());let a=Ua,u=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,de())).next(h=>({batchId:a,changes:vT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=ea();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ea();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,u=>{const d=function(f,g){return new sd(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Et.newInvalidDocument(h)))});let a=ea();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&ya(h.mutation,d,Wt.empty(),Ae.now()),od(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ln(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:qO(s.bundledQuery),readTime:Ln(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.overlays=new Me(Y.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=As();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=As(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Me((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=As(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=As(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TO(n,r));let i=this.qr.get(n);i===void 0&&(i=de(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Qr=new nt(it.$r),this.Ur=new nt(it.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new it(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new je([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new je([])),r=new it(n,e),s=new it(n,e+1);let i=de();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(it.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ue);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new it(new Y(i),0);let a=new nt(ue);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new it(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.ri=e,this.docs=function(){return new Me(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Et.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ur();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Lj(Mj(h),r)<=0||(s.has(h.key)||od(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cD(this)}getSize(e){return $.resolve(this.size)}}class cD extends tD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.persistence=e,this.si=new Ys(n=>Bm(n),zm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Xi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=e(this),this.Pi=new uD(this),this.indexManager=new KO,this.remoteDocumentCache=function(s){return new lD(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new GO(n),this.Ii=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new aD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new dD(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class dD extends $j{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bu{constructor(e,n){this.persistence=e,this.pi=new Ys(r=>Bj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=eD(this,n)}static mi(e,n){return new bu(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ic(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ym(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LR()?8:Fj(St())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new hD;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ai()<=ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ai()<=ce.DEBUG&&W("QueryEngine","Query:",li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ai()<=ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):$.resolve())}ys(e,n){if(O0(n))return $.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zf(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,a);return this.Cs(n,d,o,u.readTime)?this.ys(e,Zf(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return O0(n)||s.isEqual(te.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(ai()<=ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),li(n)),this.vs(e,o,n,Dj(s,Ua)).next(a=>a))})}Ds(e,n){let r=new nt(mT(e));return n.forEach((s,i)=>{od(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ai()<=ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",li(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="LocalStore",pD=3e8;class mD{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Me(ue),this.xs=new Ys(i=>Bm(i),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gD(t,e,n,r){return new mD(t,e,n,r)}async function $T(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=de();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function vD(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,d,h){const f=d.batch,g=f.keys();let x=$.resolve();return g.forEach(S=>{x=x.next(()=>h.getEntry(u,S)).next(E=>{const I=d.docVersions.get(S);we(I!==null,48541),E.version.compareTo(I)<0&&(f.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FT(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yD(t,e){const n=re(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(mt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(E,I,w){return E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=pD?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,x,h)&&a.push(n.Pi.updateTargetData(i,x))});let u=ur(),d=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(wD(i,o,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=s,i))}function wD(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ur();return n.forEach((a,u)=>{const d=i.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W(Jm,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:s}})}function _D(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xD(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sp(t,e,n){const r=re(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!co(o))throw o;W(Jm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function q0(t,e,n){const r=re(t);let s=te.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const f=re(u),g=f.xs.get(h);return g!==void 0?$.resolve(f.Ms.get(g)):f.Pi.getTargetData(d,h)}(r,o,Dn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:de())).next(a=>(ED(r,aO(e),a),{documents:a,Qs:i})))}function ED(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class K0{constructor(){this.activeTargetIds=fO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.Mo=new K0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function ip(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===yu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ip(),a=this.zo(e,n.toUriEncodedString());W(Sh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(a),h=so(d);return this.Jo(e,a,u,r,h).then(f=>(W(Sh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Gi(Sh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=bD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class AD extends CD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ip();return new Promise((a,u)=>{const d=new zE;d.setWithCredentials(!0),d.listenOnce(WE.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cc.NO_ERROR:const f=d.getResponseJson();W(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Cc.TIMEOUT:W(wt,`RPC '${e}' ${o} timed out`),u(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const g=d.getStatus();if(W(wt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const E=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(S.status);u(new q(E,S.message))}else u(new q(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new q(F.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{W(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);W(wt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=ip(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qE(),a=GE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");W(wt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let g=!1,x=!1;const S=new ID({Yo:I=>{x?W(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(g||(W(wt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),W(wt,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Zo:()=>f.close()}),E=(I,w,y)=>{I.listen(w,T=>{try{y(T)}catch(N){setTimeout(()=>{throw N},0)}})};return E(f,Zo.EventType.OPEN,()=>{x||(W(wt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),E(f,Zo.EventType.CLOSE,()=>{x||(x=!0,W(wt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),E(f,Zo.EventType.ERROR,I=>{x||(x=!0,Gi(wt,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),S.a_(new q(F.UNAVAILABLE,"The operation could not be completed")))}),E(f,Zo.EventType.MESSAGE,I=>{var w;if(!x){const y=I.data[0];we(!!y,16349);const T=y,N=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(N){W(wt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let L=function(A){const R=We[A];if(R!==void 0)return IT(R)}(O),b=N.message;L===void 0&&(L=F.INTERNAL,b="Unknown error status: "+O+" with message "+N.message),x=!0,S.a_(new q(L,b)),f.close()}else W(wt,`RPC '${e}' stream ${s} received:`,y),S.u_(y)}}),E(a,HE.STAT_EVENT,I=>{I.stat===qf.PROXY?W(wt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===qf.NOPROXY&&W(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return new kO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class BT{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ND extends BT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DO(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Ln(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Jf(u)?{documents:VO(i,u)}:{query:$O(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RT(i,o.resumeToken);const d=ep(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Su(i,o.snapshotVersion.toTimestamp());const d=ep(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=UO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.q_(n)}}class RD extends BT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LO(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class kD extends PD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,tp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,tp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class OD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Js(this)&&(W(Ws,"Restarting streams for network reachability change."),await async function(u){const d=re(u);d.Ea.add(4),await gl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dd(d)}(this))})}),this.Ra=new jD(r,s)}}async function dd(t){if(Js(t))for(const e of t.da)await e(!0)}async function gl(t){for(const e of t.da)await e(!1)}function zT(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):uo(n).O_()&&eg(n,e))}function Zm(t,e){const n=re(t),r=uo(n);n.Ia.delete(e),r.O_()&&WT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Js(n)&&n.Ra.set("Unknown"))}function eg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).Y_(e)}function WT(t,e){t.Va.Ue(e),uo(t).Z_(e)}function tg(t){t.Va=new AO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.Ra.ua()}function ng(t){return Js(t)&&!uo(t).x_()&&t.Ia.size>0}function Js(t){return re(t).Ea.size===0}function HT(t){t.Va=void 0}async function DD(t){t.Ra.set("Online")}async function MD(t){t.Ia.forEach((e,n)=>{eg(t,e)})}async function LD(t,e){HT(t),ng(t)?(t.Ra.ha(e),tg(t)):t.Ra.set("Unknown")}async function VD(t,e,n){if(t.Ra.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){W(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cu(t,r)}else if(e instanceof Rc?t.Va.Ze(e):e instanceof AT?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await FT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),WT(i,u);const f=new Mr(h.target,u,d,h.sequenceNumber);eg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Ws,"Failed to raise snapshot:",r),await Cu(t,r)}}async function Cu(t,e,n){if(!co(e))throw e;t.Ea.add(1),await gl(t),t.Ra.set("Offline"),n||(n=()=>FT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dd(t)})}function GT(t,e){return e().catch(n=>Cu(t,n,e))}async function hd(t){const e=re(t),n=rs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;$D(e);)try{const s=await _D(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,FD(e,s)}catch(s){await Cu(e,s)}qT(e)&&KT(e)}function $D(t){return Js(t)&&t.Ta.length<10}function FD(t,e){t.Ta.push(e);const n=rs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qT(t){return Js(t)&&!rs(t).x_()&&t.Ta.length>0}function KT(t){rs(t).start()}async function UD(t){rs(t).ra()}async function BD(t){const e=rs(t);for(const n of t.Ta)e.ea(n.mutations)}async function zD(t,e,n){const r=t.Ta.shift(),s=Gm.from(r,e,n);await GT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hd(t)}async function WD(t,e){e&&rs(t).X_&&await async function(r,s){if(function(o){return bO(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();rs(r).B_(),await GT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hd(r)}}(t,e),qT(t)&&KT(t)}async function J0(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),W(Ws,"RemoteStore received new credentials");const r=Js(n);n.Ea.add(3),await gl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function HD(t,e){const n=re(t);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await gl(n),n.Ra.set("Unknown"))}function uo(t){return t.ma||(t.ma=function(n,r,s){const i=re(n);return i.sa(),new ND(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:DD.bind(null,t),t_:MD.bind(null,t),r_:LD.bind(null,t),H_:VD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ng(t)?tg(t):t.Ra.set("Unknown")):(await t.ma.stop(),HT(t))})),t.ma}function rs(t){return t.fa||(t.fa=function(n,r,s){const i=re(n);return i.sa(),new RD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UD.bind(null,t),r_:WD.bind(null,t),ta:BD.bind(null,t),na:zD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hd(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new rg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(t,e){if(cr("AsyncQueue",`${e}: ${t}`),co(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static emptySet(e){return new Oi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.ga=new Me(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yi{constructor(e,n,r,s,i,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yi(e,n,Oi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qD{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=ew(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}}function ew(){return new Ys(t=>pT(t),id)}async function KD(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new GD,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=sg(o,`Initialization of query '${li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ig(n)}async function QD(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XD(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&ig(n)}function YD(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ig(t){t.Ca.forEach(e=>{e.next()})}var op,tw;(tw=op||(op={})).Ma="default",tw.Cache="cache";class JD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class ZD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=mT(e),this.tu=new Oi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Z0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),x=od(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;g&&x?g.data.isEqual(x.data)?S!==E&&(r.track({type:3,doc:x}),I=!0):this.su(g,x)||(r.track({type:2,doc:x}),I=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(a=!0)):!g&&x?(r.track({type:0,doc:x}),I=!0):g&&!x&&(r.track({type:1,doc:g}),I=!0,(u||d)&&(a=!0)),I&&(x?(o=o.add(x),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(x,S){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:I})}};return E(x)-E(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Yi(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new QT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=de();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class e4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t4{constructor(e){this.key=e,this.hu=!1}}class n4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ys(a=>pT(a),id),this.Iu=new Map,this.Eu=new Set,this.du=new Me(Y.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Xi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r4(t,e,n=!0){const r=nS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await YT(r,e,n,!0),s}async function s4(t,e){const n=nS(t);await YT(n,e,!0,!1)}async function YT(t,e,n,r){const s=await xD(t.localStore,Dn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await i4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&zT(t.remoteStore,s),a}async function i4(t,e,n,r,s){t.pu=(f,g,x)=>async function(E,I,w,y){let T=I.view.ru(w);T.Cs&&(T=await q0(E.localStore,I.query,!1).then(({documents:b})=>I.view.ru(b,T)));const N=y&&y.targetChanges.get(I.targetId),O=y&&y.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(T,E.isPrimaryClient,N,O);return rw(E,I.targetId,L.au),L.snapshot}(t,f,g,x);const i=await q0(t.localStore,e,!0),o=new ZD(e,i.Qs),a=o.ru(i.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,u);rw(t,n,d.au);const h=new e4(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function o4(t,e,n){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!id(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zm(r.remoteStore,s.targetId),ap(r,s.targetId)}).catch(lo)):(ap(r,s.targetId),await sp(r.localStore,s.targetId,!0))}async function a4(t,e){const n=re(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(n.remoteStore,r.targetId))}async function l4(t,e,n){const r=m4(t);try{const s=await function(o,a){const u=re(o),d=Ae.now(),h=a.reduce((x,S)=>x.add(S.key),de());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=ur(),E=de();return u.Ns.getEntries(x,h).next(I=>{S=I,S.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,S)).next(I=>{f=I;const w=[];for(const y of a){const T=_O(y,f.get(y.key).overlayedDocument);T!=null&&w.push(new ds(y.key,T,aT(T.value.mapValue),Mn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,w,a)}).next(I=>{g=I;const w=I.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(x,I.batchId,w)})}).then(()=>({batchId:g.batchId,changes:vT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Me(ue)),d=d.insert(a,u),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await vl(r,s.changes),await hd(r.remoteStore)}catch(s){const i=sg(s,"Failed to persist write");n.reject(i)}}async function JT(t,e){const n=re(t);try{const r=await yD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?we(o.hu,14607):s.removedDocuments.size>0&&(we(o.hu,42227),o.hu=!1))}),await vl(n,r,e)}catch(r){await lo(r)}}function nw(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=re(o);u.onlineState=a;let d=!1;u.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(a)&&(d=!0)}),d&&ig(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c4(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Me(Y.comparator);o=o.insert(i,Et.newNoDocument(i,te.min()));const a=de().add(i),u=new cd(te.min(),new Map,new Me(ue),o,a);await JT(r,u),r.du=r.du.remove(i),r.Au.delete(e),ag(r)}else await sp(r.localStore,e,!1).then(()=>ap(r,e,n)).catch(lo)}async function u4(t,e){const n=re(t),r=e.batch.batchId;try{const s=await vD(n.localStore,e);eS(n,r,null),ZT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vl(n,s)}catch(s){await lo(s)}}async function d4(t,e,n){const r=re(t);try{const s=await function(o,a){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,a).next(f=>(we(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);eS(r,e,n),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vl(r,s)}catch(s){await lo(s)}}function ZT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eS(t,e,n){const r=re(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ap(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||tS(t,r)})}function tS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ag(t))}function rw(t,e,n){for(const r of n)r instanceof QT?(t.Ru.addReference(r.key,e),h4(t,r)):r instanceof XT?(W(og,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tS(t,r.key)):J(19791,{wu:r})}function h4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(og,"New document in limbo: "+n),t.Eu.add(r),ag(t))}function ag(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(je.fromString(e)),r=t.fu.next();t.Au.set(r,new t4(n)),t.du=t.du.insert(n,r),zT(t.remoteStore,new Mr(Dn(Wm(n.path)),r,"TargetPurposeLimboResolution",td.ce))}}async function vl(t,e,n){const r=re(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Ym.As(u.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,d){const h=re(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,g=>$.forEach(g.Es,x=>h.persistence.referenceDelegate.addReference(f,g.targetId,x)).next(()=>$.forEach(g.ds,x=>h.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))}catch(f){if(!co(f))throw f;W(Jm,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const x=h.Ms.get(g),S=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(g,E)}}}(r.localStore,i))}async function f4(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){W(og,"User change. New user:",e.toKey());const r=await $T(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new q(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vl(n,r.Ls)}}function p4(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return de().add(r.key);{let s=de();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function nS(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c4.bind(null,e),e.Pu.H_=XD.bind(null,e.eventManager),e.Pu.yu=YD.bind(null,e.eventManager),e}function m4(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d4.bind(null,e),e}class Iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gD(this.persistence,new fD,e.initialUser,this.serializer)}Cu(e){return new VT(Xm.mi,this.serializer)}Du(e){return new TD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iu.provider={build:()=>new Iu};class g4 extends Iu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof bu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new VT(r=>bu.mi(r,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await HD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qD}()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),r=function(i){return new AD(i)}(e.databaseInfo);return function(i,o,a,u){return new kD(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new OD(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nw(this.syncEngine,n,0),function(){return X0.v()?new X0:new SD}())}createSyncEngine(e,n){return function(s,i,o,a,u,d,h){const f=new n4(s,i,o,a,u,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);W(Ws,"RemoteStore shutting down."),i.Ea.add(5),await gl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class y4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_t.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W(ss,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(ss,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ch(t,e){t.asyncQueue.verifyOperationInProgress(),W(ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $T(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w4(t);W(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>J0(e.remoteStore,s)),t._onlineComponents=e}async function w4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(ss,"Using user provided OfflineComponentProvider");try{await Ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gi("Error using user provided cache. Falling back to memory cache: "+n),await Ch(t,new Iu)}}else W(ss,"Using default OfflineComponentProvider"),await Ch(t,new g4(void 0));return t._offlineComponents}async function rS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(ss,"Using user provided OnlineComponentProvider"),await sw(t,t._uninitializedComponentsProvider._online)):(W(ss,"Using default OnlineComponentProvider"),await sw(t,new lp))),t._onlineComponents}function _4(t){return rS(t).then(e=>e.syncEngine)}async function x4(t){const e=await rS(t),n=e.eventManager;return n.onListen=r4.bind(null,e.syncEngine),n.onUnlisten=o4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function E4(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new v4({next:g=>{h.Nu(),o.enqueueAndForget(()=>QD(i,f));const x=g.docs.has(a);!x&&g.fromCache?d.reject(new q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&u&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new JD(Wm(a.path),h,{includeMetadataChanges:!0,qa:!0});return KD(i,f)}(await x4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",ow=!0;class aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=ow}else this.host=e.host,this.ssl=e.ssl??ow;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XO)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tj;switch(r.type){case"firstParty":return new Ij(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iw.get(n);r&&(W("ComponentProvider","Removing Datastore"),iw.delete(n),r.terminate())}(this),Promise.resolve()}}function T4(t,e,n,r={}){var d;t=zs(t,lg);const s=so(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Y1(`https://${a}`),J1("Firestore",!0)),i.host!==iS&&i.host!==a&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Vs(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=_t.MOCK_USER;else{h=AR(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _t(g)}t._authCredentials=new Sj(new QE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cg(this.firestore,e,this._query)}}class tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fl(n,tt._jsonSchema))return new tt(e,r||null,new Y(je.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:qe("string",tt._jsonSchemaVersion),referencePath:qe("string")};class qa extends cg{constructor(e,n,r){super(e,n,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new Y(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function en(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Lm.newId()),jj("doc","path",e),t instanceof lg){const r=je.fromString(e,...n);return x0(r),new tt(t,null,new Y(r))}{if(!(t instanceof tt||t instanceof qa))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return x0(r),new tt(t.firestore,t instanceof qa?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="AsyncQueue";class cw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,"async_queue_retry"),this._c=()=>{const r=bh();r&&W(lw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;W(lw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",uw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=rg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&J(47125,{Pc:uw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fd extends lg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cw(e),this._firestoreClient=void 0,await e}}}function S4(t,e){const n=typeof t=="object"?t:nE(),r=typeof t=="string"?t:e||yu,s=bm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CR("firestore");i&&T4(s,...i)}return s}function oS(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b4(t),t._firestoreClient}function b4(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,d,h){return new Hj(a,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new y4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(mt.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fl(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:qe("string",Jt._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vn._jsonSchemaVersion}}static fromJSON(e){if(fl(e,Vn._jsonSchema))return new Vn(e.latitude,e.longitude)}}Vn._jsonSchemaVersion="firestore/geoPoint/1.0",Vn._jsonSchema={type:qe("string",Vn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fl(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $n(e.vectorValues);throw new q(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:qe("string",$n._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=/^__.*__$/;class I4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new pl(e,this.data,n,this.fieldTransforms)}}class aS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class dg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Au(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&C4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ud(e)}Cc(e,n,r,s=!1){return new dg({Ac:e,methodName:n,Dc:r,path:ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cS(t){const e=t._freezeSettings(),n=ud(t._databaseId);return new A4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N4(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);hg("Data must be an object, but it was:",o,r);const a=uS(r,o);let u,d;if(i.merge)u=new Wt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=cp(e,f,n);if(!o.contains(g))throw new q(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);hS(h,g)||h.push(g)}u=new Wt(h),d=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=o.fieldTransforms;return new I4(new Dt(a),u,d)}class md extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function R4(t,e,n,r){const s=t.Cc(1,e,n);hg("Data must be an object, but it was:",s,r);const i=[],o=Dt.empty();us(r,(u,d)=>{const h=fg(e,u,n);d=ct(d);const f=s.yc(h);if(d instanceof md)i.push(h);else{const g=gd(d,f);g!=null&&(i.push(h),o.set(h,g))}});const a=new Wt(i);return new aS(o,a,s.fieldTransforms)}function P4(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[cp(e,r,n)],u=[s];if(i.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(cp(e,i[g])),u.push(i[g+1]);const d=[],h=Dt.empty();for(let g=a.length-1;g>=0;--g)if(!hS(d,a[g])){const x=a[g];let S=u[g];S=ct(S);const E=o.yc(x);if(S instanceof md)d.push(x);else{const I=gd(S,E);I!=null&&(d.push(x),h.set(x,I))}}const f=new Wt(d);return new aS(h,f,o.fieldTransforms)}function gd(t,e){if(dS(t=ct(t)))return hg("Unsupported field value:",e,t),uS(t,e);if(t instanceof ug)return function(r,s){if(!lS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=gd(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:Su(s.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Su(s.serializer,i)}}if(r instanceof Vn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jt)return{bytesValue:RT(s.serializer,r._byteString)};if(r instanceof tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Km(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $n)return function(o,a){return{mapValue:{fields:{[sT]:{stringValue:oT},[wu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Hm(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Vm(r)}`)}(t,e)}function uS(t,e){const n={};return JE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(t,(r,s)=>{const i=gd(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Vn||t instanceof Jt||t instanceof tt||t instanceof ug||t instanceof $n)}function hg(t,e,n){if(!dS(n)||!XE(n)){const r=Vm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cp(t,e,n){if((e=ct(e))instanceof pd)return e._internalPath;if(typeof e=="string")return fg(t,e);throw Au("Field path arguments must be of type string or ",t,!1,void 0,n)}const k4=new RegExp("[~\\*/\\[\\]]");function fg(t,e,n){if(e.search(k4)>=0)throw Au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw Au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Au(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(F.INVALID_ARGUMENT,a+t+u)}function hS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j4 extends fS{data(){return super.data()}}function pS(t,e){return typeof e=="string"?fg(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class O4{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return us(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[wu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ue(o.doubleValue));return new $n(n)}convertGeoPoint(e){return new Vn(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=es(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);we(MT(r),9688,{name:e});const s=new za(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends fS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:qe("string",Ps._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Pc extends Ps{data(e={}){return super.data(e)}}class wa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new na(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Pc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Pc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:M4(a.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){t=zs(t,tt);const e=zs(t.firestore,fd);return E4(oS(e),t._key).then(n=>V4(e,t,n))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:qe("string",wa._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class L4 extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function Qa(t,e,n){t=zs(t,tt);const r=zs(t.firestore,fd),s=D4(t.converter,e,n);return gS(r,[N4(cS(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mn.none())])}function mS(t,e,n,...r){t=zs(t,tt);const s=zs(t.firestore,fd),i=cS(s);let o;return o=typeof(e=ct(e))=="string"||e instanceof pd?P4(i,"updateDoc",t._key,e,n,r):R4(i,"updateDoc",t._key,e),gS(s,[o.toMutation(t._key,Mn.exists(!0))])}function gS(t,e){return function(r,s){const i=new Xr;return r.asyncQueue.enqueueAndForget(async()=>l4(await _4(r),s,i)),i.promise}(oS(t),e)}function V4(t,e,n){const r=n.docs.get(e._key),s=new L4(t);return new Ps(t,s,e._key,r,new na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ao=s})(io),Wi(new $s("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fd(new bj(r.getProvider("auth-internal")),new Aj(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Kr(v0,y0,e),Kr(v0,y0,"esm2020")})();const Xa={apiKey:"AIzaSyAHGETZ-5oIu51ttPOex7gSIinQAzlnu4M",authDomain:"clickpassagens-3d23e.firebaseapp.com",projectId:"clickpassagens-3d23e",storageBucket:"clickpassagens-3d23e.firebasestorage.app",messagingSenderId:"178000173795",appId:"1:178000173795:web:3c1c10dacc6068a27543d6"};if(!Xa.apiKey||!Xa.projectId)throw console.error("❌ ERRO: Variáveis do Firebase não configuradas!"),console.error("Verifique se o arquivo .env possui as variáveis VITE_FIREBASE_*"),new Error("Firebase configuration is missing. Check your .env file.");console.log("✅ Firebase configurado com sucesso!",{projectId:Xa.projectId,authDomain:Xa.authDomain});const vS=tE(Xa),Ve=xj(vS),tn=S4(vS),kc=new Yn;lk(Ve,RE).then(()=>{console.log("✅ Persistência LOCAL configurada (sessão mantida)")}).catch(t=>{console.error("⚠️ Erro ao configurar persistência:",t)});kc.setCustomParameters({prompt:"select_account"});async function $4(t,e,n){try{const s=(await sk(Ve,t,e)).user;return n&&await ak(s,{displayName:n}),await Qa(en(tn,"users",s.uid),{uid:s.uid,email:s.email,displayName:n||"",createdAt:new Date().toISOString(),photoURL:s.photoURL||"",plan:"free",searches:0,quotes:0}),{success:!0,user:s}}catch(r){return console.error("Erro no registro:",r),{success:!1,error:yl(r.code)}}}async function F4(t,e){try{return{success:!0,user:(await ik(Ve,t,e)).user}}catch(n){return console.error("Erro no login:",n),{success:!1,error:yl(n.code)}}}async function U4(){try{console.log("🔵 [Firebase] Iniciando login com Google..."),console.log("🔵 [Firebase] User Agent:",navigator.userAgent);const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(console.log("� [Firebase] É Mobile?",t),t)return console.log("🔄 [Firebase] Mobile detectado - usando signInWithRedirect"),await a0(Ve,kc),{success:!0,redirect:!0};console.log("🪟 [Firebase] Desktop - tentando signInWithPopup...");try{const e=await Pk(Ve,kc);console.log("✅ [Firebase] Popup retornou resultado:",e);const n=e.user;return console.log("✅ [Firebase] User email:",n.email),console.log("📄 [Firebase] Verificando documento no Firestore..."),(await Ka(en(tn,"users",n.uid))).exists()?console.log("✅ [Firebase] Documento já existe"):(console.log("📝 [Firebase] Documento não existe, criando..."),await Qa(en(tn,"users",n.uid),{uid:n.uid,email:n.email,displayName:n.displayName||"",createdAt:new Date().toISOString(),photoURL:n.photoURL||"",plan:"free",searches:0,quotes:0}),console.log("✅ [Firebase] Documento criado com sucesso!")),console.log("🎉 [Firebase] Login Google concluído com sucesso!"),{success:!0,user:n}}catch(e){if(console.warn("⚠️ [Firebase] Popup falhou:",e.code),e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request")return console.log("🔄 [Firebase] Popup bloqueado - usando redirect como fallback"),await a0(Ve,kc),{success:!0,redirect:!0};throw e}}catch(t){console.error("❌ [Firebase] ERRO no login Google:"),console.error("❌ [Firebase] Nome:",t.name),console.error("❌ [Firebase] Código:",t.code),console.error("❌ [Firebase] Mensagem:",t.message),console.error("❌ [Firebase] Objeto completo:",t);let e="Erro ao fazer login com Google";switch(t.code){case"auth/popup-closed-by-user":e="Você fechou a janela de login.";break;case"auth/unauthorized-domain":e="Domínio não autorizado. Configure no Firebase.";break;default:e=yl(t.code)||t.message}return{success:!1,error:e}}}async function B4(){try{console.log("🔄 firebase.js: Chamando getRedirectResult..."),console.log("🔄 firebase.js: Usuário atual antes:",Ve.currentUser?Ve.currentUser.email:"null");const t=await l0(Ve);if(console.log("🔄 firebase.js: getRedirectResult retornou:",t),console.log("🔄 firebase.js: Usuário atual depois:",Ve.currentUser?Ve.currentUser.email:"null"),t&&t.user){const r=t.user;console.log("✅ firebase.js: Usuário do redirect:",r.email);const s=await Ka(en(tn,"users",r.uid));return console.log("📄 firebase.js: Documento do usuário existe?",s.exists()),s.exists()||(console.log("📝 firebase.js: Criando novo documento de usuário..."),await Qa(en(tn,"users",r.uid),{uid:r.uid,email:r.email,displayName:r.displayName||"",createdAt:new Date().toISOString(),photoURL:r.photoURL||"",plan:"free",searches:0,quotes:0}),console.log("✅ firebase.js: Documento criado com sucesso!")),sessionStorage.setItem("googleLoginSuccess","true"),console.log("✅ firebase.js: handleRedirectResult - Login bem-sucedido!"),{success:!0,user:r}}if(!t&&Ve.currentUser){console.log("⚡ firebase.js: getRedirectResult null, mas há usuário autenticado!");const r=Ve.currentUser;return(await Ka(en(tn,"users",r.uid))).exists()||(console.log("📝 firebase.js: Criando documento do usuário logado..."),await Qa(en(tn,"users",r.uid),{uid:r.uid,email:r.email,displayName:r.displayName||"",createdAt:new Date().toISOString(),photoURL:r.photoURL||"",plan:"free",searches:0,quotes:0})),{success:!0,user:r}}console.log("📱 firebase.js: Verificando autenticação mobile alternativa");const e=new URLSearchParams(window.location.search),n=e.toString().includes("auth")||e.toString().includes("code")||e.toString().includes("state");if(console.log("📱 firebase.js: URL:",window.location.href),console.log("📱 firebase.js: Tem parâmetros auth?",n),n){if(console.log("🚨 firebase.js: PARÂMETROS AUTH DETECTADOS - TENTANDO ABORDAGEM ALTERNATIVA"),console.log("⏳ firebase.js: Aguardando processamento do Firebase..."),await new Promise(r=>setTimeout(r,1e3)),Ve.currentUser){console.log("✅ firebase.js: USUÁRIO ENCONTRADO DIRETAMENTE!"),console.log("✅ firebase.js: Email:",Ve.currentUser.email);const r=window.location.origin+window.location.pathname;return window.history.replaceState({},document.title,r),console.log("🧹 firebase.js: URL limpa"),await Ih(Ve.currentUser)}console.log("🔄 firebase.js: Tentando getRedirectResult tradicional...");try{const r=await l0(Ve);if(r&&r.user){console.log("✅ firebase.js: getRedirectResult funcionou!");const s=window.location.origin+window.location.pathname;return window.history.replaceState({},document.title,s),await Ih(r.user)}}catch(r){console.error("❌ firebase.js: Erro no getRedirectResult:",r)}if(console.log("🔄 firebase.js: Tentando verificação final..."),await new Promise(r=>setTimeout(r,2e3)),Ve.currentUser){console.log("✅ firebase.js: USUÁRIO ENCONTRADO NA VERIFICAÇÃO FINAL!");const r=window.location.origin+window.location.pathname;return window.history.replaceState({},document.title,r),await Ih(Ve.currentUser)}return console.log("⚠️ firebase.js: Nenhuma abordagem funcionou"),{success:!1,error:"Nenhuma abordagem de autenticação funcionou"}}return console.log("⚠️ firebase.js: Nenhum resultado de redirect e nenhum usuário autenticado"),{success:!1,noResult:!0}}catch(t){return console.error("❌ firebase.js: Erro ao processar redirect:",t),console.error("Código do erro:",t.code),console.error("Mensagem:",t.message),{success:!1,error:yl(t.code)}}}async function Ih(t){var e;console.log("🎯 firebase.js: PROCESSANDO USUÁRIO APÓS REDIRECT - EMAIL:",t.email),console.log("🎯 firebase.js: UID:",t.uid);try{(await Ka(en(tn,"users",t.uid))).exists()?(console.log("✅ firebase.js: Usuário já existe - atualizando último login"),await mS(en(tn,"users",t.uid),{lastLogin:new Date().toISOString()})):(console.log("📝 firebase.js: CRIANDO NOVO USUÁRIO NO FIRESTORE"),await Qa(en(tn,"users",t.uid),{uid:t.uid,email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",createdAt:new Date().toISOString(),plan:"free",searches:0,quotes:0,lastLogin:new Date().toISOString(),provider:((e=t.providerData[0])==null?void 0:e.providerId)||"google.com"}),console.log("✅ firebase.js: USUÁRIO CRIADO COM SUCESSO!"));const r=window.location.origin+window.location.pathname;return window.history.replaceState({},document.title,r),console.log("🧹 firebase.js: URL limpa com sucesso"),sessionStorage.removeItem("mobileAuthReloaded"),console.log("🎉 firebase.js: PROCESSAMENTO CONCLUÍDO COM SUCESSO!"),{success:!0,user:t}}catch(n){return console.error("❌ firebase.js: ERRO AO PROCESSAR USUÁRIO:",n),{success:!1,error:n.message}}}async function z4(){try{return await hk(Ve),{success:!0}}catch(t){return console.error("Erro no logout:",t),{success:!1,error:t.message}}}async function W4(t){try{return await rk(Ve,t),{success:!0,message:"Email de recuperação enviado!"}}catch(e){return console.error("Erro ao resetar senha:",e),{success:!1,error:yl(e.code)}}}async function H4(t){try{const e=await Ka(en(tn,"users",t));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"Usuário não encontrado"}}catch(e){return console.error("Erro ao buscar dados:",e),{success:!1,error:e.message}}}async function G4(t,e){try{return await mS(en(tn,"users",t),{...e,updatedAt:new Date().toISOString()}),{success:!0}}catch(n){return console.error("Erro ao atualizar dados:",n),{success:!1,error:n.message}}}function q4(t){return dk(Ve,t)}function yl(t){return{"auth/email-already-in-use":"Este email já está em uso.","auth/invalid-email":"Email inválido.","auth/operation-not-allowed":"Operação não permitida.","auth/weak-password":"A senha deve ter pelo menos 6 caracteres.","auth/user-disabled":"Esta conta foi desabilitada.","auth/user-not-found":"Usuário não encontrado.","auth/wrong-password":"Senha incorreta.","auth/too-many-requests":"Muitas tentativas. Tente novamente mais tarde.","auth/network-request-failed":"Erro de conexão. Verifique sua internet.","auth/popup-closed-by-user":"Login cancelado.","auth/cancelled-popup-request":"Popup cancelado."}[t]||"Erro ao processar solicitação."}const yS=m.createContext({});function wl(){const t=m.useContext(yS);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function K4({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!0),[a,u]=m.useState(null);m.useEffect(()=>{console.log("🔄 [AuthContext] Verificando redirect result..."),B4().then(y=>{console.log("🔄 [AuthContext] Redirect result:",y),y.success&&y.user?(console.log("✅ [AuthContext] Login com Google via redirect concluído!"),sessionStorage.setItem("googleLoginSuccess","true")):y.error&&(console.error("❌ [AuthContext] Erro no redirect:",y.error),u(y.error))}).catch(y=>{console.error("❌ [AuthContext] Exceção ao processar redirect:",y)})},[]),m.useEffect(()=>(console.log("🎧 AuthContext: Registrando listener onAuthChange..."),q4(async T=>{if(console.log("🔔 AuthContext: onAuthChange disparado! Usuário:",T?T.email:"null"),n(T),T){console.log("📥 AuthContext: Carregando dados do Firestore para:",T.uid);const N=await H4(T.uid);N.success?(console.log("✅ AuthContext: Dados carregados:",N.data),s(N.data)):console.log("⚠️ AuthContext: Erro ao carregar dados:",N.error)}else console.log("🚪 AuthContext: Usuário deslogado, limpando dados"),s(null);o(!1),console.log("✅ AuthContext: Loading = false")})),[]);async function d(y,T,N){try{u(null),o(!0);const O=await $4(y,T,N);return O.success||u(O.error),O}catch(O){return u(O.message),{success:!1,error:O.message}}finally{o(!1)}}async function h(y,T){try{u(null),o(!0);const N=await F4(y,T);return N.success||u(N.error),N}catch(N){return u(N.message),{success:!1,error:N.message}}finally{o(!1)}}async function f(){try{console.log("🔵 [AuthContext.googleLogin] Iniciando..."),u(null),o(!0);const y=await U4();return console.log("🔵 [AuthContext.googleLogin] Resultado:",y),y.success?(console.log("✅ [AuthContext.googleLogin] Sucesso!"),o(!1),y):(console.error("❌ [AuthContext.googleLogin] Falhou:",y.error),u(y.error),o(!1),y)}catch(y){return console.error("❌ [AuthContext.googleLogin] Exceção:",y),u(y.message),o(!1),{success:!1,error:y.message}}}async function g(){try{return u(null),await z4()}catch(y){return u(y.message),{success:!1,error:y.message}}}async function x(y){try{u(null);const T=await W4(y);return T.success||u(T.error),T}catch(T){return u(T.message),{success:!1,error:T.message}}}async function S(y){if(!e)return{success:!1,error:"Usuário não autenticado"};try{const T=await G4(e.uid,y);return T.success&&s(N=>({...N,...y})),T}catch(T){return{success:!1,error:T.message}}}async function E(){if(!e||!r)return;const y=(r.searches||0)+1;await S({searches:y})}async function I(){if(!e||!r)return;const y=(r.quotes||0)+1;await S({quotes:y})}const w={currentUser:e,userData:r,loading:i,authError:a,signup:d,login:h,googleLogin:f,logout:g,resetPassword:x,updateUser:S,incrementSearches:E,incrementQuotes:I,isAuthenticated:!!e,isPremium:(r==null?void 0:r.plan)==="premium"||(r==null?void 0:r.plan)==="enterprise"};return l.jsx(yS.Provider,{value:w,children:!i&&t})}const Q4=m.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Q4.displayName="Input";var X4="Label",wS=m.forwardRef((t,e)=>l.jsx(Xs.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wS.displayName=X4;var _S=wS;const Y4=a1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J4=m.forwardRef(({className:t,...e},n)=>l.jsx(_S,{ref:n,className:Ke(Y4(),t),...e}));J4.displayName=_S.displayName;function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(null,arguments)}function dw(t,[e,n]){return Math.min(n,Math.max(e,t))}function at(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function pg(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),u=n.length;n=[...n,o];function d(f){const{scope:g,children:x,...S}=f,E=(g==null?void 0:g[t][u])||a,I=m.useMemo(()=>S,Object.values(S));return m.createElement(E.Provider,{value:I},x)}function h(f,g){const x=(g==null?void 0:g[t][u])||a,S=m.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,Z4(s,...e)]}function Z4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function eM(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function hs(...t){return e=>t.forEach(n=>eM(n,e))}function Nt(...t){return m.useCallback(hs(...t),t)}const up=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(nM);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(dp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(dp,Z({},r,{ref:e}),n)});up.displayName="Slot";const dp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...rM(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});dp.displayName="SlotClone";const tM=({children:t})=>m.createElement(m.Fragment,null,t);function nM(t){return m.isValidElement(t)&&t.type===tM}function rM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sM(t){const e=t+"CollectionProvider",[n,r]=pg(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:E}=x,I=He.useRef(null),w=He.useRef(new Map).current;return He.createElement(s,{scope:S,itemMap:w,collectionRef:I},E)},a=t+"CollectionSlot",u=He.forwardRef((x,S)=>{const{scope:E,children:I}=x,w=i(a,E),y=Nt(S,w.collectionRef);return He.createElement(up,{ref:y},I)}),d=t+"CollectionItemSlot",h="data-radix-collection-item",f=He.forwardRef((x,S)=>{const{scope:E,children:I,...w}=x,y=He.useRef(null),T=Nt(S,y),N=i(d,E);return He.useEffect(()=>(N.itemMap.set(y,{ref:y,...w}),()=>void N.itemMap.delete(y))),He.createElement(up,{[h]:"",ref:T},I)});function g(x){const S=i(t+"CollectionConsumer",x);return He.useCallback(()=>{const I=S.collectionRef.current;if(!I)return[];const w=Array.from(I.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((N,O)=>w.indexOf(N.ref.current)-w.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},g,r]}const xS=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(oM);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(hp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(hp,Z({},r,{ref:e}),n)});xS.displayName="Slot";const hp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...aM(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});hp.displayName="SlotClone";const iM=({children:t})=>m.createElement(m.Fragment,null,t);function oM(t){return m.isValidElement(t)&&t.type===iM}function aM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const lM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cM=lM.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?xS:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function uM(t,e){t&&ro.flushSync(()=>t.dispatchEvent(e))}function Hs(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function dM(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const fp="dismissableLayer.update",hM="dismissableLayer.pointerDownOutside",fM="dismissableLayer.focusOutside";let hw;const pM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mM=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...d}=t,h=m.useContext(pM),[f,g]=m.useState(null),x=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,S]=m.useState({}),E=Nt(e,_=>g(_)),I=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=I.indexOf(w),T=f?I.indexOf(f):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,O=T>=y,L=gM(_=>{const A=_.target,R=[...h.branches].some(k=>k.contains(A));!O||R||(i==null||i(_),a==null||a(_),_.defaultPrevented||u==null||u())},x),b=vM(_=>{const A=_.target;[...h.branches].some(k=>k.contains(A))||(o==null||o(_),a==null||a(_),_.defaultPrevented||u==null||u())},x);return dM(_=>{T===h.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},x),m.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(hw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),fw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=hw)}},[f,x,r,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),fw())},[f,h]),m.useEffect(()=>{const _=()=>S({});return document.addEventListener(fp,_),()=>document.removeEventListener(fp,_)},[]),m.createElement(cM.div,Z({},d,{ref:E,style:{pointerEvents:N?O?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,b.onFocusCapture),onBlurCapture:at(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,L.onPointerDownCapture)}))});function gM(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let h=function(){ES(hM,n,d,{discrete:!0})};var u=h;const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vM(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&ES(fM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fw(){const t=new CustomEvent(fp);document.dispatchEvent(t)}function ES(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uM(s,i):s.dispatchEvent(i)}let Ah=0;function yM(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:pw()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:pw()),Ah++,()=>{Ah===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ah--}},[])}function pw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const TS=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(_M);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(pp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(pp,Z({},r,{ref:e}),n)});TS.displayName="Slot";const pp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...xM(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});pp.displayName="SlotClone";const wM=({children:t})=>m.createElement(m.Fragment,null,t);function _M(t){return m.isValidElement(t)&&t.type===wM}function xM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const EM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],TM=EM.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?TS:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Nh="focusScope.autoFocusOnMount",Rh="focusScope.autoFocusOnUnmount",mw={bubbles:!1,cancelable:!0},SM=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=m.useState(null),d=Hs(s),h=Hs(i),f=m.useRef(null),g=Nt(e,E=>u(E)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(L){if(x.paused||!a)return;const b=L.target;a.contains(b)?f.current=b:Cr(f.current,{select:!0})},T=function(L){if(x.paused||!a)return;const b=L.relatedTarget;b!==null&&(a.contains(b)||Cr(f.current,{select:!0}))},N=function(L){const b=document.activeElement;for(const _ of L)_.removedNodes.length>0&&(a!=null&&a.contains(b)||Cr(a))};var E=y,I=T,w=N;document.addEventListener("focusin",y),document.addEventListener("focusout",T);const O=new MutationObserver(N);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),O.disconnect()}}},[r,a,x.paused]),m.useEffect(()=>{if(a){vw.add(x);const E=document.activeElement;if(!a.contains(E)){const w=new CustomEvent(Nh,mw);a.addEventListener(Nh,d),a.dispatchEvent(w),w.defaultPrevented||(bM(RM(SS(a)),{select:!0}),document.activeElement===E&&Cr(a))}return()=>{a.removeEventListener(Nh,d),setTimeout(()=>{const w=new CustomEvent(Rh,mw);a.addEventListener(Rh,h),a.dispatchEvent(w),w.defaultPrevented||Cr(E??document.body,{select:!0}),a.removeEventListener(Rh,h),vw.remove(x)},0)}}},[a,d,h,x]);const S=m.useCallback(E=>{if(!n&&!r||x.paused)return;const I=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,w=document.activeElement;if(I&&w){const y=E.currentTarget,[T,N]=CM(y);T&&N?!E.shiftKey&&w===N?(E.preventDefault(),n&&Cr(T,{select:!0})):E.shiftKey&&w===T&&(E.preventDefault(),n&&Cr(N,{select:!0})):w===y&&E.preventDefault()}},[n,r,x.paused]);return m.createElement(TM.div,Z({tabIndex:-1},o,{ref:g,onKeyDown:S}))});function bM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Cr(r,{select:e}),document.activeElement!==n)return}function CM(t){const e=SS(t),n=gw(e,t),r=gw(e.reverse(),t);return[n,r]}function SS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gw(t,e){for(const n of t)if(!IM(n,{upTo:e}))return n}function IM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AM(t){return t instanceof HTMLInputElement&&"select"in t}function Cr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&AM(t)&&e&&t.select()}}const vw=NM();function NM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yw(t,e),t.unshift(e)},remove(e){var n;t=yw(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function yw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function RM(t){return t.filter(e=>e.tagName!=="A")}const vn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},PM=el["useId".toString()]||(()=>{});let kM=0;function jM(t){const[e,n]=m.useState(PM());return vn(()=>{t||n(r=>r??String(kM++))},[t]),t||(e?`radix-${e}`:"")}const OM=["top","right","bottom","left"],is=Math.min,Bt=Math.max,Nu=Math.round,sc=Math.floor,Fn=t=>({x:t,y:t}),DM={left:"right",right:"left",bottom:"top",top:"bottom"},MM={start:"end",end:"start"};function mp(t,e,n){return Bt(t,is(e,n))}function dr(t,e){return typeof t=="function"?t(e):t}function hr(t){return t.split("-")[0]}function ho(t){return t.split("-")[1]}function mg(t){return t==="x"?"y":"x"}function gg(t){return t==="y"?"height":"width"}const LM=new Set(["top","bottom"]);function Nn(t){return LM.has(hr(t))?"y":"x"}function vg(t){return mg(Nn(t))}function VM(t,e,n){n===void 0&&(n=!1);const r=ho(t),s=vg(t),i=gg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ru(o)),[o,Ru(o)]}function $M(t){const e=Ru(t);return[gp(t),e,gp(e)]}function gp(t){return t.replace(/start|end/g,e=>MM[e])}const ww=["left","right"],_w=["right","left"],FM=["top","bottom"],UM=["bottom","top"];function BM(t,e,n){switch(t){case"top":case"bottom":return n?e?_w:ww:e?ww:_w;case"left":case"right":return e?FM:UM;default:return[]}}function zM(t,e,n,r){const s=ho(t);let i=BM(hr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(gp)))),i}function Ru(t){return t.replace(/left|right|bottom|top/g,e=>DM[e])}function WM(t){return{top:0,right:0,bottom:0,left:0,...t}}function bS(t){return typeof t!="number"?WM(t):{top:t,right:t,bottom:t,left:t}}function Pu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function xw(t,e,n){let{reference:r,floating:s}=t;const i=Nn(e),o=vg(e),a=gg(o),u=hr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let x;switch(u){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(ho(e)){case"start":x[o]-=g*(n&&d?-1:1);break;case"end":x[o]+=g*(n&&d?-1:1);break}return x}const HM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=xw(d,r,u),g=r,x={},S=0;for(let E=0;E<a.length;E++){const{name:I,fn:w}=a[E],{x:y,y:T,data:N,reset:O}=await w({x:h,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,f=T??f,x={...x,[I]:{...x[I],...N}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=xw(d,g,u)),E=-1)}return{x:h,y:f,placement:g,strategy:s,middlewareData:x}};async function Ya(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:x=0}=dr(e,t),S=bS(x),I=a[g?f==="floating"?"reference":"floating":f],w=Pu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=Pu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:u}):y);return{top:(w.top-O.top+S.top)/N.y,bottom:(O.bottom-w.bottom+S.bottom)/N.y,left:(w.left-O.left+S.left)/N.x,right:(O.right-w.right+S.right)/N.x}}const GM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:d,padding:h=0}=dr(t,e)||{};if(d==null)return{};const f=bS(h),g={x:n,y:r},x=vg(s),S=gg(x),E=await o.getDimensions(d),I=x==="y",w=I?"top":"left",y=I?"bottom":"right",T=I?"clientHeight":"clientWidth",N=i.reference[S]+i.reference[x]-g[x]-i.floating[S],O=g[x]-i.reference[x],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=L?L[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(L)))&&(b=a.floating[T]||i.floating[S]);const _=N/2-O/2,A=b/2-E[S]/2-1,R=is(f[w],A),k=is(f[y],A),j=R,P=b-E[S]-k,Q=b/2-E[S]/2+_,ie=mp(j,Q,P),ee=!u.arrow&&ho(s)!=null&&Q!==ie&&i.reference[S]/2-(Q<j?R:k)-E[S]/2<0,me=ee?Q<j?Q-j:Q-P:0;return{[x]:g[x]+me,data:{[x]:ie,centerOffset:Q-ie-me,...ee&&{alignmentOffset:me}},reset:ee}}}),qM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...I}=dr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=hr(s),y=Nn(a),T=hr(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(d.floating)),O=g||(T||!E?[Ru(a)]:$M(a)),L=S!=="none";!g&&L&&O.push(...zM(a,E,S,N));const b=[a,...O],_=await Ya(e,I),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(_[w]),f){const Q=VM(s,o,N);A.push(_[Q[0]],_[Q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(Q=>Q<=0)){var k,j;const Q=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=b[Q];if(ie&&(!(f==="alignment"?y!==Nn(ie):!1)||R.every(V=>Nn(V.placement)===y?V.overflows[0]>0:!0)))return{data:{index:Q,overflows:R},reset:{placement:ie}};let ee=(j=R.filter(me=>me.overflows[0]<=0).sort((me,V)=>me.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!ee)switch(x){case"bestFit":{var P;const me=(P=R.filter(V=>{if(L){const z=Nn(V.placement);return z===y||z==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(z=>z>0).reduce((z,G)=>z+G,0)]).sort((V,z)=>V[1]-z[1])[0])==null?void 0:P[0];me&&(ee=me);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function Ew(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Tw(t){return OM.some(e=>t[e]>=0)}const KM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=dr(t,e);switch(r){case"referenceHidden":{const i=await Ya(e,{...s,elementContext:"reference"}),o=Ew(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tw(o)}}}case"escaped":{const i=await Ya(e,{...s,altBoundary:!0}),o=Ew(i,n.floating);return{data:{escapedOffsets:o,escaped:Tw(o)}}}default:return{}}}}},CS=new Set(["left","top"]);async function QM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hr(n),a=ho(n),u=Nn(n)==="y",d=CS.has(o)?-1:1,h=i&&u?-1:1,f=dr(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(x=a==="end"?S*-1:S),u?{x:x*h,y:g*d}:{x:g*d,y:x*h}}const XM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await QM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},YM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:w,y}=I;return{x:w,y}}},...u}=dr(t,e),d={x:n,y:r},h=await Ya(e,u),f=Nn(hr(s)),g=mg(f);let x=d[g],S=d[f];if(i){const I=g==="y"?"top":"left",w=g==="y"?"bottom":"right",y=x+h[I],T=x-h[w];x=mp(y,x,T)}if(o){const I=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=S+h[I],T=S-h[w];S=mp(y,S,T)}const E=a.fn({...e,[g]:x,[f]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[g]:i,[f]:o}}}}}},JM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=dr(t,e),h={x:n,y:r},f=Nn(s),g=mg(f);let x=h[g],S=h[f];const E=dr(a,e),I=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const T=g==="y"?"height":"width",N=i.reference[g]-i.floating[T]+I.mainAxis,O=i.reference[g]+i.reference[T]-I.mainAxis;x<N?x=N:x>O&&(x=O)}if(d){var w,y;const T=g==="y"?"width":"height",N=CS.has(hr(s)),O=i.reference[f]-i.floating[T]+(N&&((w=o.offset)==null?void 0:w[f])||0)+(N?0:I.crossAxis),L=i.reference[f]+i.reference[T]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?I.crossAxis:0);S<O?S=O:S>L&&(S=L)}return{[g]:x,[f]:S}}}},ZM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...d}=dr(t,e),h=await Ya(e,d),f=hr(s),g=ho(s),x=Nn(s)==="y",{width:S,height:E}=i.floating;let I,w;f==="top"||f==="bottom"?(I=f,w=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,I=g==="end"?"top":"bottom");const y=E-h.top-h.bottom,T=S-h.left-h.right,N=is(E-h[I],y),O=is(S-h[w],T),L=!e.middlewareData.shift;let b=N,_=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),L&&!g){const R=Bt(h.left,0),k=Bt(h.right,0),j=Bt(h.top,0),P=Bt(h.bottom,0);x?_=S-2*(R!==0||k!==0?R+k:Bt(h.left,h.right)):b=E-2*(j!==0||P!==0?j+P:Bt(h.top,h.bottom))}await u({...e,availableWidth:_,availableHeight:b});const A=await o.getDimensions(a.floating);return S!==A.width||E!==A.height?{reset:{rects:!0}}:{}}}};function vd(){return typeof window<"u"}function fo(t){return IS(t)?(t.nodeName||"").toLowerCase():"#document"}function Gt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hn(t){var e;return(e=(IS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IS(t){return vd()?t instanceof Node||t instanceof Gt(t).Node:!1}function yn(t){return vd()?t instanceof Element||t instanceof Gt(t).Element:!1}function zn(t){return vd()?t instanceof HTMLElement||t instanceof Gt(t).HTMLElement:!1}function Sw(t){return!vd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gt(t).ShadowRoot}const eL=new Set(["inline","contents"]);function _l(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!eL.has(s)}const tL=new Set(["table","td","th"]);function nL(t){return tL.has(fo(t))}const rL=[":popover-open",":modal"];function yd(t){return rL.some(e=>{try{return t.matches(e)}catch{return!1}})}const sL=["transform","translate","scale","rotate","perspective"],iL=["transform","translate","scale","rotate","perspective","filter"],oL=["paint","layout","strict","content"];function yg(t){const e=wg(),n=yn(t)?wn(t):t;return sL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iL.some(r=>(n.willChange||"").includes(r))||oL.some(r=>(n.contain||"").includes(r))}function aL(t){let e=os(t);for(;zn(e)&&!Ji(e);){if(yg(e))return e;if(yd(e))return null;e=os(e)}return null}function wg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lL=new Set(["html","body","#document"]);function Ji(t){return lL.has(fo(t))}function wn(t){return Gt(t).getComputedStyle(t)}function wd(t){return yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function os(t){if(fo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sw(t)&&t.host||Hn(t);return Sw(e)?e.host:e}function AS(t){const e=os(t);return Ji(e)?t.ownerDocument?t.ownerDocument.body:t.body:zn(e)&&_l(e)?e:AS(e)}function Ja(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=AS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Gt(s);if(i){const a=vp(o);return e.concat(o,o.visualViewport||[],_l(s)?s:[],a&&n?Ja(a):[])}return e.concat(s,Ja(s,[],n))}function vp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NS(t){const e=wn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Nu(n)!==i||Nu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _g(t){return yn(t)?t:t.contextElement}function Di(t){const e=_g(t);if(!zn(e))return Fn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=NS(e);let o=(i?Nu(n.width):n.width)/r,a=(i?Nu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cL=Fn(0);function RS(t){const e=Gt(t);return!wg()||!e.visualViewport?cL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gt(t)?!1:e}function Gs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=_g(t);let o=Fn(1);e&&(r?yn(r)&&(o=Di(r)):o=Di(t));const a=uL(i,n,r)?RS(i):Fn(0);let u=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const g=Gt(i),x=r&&yn(r)?Gt(r):r;let S=g,E=vp(S);for(;E&&r&&x!==S;){const I=Di(E),w=E.getBoundingClientRect(),y=wn(E),T=w.left+(E.clientLeft+parseFloat(y.paddingLeft))*I.x,N=w.top+(E.clientTop+parseFloat(y.paddingTop))*I.y;u*=I.x,d*=I.y,h*=I.x,f*=I.y,u+=T,d+=N,S=Gt(E),E=vp(S)}}return Pu({width:h,height:f,x:u,y:d})}function _d(t,e){const n=wd(t).scrollLeft;return e?e.left+n:Gs(Hn(t)).left+n}function PS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-_d(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function dL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Hn(r),a=e?yd(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},d=Fn(1);const h=Fn(0),f=zn(r);if((f||!f&&!i)&&((fo(r)!=="body"||_l(o))&&(u=wd(r)),zn(r))){const x=Gs(r);d=Di(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const g=o&&!f&&!i?PS(o,u):Fn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function hL(t){return Array.from(t.getClientRects())}function fL(t){const e=Hn(t),n=wd(t),r=t.ownerDocument.body,s=Bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_d(t);const a=-n.scrollTop;return wn(r).direction==="rtl"&&(o+=Bt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const bw=25;function pL(t,e){const n=Gt(t),r=Hn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const h=wg();(!h||h&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const d=_d(r);if(d<=0){const h=r.ownerDocument,f=h.body,g=getComputedStyle(f),x=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-x);S<=bw&&(i-=S)}else d<=bw&&(i+=d);return{width:i,height:o,x:a,y:u}}const mL=new Set(["absolute","fixed"]);function gL(t,e){const n=Gs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zn(t)?Di(t):Fn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:a,x:u,y:d}}function Cw(t,e,n){let r;if(e==="viewport")r=pL(t,n);else if(e==="document")r=fL(Hn(t));else if(yn(e))r=gL(e,n);else{const s=RS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Pu(r)}function kS(t,e){const n=os(t);return n===e||!yn(n)||Ji(n)?!1:wn(n).position==="fixed"||kS(n,e)}function vL(t,e){const n=e.get(t);if(n)return n;let r=Ja(t,[],!1).filter(a=>yn(a)&&fo(a)!=="body"),s=null;const i=wn(t).position==="fixed";let o=i?os(t):t;for(;yn(o)&&!Ji(o);){const a=wn(o),u=yg(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&mL.has(s.position)||_l(o)&&!u&&kS(t,o))?r=r.filter(h=>h!==o):s=a,o=os(o)}return e.set(t,r),r}function yL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?yd(e)?[]:vL(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((d,h)=>{const f=Cw(e,h,s);return d.top=Bt(f.top,d.top),d.right=is(f.right,d.right),d.bottom=is(f.bottom,d.bottom),d.left=Bt(f.left,d.left),d},Cw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wL(t){const{width:e,height:n}=NS(t);return{width:e,height:n}}function _L(t,e,n){const r=zn(e),s=Hn(e),i=n==="fixed",o=Gs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Fn(0);function d(){u.x=_d(s)}if(r||!r&&!i)if((fo(e)!=="body"||_l(s))&&(a=wd(e)),r){const x=Gs(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?PS(s,a):Fn(0),f=o.left+a.scrollLeft-u.x-h.x,g=o.top+a.scrollTop-u.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function Ph(t){return wn(t).position==="static"}function Iw(t,e){if(!zn(t)||wn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hn(t)===n&&(n=n.ownerDocument.body),n}function jS(t,e){const n=Gt(t);if(yd(t))return n;if(!zn(t)){let s=os(t);for(;s&&!Ji(s);){if(yn(s)&&!Ph(s))return s;s=os(s)}return n}let r=Iw(t,e);for(;r&&nL(r)&&Ph(r);)r=Iw(r,e);return r&&Ji(r)&&Ph(r)&&!yg(r)?n:r||aL(t)||n}const xL=async function(t){const e=this.getOffsetParent||jS,n=this.getDimensions,r=await n(t.floating);return{reference:_L(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EL(t){return wn(t).direction==="rtl"}const TL={convertOffsetParentRelativeRectToViewportRelativeRect:dL,getDocumentElement:Hn,getClippingRect:yL,getOffsetParent:jS,getElementRects:xL,getClientRects:hL,getDimensions:wL,getScale:Di,isElement:yn,isRTL:EL};function OS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SL(t,e){let n=null,r;const s=Hn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:g,height:x}=d;if(a||e(),!g||!x)return;const S=sc(f),E=sc(s.clientWidth-(h+g)),I=sc(s.clientHeight-(f+x)),w=sc(h),T={rootMargin:-S+"px "+-E+"px "+-I+"px "+-w+"px",threshold:Bt(0,is(1,u))||1};let N=!0;function O(L){const b=L[0].intersectionRatio;if(b!==u){if(!N)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!OS(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function bL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=_g(t),h=s||i?[...d?Ja(d):[],...Ja(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&a?SL(d,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(w=>{let[y]=w;y&&y.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let S,E=u?Gs(t):null;u&&I();function I(){const w=Gs(t);E&&!OS(E,w)&&n(),E=w,S=requestAnimationFrame(I)}return n(),()=>{var w;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=x)==null||w.disconnect(),x=null,u&&cancelAnimationFrame(S)}}const CL=XM,IL=YM,AL=qM,NL=ZM,RL=KM,Aw=GM,PL=JM,kL=(t,e,n)=>{const r=new Map,s={platform:TL,...n},i={...s.platform,_c:r};return HM(t,e,{...s,platform:i})};var jL=typeof document<"u",OL=function(){},jc=jL?m.useLayoutEffect:OL;function ku(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ku(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ku(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function DS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nw(t,e){const n=DS(t);return Math.round(e*n)/n}function kh(t){const e=m.useRef(t);return jc(()=>{e.current=t}),e}function DL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=m.useState(r);ku(g,r)||x(r);const[S,E]=m.useState(null),[I,w]=m.useState(null),y=m.useCallback(V=>{V!==L.current&&(L.current=V,E(V))},[]),T=m.useCallback(V=>{V!==b.current&&(b.current=V,w(V))},[]),N=i||S,O=o||I,L=m.useRef(null),b=m.useRef(null),_=m.useRef(h),A=u!=null,R=kh(u),k=kh(s),j=kh(d),P=m.useCallback(()=>{if(!L.current||!b.current)return;const V={placement:e,strategy:n,middleware:g};k.current&&(V.platform=k.current),kL(L.current,b.current,V).then(z=>{const G={...z,isPositioned:j.current!==!1};Q.current&&!ku(_.current,G)&&(_.current=G,ro.flushSync(()=>{f(G)}))})},[g,e,n,k,j]);jc(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const Q=m.useRef(!1);jc(()=>(Q.current=!0,()=>{Q.current=!1}),[]),jc(()=>{if(N&&(L.current=N),O&&(b.current=O),N&&O){if(R.current)return R.current(N,O,P);P()}},[N,O,P,R,A]);const ie=m.useMemo(()=>({reference:L,floating:b,setReference:y,setFloating:T}),[y,T]),ee=m.useMemo(()=>({reference:N,floating:O}),[N,O]),me=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!ee.floating)return V;const z=Nw(ee.floating,h.x),G=Nw(ee.floating,h.y);return a?{...V,transform:"translate("+z+"px, "+G+"px)",...DS(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:G}},[n,a,ee.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:P,refs:ie,elements:ee,floatingStyles:me}),[h,P,ie,ee,me])}const ML=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Aw({element:r.current,padding:s}).fn(n):{}:r?Aw({element:r,padding:s}).fn(n):{}}}},LL=(t,e)=>({...CL(t),options:[t,e]}),VL=(t,e)=>({...IL(t),options:[t,e]}),$L=(t,e)=>({...PL(t),options:[t,e]}),FL=(t,e)=>({...AL(t),options:[t,e]}),UL=(t,e)=>({...NL(t),options:[t,e]}),BL=(t,e)=>({...RL(t),options:[t,e]}),zL=(t,e)=>({...ML(t),options:[t,e]}),MS=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(HL);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(yp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(yp,Z({},r,{ref:e}),n)});MS.displayName="Slot";const yp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...GL(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});yp.displayName="SlotClone";const WL=({children:t})=>m.createElement(m.Fragment,null,t);function HL(t){return m.isValidElement(t)&&t.type===WL}function GL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const qL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],LS=qL.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?MS:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function KL(t){const[e,n]=m.useState(void 0);return vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const VS="Popper",[$S,FS]=pg(VS),[g5,US]=$S(VS),QL="PopperAnchor",XL=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=US(QL,n),o=m.useRef(null),a=Nt(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.createElement(LS.div,Z({},s,{ref:a}))}),BS="PopperContent",[YL,v5]=$S(BS),JL=m.forwardRef((t,e)=>{var n,r,s,i,o,a,u,d;const{__scopePopper:h,side:f="bottom",sideOffset:g=0,align:x="center",alignOffset:S=0,arrowPadding:E=0,collisionBoundary:I=[],collisionPadding:w=0,sticky:y="partial",hideWhenDetached:T=!1,avoidCollisions:N=!0,onPlaced:O,...L}=t,b=US(BS,h),[_,A]=m.useState(null),R=Nt(e,Xe=>A(Xe)),[k,j]=m.useState(null),P=KL(k),Q=(n=P==null?void 0:P.width)!==null&&n!==void 0?n:0,ie=(r=P==null?void 0:P.height)!==null&&r!==void 0?r:0,ee=f+(x!=="center"?"-"+x:""),me=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},V=Array.isArray(I)?I:[I],z=V.length>0,G={padding:me,boundary:V.filter(ZL),altBoundary:z},{refs:oe,floatingStyles:fe,placement:Ee,isPositioned:Re,middlewareData:Qe}=DL({strategy:"fixed",placement:ee,whileElementsMounted:bL,elements:{reference:b.anchor},middleware:[LL({mainAxis:g+ie,alignmentAxis:S}),N&&VL({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?$L():void 0,...G}),N&&FL({...G}),UL({...G,apply:({elements:Xe,rects:gr,availableWidth:fs,availableHeight:qn})=>{const{width:go,height:vo}=gr.reference,Fe=Xe.floating.style;Fe.setProperty("--radix-popper-available-width",`${fs}px`),Fe.setProperty("--radix-popper-available-height",`${qn}px`),Fe.setProperty("--radix-popper-anchor-width",`${go}px`),Fe.setProperty("--radix-popper-anchor-height",`${vo}px`)}}),k&&zL({element:k,padding:E}),eV({arrowWidth:Q,arrowHeight:ie}),T&&BL({strategy:"referenceHidden"})]}),[ze,X]=zS(Ee),ge=Hs(O);vn(()=>{Re&&(ge==null||ge())},[Re,ge]);const rt=(s=Qe.arrow)===null||s===void 0?void 0:s.x,xe=(i=Qe.arrow)===null||i===void 0?void 0:i.y,ye=((o=Qe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ve,gt]=m.useState();return vn(()=>{_&&gt(window.getComputedStyle(_).zIndex)},[_]),m.createElement("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:Re?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(a=Qe.transformOrigin)===null||a===void 0?void 0:a.x,(u=Qe.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:t.dir},m.createElement(YL,{scope:h,placedSide:ze,onArrowChange:j,arrowX:rt,arrowY:xe,shouldHideArrow:ye},m.createElement(LS.div,Z({"data-side":ze,"data-align":X},L,{ref:R,style:{...L.style,animation:Re?void 0:"none",opacity:(d=Qe.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function ZL(t){return t!==null}const eV=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,i,o;const{placement:a,rects:u,middlewareData:d}=e,f=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=f?0:t.arrowWidth,x=f?0:t.arrowHeight,[S,E]=zS(a),I={start:"0%",center:"50%",end:"100%"}[E],w=((r=(s=d.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+g/2,y=((i=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+x/2;let T="",N="";return S==="bottom"?(T=f?I:`${w}px`,N=`${-x}px`):S==="top"?(T=f?I:`${w}px`,N=`${u.floating.height+x}px`):S==="right"?(T=`${-x}px`,N=f?I:`${y}px`):S==="left"&&(T=`${u.floating.width+x}px`,N=f?I:`${y}px`),{data:{x:T,y:N}}}});function zS(t){const[e,n="center"]=t.split("-");return[e,n]}const tV=XL,nV=JL,WS=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(sV);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(wp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(wp,Z({},r,{ref:e}),n)});WS.displayName="Slot";const wp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...iV(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});wp.displayName="SlotClone";const rV=({children:t})=>m.createElement(m.Fragment,null,t);function sV(t){return m.isValidElement(t)&&t.type===rV}function iV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const oV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],aV=oV.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?WS:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),lV=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?mA.createPortal(m.createElement(aV.div,Z({},s,{ref:e})),r):null}),xg=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(uV);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(_p,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(_p,Z({},r,{ref:e}),n)});xg.displayName="Slot";const _p=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...dV(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});_p.displayName="SlotClone";const cV=({children:t})=>m.createElement(m.Fragment,null,t);function uV(t){return m.isValidElement(t)&&t.type===cV}function dV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const hV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Gn=hV.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?xg:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fV(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const HS=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(mV);if(i){const o=i.props.children,a=s.map(u=>u===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:u);return m.createElement(xp,Z({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(xp,Z({},r,{ref:e}),n)});HS.displayName="Slot";const xp=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...gV(r,n.props),ref:e?hs(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});xp.displayName="SlotClone";const pV=({children:t})=>m.createElement(m.Fragment,null,t);function mV(t){return m.isValidElement(t)&&t.type===pV}function gV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const vV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yV=vV.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?HS:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Z({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),wV=m.forwardRef((t,e)=>m.createElement(yV.span,Z({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var _V=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},si=new WeakMap,ic=new WeakMap,oc={},jh=0,GS=function(t){return t&&(t.host||GS(t.parentNode))},xV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},EV=function(t,e,n,r){var s=xV(e,Array.isArray(t)?t:[t]);oc[n]||(oc[n]=new WeakMap);var i=oc[n],o=[],a=new Set,u=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))h(g);else try{var x=g.getAttribute(r),S=x!==null&&x!=="false",E=(si.get(g)||0)+1,I=(i.get(g)||0)+1;si.set(g,E),i.set(g,I),o.push(g),E===1&&S&&ic.set(g,!0),I===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return h(e),a.clear(),jh++,function(){o.forEach(function(f){var g=si.get(f)-1,x=i.get(f)-1;si.set(f,g),i.set(f,x),g||(ic.has(f)||f.removeAttribute(r),ic.delete(f)),x||f.removeAttribute(n)}),jh--,jh||(si=new WeakMap,si=new WeakMap,ic=new WeakMap,oc={})}},TV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||_V(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),EV(r,s,n,"aria-hidden")):function(){return null}},An=function(){return An=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},An.apply(this,arguments)};function qS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function SV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Oc="right-scroll-bar-position",Dc="width-before-scroll-bar",bV="with-scroll-bars-hidden",CV="--removed-body-scroll-bar-size";function Oh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IV(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var AV=typeof window<"u"?m.useLayoutEffect:m.useEffect,Rw=new WeakMap;function NV(t,e){var n=IV(e||null,function(r){return t.forEach(function(s){return Oh(s,r)})});return AV(function(){var r=Rw.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Oh(a,null)}),i.forEach(function(a){s.has(a)||Oh(a,o)})}Rw.set(n,t)},[t]),n}function RV(t){return t}function PV(t,e){e===void 0&&(e=RV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function kV(t){t===void 0&&(t={});var e=PV(null);return e.options=An({async:!0,ssr:!1},t),e}var KS=function(t){var e=t.sideCar,n=qS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,An({},n))};KS.isSideCarExport=!0;function jV(t,e){return t.useMedium(e),KS}var QS=kV(),Dh=function(){},xd=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Dh,onWheelCapture:Dh,onTouchMoveCapture:Dh}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,g=t.sideCar,x=t.noIsolation,S=t.inert,E=t.allowPinchZoom,I=t.as,w=I===void 0?"div":I,y=qS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=g,N=NV([n,e]),O=An(An({},y),s);return m.createElement(m.Fragment,null,h&&m.createElement(T,{sideCar:QS,removeScrollBar:d,shards:f,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!E,lockRef:n}),o?m.cloneElement(m.Children.only(a),An(An({},O),{ref:N})):m.createElement(w,An({},O,{className:u,ref:N}),a))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Dc,zeroRight:Oc};var Pw,OV=function(){if(Pw)return Pw;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OV();return e&&t.setAttribute("nonce",e),t}function MV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DV())&&(MV(e,n),LV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$V=function(){var t=VV();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},XS=function(){var t=$V(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},FV={left:0,top:0,right:0,gap:0},Mh=function(t){return parseInt(t||"",10)||0},UV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mh(n),Mh(r),Mh(s)]},BV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FV;var e=UV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zV=XS(),Mi="data-scroll-locked",WV=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mi,`] {
    `).concat(CV,": ").concat(a,`px;
  }
`)},kw=function(){var t=parseInt(document.body.getAttribute(Mi)||"0",10);return isFinite(t)?t:0},HV=function(){m.useEffect(function(){return document.body.setAttribute(Mi,(kw()+1).toString()),function(){var t=kw()-1;t<=0?document.body.removeAttribute(Mi):document.body.setAttribute(Mi,t.toString())}},[])},GV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;HV();var i=m.useMemo(function(){return BV(s)},[s]);return m.createElement(zV,{styles:WV(i,!e,s,n?"":"!important")})},Ep=!1;if(typeof window<"u")try{var ac=Object.defineProperty({},"passive",{get:function(){return Ep=!0,!0}});window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Ep=!1}var ii=Ep?{passive:!1}:!1,qV=function(t){return t.tagName==="TEXTAREA"},YS=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qV(t)&&n[e]==="visible")},KV=function(t){return YS(t,"overflowY")},QV=function(t){return YS(t,"overflowX")},jw=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=JS(t,n);if(r){var s=ZS(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},XV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},JS=function(t,e){return t==="v"?KV(e):QV(e)},ZS=function(t,e){return t==="v"?XV(e):YV(e)},JV=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZV=function(t,e,n,r,s){var i=JV(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),d=!1,h=o>0,f=0,g=0;do{var x=ZS(t,a),S=x[0],E=x[1],I=x[2],w=E-I-i*S;(S||w)&&JS(t,a)&&(f+=w,g+=S),a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(s&&f===0||!s&&o>f)||!h&&(s&&g===0||!s&&-o>g))&&(d=!0),d},lc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ow=function(t){return[t.deltaX,t.deltaY]},Dw=function(t){return t&&"current"in t?t.current:t},e3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n3=0,oi=[];function r3(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(n3++)[0],i=m.useState(function(){return XS()})[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=SV([t.lockRef.current],(t.shards||[]).map(Dw),!0).filter(Boolean);return E.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(E,I){if("touches"in E&&E.touches.length===2)return!o.current.allowPinchZoom;var w=lc(E),y=n.current,T="deltaX"in E?E.deltaX:y[0]-w[0],N="deltaY"in E?E.deltaY:y[1]-w[1],O,L=E.target,b=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in E&&b==="h"&&L.type==="range")return!1;var _=jw(b,L);if(!_)return!0;if(_?O=b:(O=b==="v"?"h":"v",_=jw(b,L)),!_)return!1;if(!r.current&&"changedTouches"in E&&(T||N)&&(r.current=O),!O)return!0;var A=r.current||O;return ZV(A,I,E,A==="h"?T:N,!0)},[]),u=m.useCallback(function(E){var I=E;if(!(!oi.length||oi[oi.length-1]!==i)){var w="deltaY"in I?Ow(I):lc(I),y=e.current.filter(function(O){return O.name===I.type&&O.target===I.target&&e3(O.delta,w)})[0];if(y&&y.should){I.cancelable&&I.preventDefault();return}if(!y){var T=(o.current.shards||[]).map(Dw).filter(Boolean).filter(function(O){return O.contains(I.target)}),N=T.length>0?a(I,T[0]):!o.current.noIsolation;N&&I.cancelable&&I.preventDefault()}}},[]),d=m.useCallback(function(E,I,w,y){var T={name:E,delta:I,target:w,should:y};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),h=m.useCallback(function(E){n.current=lc(E),r.current=void 0},[]),f=m.useCallback(function(E){d(E.type,Ow(E),E.target,a(E,t.lockRef.current))},[]),g=m.useCallback(function(E){d(E.type,lc(E),E.target,a(E,t.lockRef.current))},[]);m.useEffect(function(){return oi.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,ii),document.addEventListener("touchmove",u,ii),document.addEventListener("touchstart",h,ii),function(){oi=oi.filter(function(E){return E!==i}),document.removeEventListener("wheel",u,ii),document.removeEventListener("touchmove",u,ii),document.removeEventListener("touchstart",h,ii)}},[]);var x=t.removeScrollBar,S=t.inert;return m.createElement(m.Fragment,null,S?m.createElement(i,{styles:t3(s)}):null,x?m.createElement(GV,{gapMode:"margin"}):null)}const s3=jV(QS,r3);var eb=m.forwardRef(function(t,e){return m.createElement(xd,An({},t,{ref:e,sideCar:s3}))});eb.classNames=xd.classNames;const i3=eb,o3=[" ","Enter","ArrowUp","ArrowDown"],a3=[" ","Enter"],Ed="Select",[Eg,Td,l3]=sM(Ed),[po,y5]=pg(Ed,[l3,FS]),tb=FS(),[w5,mo]=po(Ed),[_5,c3]=po(Ed),u3="SelectTrigger",d3=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=tb(n),o=mo(u3,n),a=o.disabled||r,u=Nt(e,o.onTriggerChange),d=Td(n),[h,f,g]=ib(S=>{const E=d().filter(y=>!y.disabled),I=E.find(y=>y.value===o.value),w=ob(E,S,I);w!==void 0&&o.onValueChange(w.value)}),x=()=>{a||(o.onOpenChange(!0),g())};return m.createElement(tV,Z({asChild:!0},i),m.createElement(Gn.button,Z({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":o.value===void 0?"":void 0},s,{ref:u,onClick:at(s.onClick,S=>{S.currentTarget.focus()}),onPointerDown:at(s.onPointerDown,S=>{const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&(x(),o.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)},S.preventDefault())}),onKeyDown:at(s.onKeyDown,S=>{const E=h.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&f(S.key),!(E&&S.key===" ")&&o3.includes(S.key)&&(x(),S.preventDefault())})})))}),h3=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.createElement(Gn.span,Z({"aria-hidden":!0},s,{ref:e}),r||"▼")}),f3=t=>m.createElement(lV,Z({asChild:!0},t)),Zi="SelectContent",p3=m.forwardRef((t,e)=>{const n=mo(Zi,t.__scopeSelect),[r,s]=m.useState();if(vn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ro.createPortal(m.createElement(nb,{scope:t.__scopeSelect},m.createElement(Eg.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),i):null}return m.createElement(m3,Z({},t,{ref:e}))}),Qn=10,[nb,Zs]=po(Zi),m3=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:S,hideWhenDetached:E,avoidCollisions:I,...w}=t,y=mo(Zi,n),[T,N]=m.useState(null),[O,L]=m.useState(null),b=Nt(e,X=>N(X)),[_,A]=m.useState(null),[R,k]=m.useState(null),j=Td(n),[P,Q]=m.useState(!1),ie=m.useRef(!1);m.useEffect(()=>{if(T)return TV(T)},[T]),yM();const ee=m.useCallback(X=>{const[ge,...rt]=j().map(ve=>ve.ref.current),[xe]=rt.slice(-1),ye=document.activeElement;for(const ve of X)if(ve===ye||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ge&&O&&(O.scrollTop=0),ve===xe&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==ye))return},[j,O]),me=m.useCallback(()=>ee([_,T]),[ee,_,T]);m.useEffect(()=>{P&&me()},[P,me]);const{onOpenChange:V,triggerPointerDownPosRef:z}=y;m.useEffect(()=>{if(T){let X={x:0,y:0};const ge=xe=>{var ye,ve,gt,Xe;X={x:Math.abs(Math.round(xe.pageX)-((ye=(ve=z.current)===null||ve===void 0?void 0:ve.x)!==null&&ye!==void 0?ye:0)),y:Math.abs(Math.round(xe.pageY)-((gt=(Xe=z.current)===null||Xe===void 0?void 0:Xe.y)!==null&&gt!==void 0?gt:0))}},rt=xe=>{X.x<=10&&X.y<=10?xe.preventDefault():T.contains(xe.target)||V(!1),document.removeEventListener("pointermove",ge),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",rt,{capture:!0})}}},[T,V,z]),m.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[G,oe]=ib(X=>{const ge=j().filter(ye=>!ye.disabled),rt=ge.find(ye=>ye.ref.current===document.activeElement),xe=ob(ge,X,rt);xe&&setTimeout(()=>xe.ref.current.focus())}),fe=m.useCallback((X,ge,rt)=>{const xe=!ie.current&&!rt;(y.value!==void 0&&y.value===ge||xe)&&(A(X),xe&&(ie.current=!0))},[y.value]),Ee=m.useCallback(()=>T==null?void 0:T.focus(),[T]),Re=m.useCallback((X,ge,rt)=>{const xe=!ie.current&&!rt;(y.value!==void 0&&y.value===ge||xe)&&k(X)},[y.value]),Qe=r==="popper"?Mw:g3,ze=Qe===Mw?{side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:S,hideWhenDetached:E,avoidCollisions:I}:{};return m.createElement(nb,{scope:n,content:T,viewport:O,onViewportChange:L,itemRefCallback:fe,selectedItem:_,onItemLeave:Ee,itemTextRefCallback:Re,focusSelectedItem:me,selectedItemText:R,position:r,isPositioned:P,searchRef:G},m.createElement(i3,{as:xg,allowPinchZoom:!0},m.createElement(SM,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:at(s,X=>{var ge;(ge=y.trigger)===null||ge===void 0||ge.focus({preventScroll:!0}),X.preventDefault()})},m.createElement(mM,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(Qe,Z({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault()},w,ze,{onPlaced:()=>Q(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:at(w.onKeyDown,X=>{const ge=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ge&&X.key.length===1&&oe(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let xe=j().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(X.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ye=X.target,ve=xe.indexOf(ye);xe=xe.slice(ve+1)}setTimeout(()=>ee(xe)),X.preventDefault()}})}))))))}),g3=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=mo(Zi,n),o=Zs(Zi,n),[a,u]=m.useState(null),[d,h]=m.useState(null),f=Nt(e,b=>h(b)),g=Td(n),x=m.useRef(!1),S=m.useRef(!0),{viewport:E,selectedItem:I,selectedItemText:w,focusSelectedItem:y}=o,T=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&E&&I&&w){const b=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const ye=R.left-_.left,ve=A.left-ye,gt=b.left-ve,Xe=b.width+gt,gr=Math.max(Xe,_.width),fs=window.innerWidth-Qn,qn=dw(ve,[Qn,fs-gr]);a.style.minWidth=Xe+"px",a.style.left=qn+"px"}else{const ye=_.right-R.right,ve=window.innerWidth-A.right-ye,gt=window.innerWidth-b.right-ve,Xe=b.width+gt,gr=Math.max(Xe,_.width),fs=window.innerWidth-Qn,qn=dw(ve,[Qn,fs-gr]);a.style.minWidth=Xe+"px",a.style.right=qn+"px"}const k=g(),j=window.innerHeight-Qn*2,P=E.scrollHeight,Q=window.getComputedStyle(d),ie=parseInt(Q.borderTopWidth,10),ee=parseInt(Q.paddingTop,10),me=parseInt(Q.borderBottomWidth,10),V=parseInt(Q.paddingBottom,10),z=ie+ee+P+V+me,G=Math.min(I.offsetHeight*5,z),oe=window.getComputedStyle(E),fe=parseInt(oe.paddingTop,10),Ee=parseInt(oe.paddingBottom,10),Re=b.top+b.height/2-Qn,Qe=j-Re,ze=I.offsetHeight/2,X=I.offsetTop+ze,ge=ie+ee+X,rt=z-ge;if(ge<=Re){const ye=I===k[k.length-1].ref.current;a.style.bottom="0px";const ve=d.clientHeight-E.offsetTop-E.offsetHeight,gt=Math.max(Qe,ze+(ye?Ee:0)+ve+me),Xe=ge+gt;a.style.height=Xe+"px"}else{const ye=I===k[0].ref.current;a.style.top="0px";const gt=Math.max(Re,ie+E.offsetTop+(ye?fe:0)+ze)+rt;a.style.height=gt+"px",E.scrollTop=ge-Re+E.offsetTop}a.style.margin=`${Qn}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,a,d,E,I,w,i.dir,r]);vn(()=>T(),[T]);const[N,O]=m.useState();vn(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const L=m.useCallback(b=>{b&&S.current===!0&&(T(),y==null||y(),S.current=!1)},[T,y]);return m.createElement(v3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:x,onScrollButtonChange:L},m.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},m.createElement(Gn.div,Z({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),Mw=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...i}=t,o=tb(n);return m.createElement(nV,Z({},o,i,{ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[v3,Tg]=po(Zi,{}),Lw="SelectViewport",y3=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Zs(Lw,n),i=Tg(Lw,n),o=Nt(e,s.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Eg.Slot,{scope:n},m.createElement(Gn.div,Z({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:at(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const g=Math.abs(a.current-d.scrollTop);if(g>0){const x=window.innerHeight-Qn*2,S=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),I=Math.max(S,E);if(I<x){const w=I+g,y=Math.min(x,w),T=w-y;h.style.height=y+"px",h.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}a.current=d.scrollTop})}))))}),w3="SelectGroup",[x5,_3]=po(w3),x3="SelectLabel",E3=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_3(x3,n);return m.createElement(Gn.div,Z({id:s.id},r,{ref:e}))}),Tp="SelectItem",[T3,rb]=po(Tp),S3=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=mo(Tp,n),u=Zs(Tp,n),d=a.value===r,[h,f]=m.useState(i??""),[g,x]=m.useState(!1),S=Nt(e,w=>{var y;return(y=u.itemRefCallback)===null||y===void 0?void 0:y.call(u,w,r,s)}),E=jM(),I=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};return m.createElement(T3,{scope:n,value:r,disabled:s,textId:E,isSelected:d,onItemTextChange:m.useCallback(w=>{f(y=>{var T;return y||((T=w==null?void 0:w.textContent)!==null&&T!==void 0?T:"").trim()})},[])},m.createElement(Eg.ItemSlot,{scope:n,value:r,disabled:s,textValue:h},m.createElement(Gn.div,Z({role:"option","aria-labelledby":E,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:S,onFocus:at(o.onFocus,()=>x(!0)),onBlur:at(o.onBlur,()=>x(!1)),onPointerUp:at(o.onPointerUp,I),onPointerMove:at(o.onPointerMove,w=>{if(s){var y;(y=u.onItemLeave)===null||y===void 0||y.call(u)}else w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,w=>{if(w.currentTarget===document.activeElement){var y;(y=u.onItemLeave)===null||y===void 0||y.call(u)}}),onKeyDown:at(o.onKeyDown,w=>{var y;((y=u.searchRef)===null||y===void 0?void 0:y.current)!==""&&w.key===" "||(a3.includes(w.key)&&I(),w.key===" "&&w.preventDefault())})}))))}),cc="SelectItemText",b3=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=mo(cc,n),a=Zs(cc,n),u=rb(cc,n),d=c3(cc,n),[h,f]=m.useState(null),g=Nt(e,w=>f(w),u.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,w,u.value,u.disabled)}),x=h==null?void 0:h.textContent,S=m.useMemo(()=>m.createElement("option",{key:u.value,value:u.value,disabled:u.disabled},x),[u.disabled,u.value,x]),{onNativeOptionAdd:E,onNativeOptionRemove:I}=d;return vn(()=>(E(S),()=>I(S)),[E,I,S]),m.createElement(m.Fragment,null,m.createElement(Gn.span,Z({id:u.textId},i,{ref:g})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ro.createPortal(i.children,o.valueNode):null)}),C3="SelectItemIndicator",I3=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return rb(C3,n).isSelected?m.createElement(Gn.span,Z({"aria-hidden":!0},r,{ref:e})):null}),Vw="SelectScrollUpButton",A3=m.forwardRef((t,e)=>{const n=Zs(Vw,t.__scopeSelect),r=Tg(Vw,t.__scopeSelect),[s,i]=m.useState(!1),o=Nt(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollTop>0;i(h)};var a=d;const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?m.createElement(sb,Z({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}})):null}),$w="SelectScrollDownButton",N3=m.forwardRef((t,e)=>{const n=Zs($w,t.__scopeSelect),r=Tg($w,t.__scopeSelect),[s,i]=m.useState(!1),o=Nt(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;i(f)};var a=d;const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?m.createElement(sb,Z({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}})):null}),sb=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Zs("SelectScrollButton",n),o=m.useRef(null),a=Td(n),u=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),vn(()=>{var d;const h=a().find(f=>f.ref.current===document.activeElement);h==null||(d=h.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[a]),m.createElement(Gn.div,Z({"aria-hidden":!0},s,{ref:e,style:{flexShrink:0,...s.style},onPointerDown:at(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:at(s.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:at(s.onPointerLeave,()=>{u()})}))}),R3=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(Gn.div,Z({"aria-hidden":!0},r,{ref:e}))}),P3=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Nt(e,s),o=fV(n);return m.useEffect(()=>{const a=s.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),m.createElement(wV,{asChild:!0},m.createElement("select",Z({},r,{ref:i,defaultValue:n})))});P3.displayName="BubbleSelect";function ib(t){const e=Hs(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ob(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=k3(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function k3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const ab=d3,j3=h3,O3=f3,lb=p3,D3=y3,cb=E3,ub=S3,M3=b3,L3=I3,db=A3,hb=N3,fb=R3,V3=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(ab,{ref:r,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(j3,{asChild:!0,children:l.jsx(xm,{className:"h-4 w-4 opacity-50"})})]}));V3.displayName=ab.displayName;const pb=m.forwardRef(({className:t,...e},n)=>l.jsx(db,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(aR,{className:"h-4 w-4"})}));pb.displayName=db.displayName;const mb=m.forwardRef(({className:t,...e},n)=>l.jsx(hb,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(xm,{className:"h-4 w-4"})}));mb.displayName=hb.displayName;const $3=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(O3,{children:l.jsxs(lb,{ref:s,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(pb,{}),l.jsx(D3,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(mb,{})]})}));$3.displayName=lb.displayName;const F3=m.forwardRef(({className:t,...e},n)=>l.jsx(cb,{ref:n,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));F3.displayName=cb.displayName;const U3=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(ub,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(L3,{children:l.jsx(kn,{className:"h-4 w-4"})})}),l.jsx(M3,{children:e})]}));U3.displayName=ub.displayName;const B3=m.forwardRef(({className:t,...e},n)=>l.jsx(fb,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));B3.displayName=fb.displayName;const z3="https://clickpassagens.onrender.com",W3=[{codigo:"GRU",nome:"Guarulhos - São Paulo (GRU)",cidade:"São Paulo",estado:"SP"},{codigo:"CGH",nome:"Congonhas - São Paulo (CGH)",cidade:"São Paulo",estado:"SP"},{codigo:"VCP",nome:"Viracopos - Campinas (VCP)",cidade:"Campinas",estado:"SP"},{codigo:"GIG",nome:"Galeão - Rio de Janeiro (GIG)",cidade:"Rio de Janeiro",estado:"RJ"},{codigo:"SDU",nome:"Santos Dumont - Rio de Janeiro (SDU)",cidade:"Rio de Janeiro",estado:"RJ"},{codigo:"BSB",nome:"Brasília Internacional (BSB)",cidade:"Brasília",estado:"DF"},{codigo:"CNF",nome:"Confins - Belo Horizonte (CNF)",cidade:"Belo Horizonte",estado:"MG"},{codigo:"PLU",nome:"Pampulha - Belo Horizonte (PLU)",cidade:"Belo Horizonte",estado:"MG"},{codigo:"SSA",nome:"Salvador (SSA)",cidade:"Salvador",estado:"BA"},{codigo:"REC",nome:"Recife (REC)",cidade:"Recife",estado:"PE"},{codigo:"FOR",nome:"Fortaleza (FOR)",cidade:"Fortaleza",estado:"CE"},{codigo:"NAT",nome:"Natal (NAT)",cidade:"Natal",estado:"RN"},{codigo:"MCZ",nome:"Maceió (MCZ)",cidade:"Maceió",estado:"AL"},{codigo:"AJU",nome:"Aracaju (AJU)",cidade:"Aracaju",estado:"SE"},{codigo:"JPA",nome:"João Pessoa (JPA)",cidade:"João Pessoa",estado:"PB"},{codigo:"POA",nome:"Porto Alegre (POA)",cidade:"Porto Alegre",estado:"RS"},{codigo:"CWB",nome:"Curitiba (CWB)",cidade:"Curitiba",estado:"PR"},{codigo:"FLN",nome:"Florianópolis (FLN)",cidade:"Florianópolis",estado:"SC"},{codigo:"NVT",nome:"Navegantes (NVT)",cidade:"Navegantes",estado:"SC"},{codigo:"CGB",nome:"Cuiabá (CGB)",cidade:"Cuiabá",estado:"MT"},{codigo:"CGR",nome:"Campo Grande (CGR)",cidade:"Campo Grande",estado:"MS"},{codigo:"GYN",nome:"Goiânia (GYN)",cidade:"Goiânia",estado:"GO"},{codigo:"MAO",nome:"Manaus (MAO)",cidade:"Manaus",estado:"AM"},{codigo:"BEL",nome:"Belém (BEL)",cidade:"Belém",estado:"PA"},{codigo:"PVH",nome:"Porto Velho (PVH)",cidade:"Porto Velho",estado:"RO"},{codigo:"RBR",nome:"Rio Branco (RBR)",cidade:"Rio Branco",estado:"AC"},{codigo:"BOA",nome:"Boa Vista (BOA)",cidade:"Boa Vista",estado:"RR"},{codigo:"MCP",nome:"Macapá (MCP)",cidade:"Macapá",estado:"AP"},{codigo:"PBM",nome:"Palmas (PBM)",cidade:"Palmas",estado:"TO"},{codigo:"VIX",nome:"Vitória (VIX)",cidade:"Vitória",estado:"ES"},{codigo:"IGU",nome:"Foz do Iguaçu (IGU)",cidade:"Foz do Iguaçu",estado:"PR"},{codigo:"UDI",nome:"Uberlândia (UDI)",cidade:"Uberlândia",estado:"MG"},{codigo:"IOS",nome:"Ilhéus (IOS)",cidade:"Ilhéus",estado:"BA"},{codigo:"JJD",nome:"Jericoacoara (JJD)",cidade:"Jijoca de Jericoacoara",estado:"CE"}],Fw=t=>{if(!t||t.length<1)return[];const e=t.toLowerCase();return W3.filter(n=>n.codigo.toLowerCase().includes(e)||n.nome.toLowerCase().includes(e)||n.cidade.toLowerCase().includes(e)||n.estado.toLowerCase().includes(e)).slice(0,8)};function H3(){const[t,e]=m.useState("default"),[n,r]=m.useState(null),[s,i]=m.useState(!1);m.useEffect(()=>{"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window&&(i(!0),e(Notification.permission),o())},[]);const o=async()=>{try{const f=await(await navigator.serviceWorker.ready).pushManager.getSubscription();r(f)}catch(h){console.error("Erro ao verificar inscrição:",h)}},a=h=>{const f="=".repeat((4-h.length%4)%4),g=(h+f).replace(/\-/g,"+").replace(/_/g,"/"),x=window.atob(g),S=new Uint8Array(x.length);for(let E=0;E<x.length;++E)S[E]=x.charCodeAt(E);return S},u=async()=>{try{const h=await Notification.requestPermission();if(e(h),h!=="granted"){alert("Permissão de notificação negada. Você pode alterar isso nas configurações do navegador.");return}const f=await navigator.serviceWorker.ready,g="VAPID_PUBLIC_KEY_AQUI",x=await f.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a(g)});r(x),await fetch("https://clickpassagens.onrender.com/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),alert("✅ Notificações ativadas! Você receberá alertas sobre novas ofertas.")}catch(h){console.error("Erro ao se inscrever em notificações:",h),alert("Erro ao ativar notificações. Tente novamente.")}},d=async()=>{try{n&&(await n.unsubscribe(),r(null),await fetch("https://clickpassagens.onrender.com/api/push/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:n.endpoint})}),alert("✅ Notificações desativadas."))}catch(h){console.error("Erro ao cancelar inscrição:",h),alert("Erro ao desativar notificações.")}};return s?l.jsx("div",{className:"flex items-center",children:n?l.jsx(Ni,{onClick:d,variant:"outline",size:"sm",className:"w-10 h-10 p-0 flex items-center justify-center",title:"Desativar notificações",children:l.jsx(sR,{className:"h-5 w-5"})}):l.jsx(Ni,{onClick:u,variant:"default",size:"sm",className:"w-10 h-10 p-0 flex items-center justify-center bg-blue-600 hover:bg-blue-700",title:"Ativar notificações",children:l.jsx(M1,{className:"h-5 w-5"})})}):null}function Uw({label:t,name:e,value:n,onChange:r,placeholder:s,required:i=!1}){const[o,a]=m.useState(n),[u,d]=m.useState([]),[h,f]=m.useState(!1),[g,x]=m.useState(-1),S=m.useRef(null);m.useEffect(()=>{a(n)},[n]),m.useEffect(()=>{function N(O){S.current&&!S.current.contains(O.target)&&f(!1)}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const E=N=>{const O=N.target.value.toUpperCase();if(a(O),O.length>0){const L=Fw(O);d(L),f(!0),x(-1)}else d([]),f(!1);r({target:{name:e,value:O}})},I=N=>{a(N.codigo),r({target:{name:e,value:N.codigo}}),f(!1),d([]),x(-1)},w=N=>{if(h)switch(N.key){case"ArrowDown":N.preventDefault(),x(O=>O<u.length-1?O+1:O);break;case"ArrowUp":N.preventDefault(),x(O=>O>0?O-1:-1);break;case"Enter":N.preventDefault(),g>=0&&u[g]&&I(u[g]);break;case"Escape":f(!1),x(-1);break}},y=()=>{a(""),r({target:{name:e,value:""}}),d([]),f(!1)},T=()=>{if(o.length>0){const N=Fw(o);d(N),f(!0)}};return l.jsxs("div",{className:"form-group-hero autocomplete-wrapper",ref:S,children:[l.jsxs("label",{children:[l.jsx(Va,{className:"label-icon"}),t]}),l.jsxs("div",{className:"autocomplete-input-wrapper",children:[l.jsx("input",{type:"text",name:e,placeholder:s,value:o,onChange:E,onKeyDown:w,onFocus:T,required:i,autoComplete:"off",maxLength:3}),o&&l.jsx("button",{type:"button",className:"autocomplete-clear-btn",onClick:y,tabIndex:-1,children:l.jsx(Ls,{size:16})})]}),h&&u.length>0&&l.jsx("ul",{className:"autocomplete-suggestions",children:u.map((N,O)=>l.jsxs("li",{className:`autocomplete-suggestion-item ${O===g?"selected":""}`,onClick:()=>I(N),onMouseEnter:()=>x(O),children:[l.jsx("div",{className:"suggestion-code",children:N.codigo}),l.jsxs("div",{className:"suggestion-details",children:[l.jsx("div",{className:"suggestion-name",children:N.cidade}),l.jsx("div",{className:"suggestion-location",children:N.estado})]})]},N.codigo))})]})}function Bw({label:t,name:e,value:n,onChange:r,required:s=!1,minDate:i=null}){const o=m.useRef(null),a=()=>{o.current&&o.current.showPicker()},u=h=>{h.key!=="Tab"&&h.key!=="Escape"&&(h.preventDefault(),o.current&&o.current.showPicker())},d=()=>i||new Date().toISOString().split("T")[0];return l.jsxs("div",{className:"form-group-hero",children:[l.jsxs("label",{children:[l.jsx(au,{className:"label-icon"}),t]}),l.jsx("input",{ref:o,type:"date",name:e,value:n,onChange:r,onClick:a,onKeyDown:u,min:d(),required:s,className:"date-picker-input"})]})}const G3=`${z3}/api`;function q3({onSearchSubmit:t}){const[e,n]=m.useState({origem:"",destino:"",data_ida:"",data_volta:"",passageiros:1,classe:"economica"}),[r,s]=m.useState(!1),[i,o]=m.useState(null),a=d=>{const{name:h,value:f}=d.target;n(g=>({...g,[h]:f}))},u=async d=>{var g,x,S;if(d.preventDefault(),!e.origem||!e.destino||!e.data_ida){alert("Por favor, preencha origem, destino e data de ida");return}s(!0),o(null);const h=`${G3}/busca/buscar`,f={...e,usuario_id:1};console.log("🔍 Iniciando busca..."),console.log("📍 URL:",h),console.log("📦 Body:",f);try{const E=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(console.log("📡 Response status:",E.status),console.log("📡 Response ok:",E.ok),!E.ok){const w=(g=E.headers.get("content-type"))!=null&&g.includes("application/json")?(await E.json()).error:`Erro HTTP: ${E.status}`;throw new Error(w||`Erro HTTP: ${E.status}`)}const I=await E.json();if(console.log("📥 Dados recebidos:",I),console.log("📥 Success:",I.success),console.log("📥 Resultados count:",(S=(x=I.data)==null?void 0:x.resultados)==null?void 0:S.length),I.success&&I.data.resultados){const w=I.data.resultados;!Array.isArray(w)||w.length===0?(console.warn("⚠️ Nenhum resultado encontrado"),o("Nenhum voo real foi encontrado para os parâmetros informados. Tente ajustar sua busca."),t&&t([])):(console.log("✅ Chamando onSearchSubmit com",w.length,"resultados"),t&&t(w))}else throw I.error?new Error(I.error):new Error("Formato de resposta inválido")}catch(E){console.error("❌ Erro na busca por voos reais:",E);const I=(E==null?void 0:E.message)||"Não foi possível concluir a busca de voos.";o(I+" Verifique sua conexão e tente novamente."),t&&t([])}finally{s(!1),console.log("🏁 Busca finalizada")}};return l.jsxs("div",{className:"hero-section",children:[l.jsxs("div",{className:"hero-container",children:[l.jsxs("div",{className:"hero-content",children:[l.jsxs("div",{className:"hero-badge",children:[l.jsx(Lf,{className:"badge-icon",fill:"#fbbf24"}),l.jsx("span",{children:"#1 Plataforma de Milhas do Brasil"})]}),l.jsxs("h1",{className:"hero-title",children:["Voe mais, ",l.jsx("span",{className:"gradient-text",children:"gaste menos"})]}),l.jsxs("p",{className:"hero-subtitle",children:["A plataforma mais inteligente para encontrar passagens aéreas com milhas. Compare preços em tempo real e economize até ",l.jsx("strong",{children:"70%"})," nas suas viagens."]}),l.jsxs("div",{className:"hero-cta desktop-only",children:[l.jsxs("button",{className:"btn-primary-hero",type:"button",children:[l.jsx(Hr,{className:"btn-icon"}),"Buscar Passagens Agora"]}),l.jsx("button",{className:"btn-secondary-hero",type:"button",children:"Ver Como Funciona"})]})]}),l.jsxs("div",{className:"search-card-hero",children:[l.jsxs("div",{className:"search-card-header",children:[l.jsx(pR,{className:"search-header-icon"}),l.jsx("h3",{children:"Encontre sua próxima viagem"})]}),i&&l.jsxs("div",{className:"error-banner-hero",children:[l.jsx(tR,{className:"error-icon-hero"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Não foi possível carregar voos reais."}),l.jsx("p",{children:i})]})]}),l.jsxs("form",{onSubmit:u,className:"search-form-hero",children:[l.jsx(Uw,{label:"Origem",name:"origem",value:e.origem,onChange:a,placeholder:"Ex: GRU, CGH, GIG",required:!0}),l.jsx(Uw,{label:"Destino",name:"destino",value:e.destino,onChange:a,placeholder:"Ex: BSB, SSA, FOR",required:!0}),l.jsx(Bw,{label:"Data de Ida",name:"data_ida",value:e.data_ida,onChange:a,required:!0}),l.jsx(Bw,{label:"Data de Volta",name:"data_volta",value:e.data_volta,onChange:a,minDate:e.data_ida}),l.jsxs("div",{className:"form-group-hero",children:[l.jsxs("label",{children:[l.jsx(W1,{className:"label-icon"}),"Passageiros"]}),l.jsxs("select",{name:"passageiros",value:e.passageiros,onChange:a,children:[l.jsx("option",{value:"1",children:"1 Passageiro"}),l.jsx("option",{value:"2",children:"2 Passageiros"}),l.jsx("option",{value:"3",children:"3 Passageiros"}),l.jsx("option",{value:"4",children:"4 Passageiros"}),l.jsx("option",{value:"5",children:"5+ Passageiros"})]})]}),l.jsxs("div",{className:"form-group-hero",children:[l.jsx("label",{children:"Classe"}),l.jsxs("select",{name:"classe",value:e.classe,onChange:a,children:[l.jsx("option",{value:"economica",children:"Econômica"}),l.jsx("option",{value:"executiva",children:"Executiva"}),l.jsx("option",{value:"primeira",children:"Primeira Classe"})]})]}),l.jsx("button",{type:"submit",className:"btn-search-hero",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(dR,{className:"btn-icon animate-spin"}),"Buscando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Hr,{className:"btn-icon"}),"Buscar Voos Agora"]})})]})]})]}),l.jsx("div",{className:"stats-section-hero",children:l.jsxs("div",{className:"stats-grid-hero",children:[l.jsxs("div",{className:"stat-card-hero",children:[l.jsx("div",{className:"stat-icon-hero",children:"👥"}),l.jsx("div",{className:"stat-number-hero",children:"50K+"}),l.jsx("div",{className:"stat-label-hero",children:"Passageiros Atendidos"})]}),l.jsxs("div",{className:"stat-card-hero",children:[l.jsx(z1,{className:"stat-icon-hero-svg"}),l.jsx("div",{className:"stat-number-hero",children:"70%"}),l.jsx("div",{className:"stat-label-hero",children:"Economia Média"})]}),l.jsxs("div",{className:"stat-card-hero",children:[l.jsx("div",{className:"stat-icon-hero",children:"⏰"}),l.jsx("div",{className:"stat-number-hero",children:"24/7"}),l.jsx("div",{className:"stat-label-hero",children:"Suporte Disponível"})]}),l.jsxs("div",{className:"stat-card-hero",children:[l.jsx(Mf,{className:"stat-icon-hero-svg"}),l.jsx("div",{className:"stat-number-hero",children:"100%"}),l.jsx("div",{className:"stat-label-hero",children:"Segurança Garantida"})]})]})}),l.jsxs("div",{className:"airlines-section-hero",children:[l.jsx("p",{className:"airlines-title",children:"Parceiros de confiança"}),l.jsxs("div",{className:"airlines-grid-hero",children:[l.jsx("div",{className:"airline-logo-hero gol",children:"GOL"}),l.jsx("div",{className:"airline-logo-hero azul",children:"AZUL"}),l.jsx("div",{className:"airline-logo-hero latam",children:"LATAM"}),l.jsx("div",{className:"airline-logo-hero avianca",children:"AVIANCA"}),l.jsx("div",{className:"airline-logo-hero tap",children:"TAP"})]})]})]})}const K3=({flight:t,onClose:e})=>{if(!t)return null;const n=r=>{const s=[],i=Math.floor(r);for(let o=0;o<5;o++)s.push(l.jsx(Lf,{size:20,fill:o<i?"#fbbf24":"none",color:"#fbbf24"},o));return s};return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[l.jsxs("div",{className:"modal-header-flight",children:[l.jsx("button",{className:"btn-close-modal",onClick:e,children:l.jsx(Ls,{size:24})}),l.jsxs("div",{className:"airline-header-modal",children:[l.jsx("div",{className:"airline-logo-big",style:{backgroundColor:t.companhia==="GOL"?"#ff6600":t.companhia==="AZUL"?"#003d7a":(t.companhia==="LATAM","#d40d32")},children:t.companhia}),l.jsxs("div",{className:"airline-info-modal",children:[l.jsxs("h2",{children:[t.companhia," Airlines"]}),l.jsxs("p",{children:["Voo ",t.numeroVoo||"G3 1234"]})]})]}),l.jsxs("div",{className:"price-badge-modal",children:["R$ ",t.precoTotal?t.precoTotal.toFixed(2):"0.00"]})]}),l.jsxs("div",{className:"modal-body-flight",children:[l.jsxs("div",{className:"section-modal",children:[l.jsxs("h3",{className:"section-title-modal",children:[l.jsx(Hr,{size:24})," Itinerário"]}),l.jsxs("div",{className:"flight-timeline-modal",children:[l.jsxs("div",{className:"timeline-row-modal",children:[l.jsxs("div",{className:"timeline-point-modal",children:[l.jsx("div",{className:"timeline-time-modal",children:t.horarioPartida||"08:00"}),l.jsx("div",{className:"timeline-airport-modal",children:t.origem}),l.jsx("div",{className:"timeline-city-modal",children:t.origem==="GRU"?"São Paulo":t.origem==="GIG"?"Rio de Janeiro":t.origem==="BSB"?"Brasília":t.origem}),l.jsx("span",{className:"timeline-terminal-modal",children:"Terminal 2"})]}),l.jsxs("div",{className:"timeline-middle-modal",children:[l.jsx("div",{className:"timeline-duration-modal",children:t.duracao||"2h 15min"}),l.jsx("div",{className:"timeline-line-modal",children:l.jsx("div",{className:"timeline-plane-modal",children:"✈️"})}),l.jsx("div",{className:"timeline-stops-modal",children:t.paradas===0?"Direto":`${t.paradas} parada(s)`})]}),l.jsxs("div",{className:"timeline-point-modal",children:[l.jsx("div",{className:"timeline-time-modal",children:t.horarioChegada||"10:15"}),l.jsx("div",{className:"timeline-airport-modal",children:t.destino}),l.jsx("div",{className:"timeline-city-modal",children:t.destino==="GRU"?"São Paulo":t.destino==="GIG"?"Rio de Janeiro":t.destino==="BSB"?"Brasília":t.destino}),l.jsx("span",{className:"timeline-terminal-modal",children:"Terminal 1"})]})]}),t.paradas>0&&l.jsxs("div",{className:"layover-info-modal",children:["⚠️ ",l.jsx("strong",{children:"Conexão:"})," 1h 45min em Guarulhos (GRU)"]})]})]}),l.jsxs("div",{className:"section-modal",children:[l.jsxs("h3",{className:"section-title-modal",children:[l.jsx(L1,{size:24})," Informações do Voo"]}),l.jsxs("div",{className:"info-grid-modal",children:[l.jsxs("div",{className:"info-card-modal",children:[l.jsx("div",{className:"info-card-icon-modal",children:"✈️"}),l.jsx("div",{className:"info-card-title-modal",children:"Aeronave"}),l.jsx("div",{className:"info-card-value-modal",children:"Boeing 737-800"})]}),l.jsxs("div",{className:"info-card-modal",children:[l.jsx("div",{className:"info-card-icon-modal",children:"💺"}),l.jsx("div",{className:"info-card-title-modal",children:"Capacidade"}),l.jsx("div",{className:"info-card-value-modal",children:"186 assentos"})]}),l.jsxs("div",{className:"info-card-modal",children:[l.jsx("div",{className:"info-card-icon-modal",children:"📏"}),l.jsx("div",{className:"info-card-title-modal",children:"Distância"}),l.jsx("div",{className:"info-card-value-modal",children:t.distancia||"1.200 km"})]}),l.jsxs("div",{className:"info-card-modal",children:[l.jsx("div",{className:"info-card-icon-modal",children:"⏱️"}),l.jsx("div",{className:"info-card-title-modal",children:"Tempo de Voo"}),l.jsx("div",{className:"info-card-value-modal",children:t.duracao||"2h 15min"})]})]})]}),l.jsxs("div",{className:"section-modal",children:[l.jsxs("h3",{className:"section-title-modal",children:[l.jsx(iR,{size:24})," Bagagem Incluída"]}),l.jsxs("div",{className:"baggage-grid-modal",children:[l.jsxs("div",{className:"baggage-card-modal",children:[l.jsx("div",{className:"baggage-icon-modal",children:"🎒"}),l.jsx("div",{className:"baggage-title-modal",children:"Bagagem de Mão"}),l.jsx("div",{className:"baggage-value-modal",children:"10 kg"}),l.jsx("div",{className:"baggage-note-modal",children:"Incluído"})]}),l.jsxs("div",{className:"baggage-card-modal",children:[l.jsx("div",{className:"baggage-icon-modal",children:"🧳"}),l.jsx("div",{className:"baggage-title-modal",children:"Bagagem Despachada"}),l.jsx("div",{className:"baggage-value-modal",children:"23 kg"}),l.jsx("div",{className:"baggage-note-modal",children:"Incluído"})]}),l.jsxs("div",{className:"baggage-card-modal",children:[l.jsx("div",{className:"baggage-icon-modal",children:"➕"}),l.jsx("div",{className:"baggage-title-modal",children:"Bagagem Extra"}),l.jsx("div",{className:"baggage-value-modal",children:"R$ 150"}),l.jsx("div",{className:"baggage-note-modal",children:"Por mala"})]})]})]}),l.jsxs("div",{className:"section-modal",children:[l.jsxs("h3",{className:"section-title-modal",children:[l.jsx($y,{size:24})," Comodidades"]}),l.jsxs("div",{className:"amenities-grid-modal",children:[l.jsxs("div",{className:"amenity-item-modal",children:[l.jsx(gR,{size:20,className:"amenity-icon-modal"}),l.jsx("span",{className:"amenity-text-modal",children:"Wi-Fi a bordo"})]}),l.jsxs("div",{className:"amenity-item-modal",children:[l.jsx($y,{size:20,className:"amenity-icon-modal"}),l.jsx("span",{className:"amenity-text-modal",children:"Refeição incluída"})]}),l.jsxs("div",{className:"amenity-item-modal",children:[l.jsx(mR,{size:20,className:"amenity-icon-modal"}),l.jsx("span",{className:"amenity-text-modal",children:"Entretenimento"})]}),l.jsxs("div",{className:"amenity-item-modal",children:[l.jsx(ol,{size:20,className:"amenity-icon-modal"}),l.jsx("span",{className:"amenity-text-modal",children:"Assento reclinável"})]})]})]}),l.jsxs("div",{className:"section-modal",children:[l.jsxs("h3",{className:"section-title-modal",children:[l.jsx(Lf,{size:24})," Avaliação dos Passageiros"]}),l.jsxs("div",{className:"rating-card-modal",children:[l.jsxs("div",{className:"rating-score-modal",children:[l.jsx("div",{className:"rating-number-modal",children:"4.5"}),l.jsx("div",{className:"rating-stars-modal",children:n(4.5)}),l.jsx("div",{className:"rating-text-modal",children:"Excelente"})]}),l.jsxs("div",{className:"rating-details-modal",children:[l.jsxs("div",{className:"rating-bar-modal",children:[l.jsx("span",{className:"rating-label-modal",children:"Conforto"}),l.jsx("div",{className:"rating-progress-modal",children:l.jsx("div",{className:"rating-fill-modal",style:{width:"90%"}})}),l.jsx("span",{className:"rating-value-modal",children:"4.5"})]}),l.jsxs("div",{className:"rating-bar-modal",children:[l.jsx("span",{className:"rating-label-modal",children:"Serviço"}),l.jsx("div",{className:"rating-progress-modal",children:l.jsx("div",{className:"rating-fill-modal",style:{width:"85%"}})}),l.jsx("span",{className:"rating-value-modal",children:"4.3"})]}),l.jsxs("div",{className:"rating-bar-modal",children:[l.jsx("span",{className:"rating-label-modal",children:"Pontualidade"}),l.jsx("div",{className:"rating-progress-modal",children:l.jsx("div",{className:"rating-fill-modal",style:{width:"95%"}})}),l.jsx("span",{className:"rating-value-modal",children:"4.8"})]})]})]})]})]}),l.jsxs("div",{className:"modal-footer-flight",children:[l.jsx("button",{className:"btn-modal btn-secondary-modal",onClick:e,children:"Voltar"}),l.jsx("button",{className:"btn-modal btn-share-modal",children:"Compartilhar"}),l.jsx("button",{className:"btn-modal btn-primary-modal",children:"Selecionar Voo"})]})]})})};function Q3({results:t,onNewSearch:e,onCompare:n,onCheckout:r,onGenerateQuote:s}){var I,w,y;const[i,o]=m.useState(null),[a,u]=m.useState({companhias:[],paradas:[],horarios:[],precoMax:1e4}),[d,h]=m.useState("economia"),f=["GOL","AZUL","LATAM","AVIANCA","TAP"],g=(T,N)=>{u(O=>({...O,[T]:O[T].includes(N)?O[T].filter(L=>L!==N):[...O[T],N]}))},x=()=>{u({companhias:[],paradas:[],horarios:[],precoMax:1e4})},E=[...t.filter(T=>{var N;return!(a.companhias.length>0&&!a.companhias.includes((N=T.companhia)==null?void 0:N.nome)||a.paradas.length>0&&!a.paradas.includes(T.paradas)||T.preco_dinheiro>a.precoMax)})].sort((T,N)=>{switch(d){case"economia":return N.economia_calculada-T.economia_calculada;case"preco":return T.milhas_necessarias-N.milhas_necessarias;case"duracao":return parseInt(T.duracao)-parseInt(N.duracao);default:return 0}});return l.jsxs("div",{className:"results-page",children:[l.jsx("div",{className:"search-bar-compact",children:l.jsxs("div",{className:"search-summary",children:[l.jsxs("div",{className:"search-summary-info",children:[l.jsxs("span",{className:"search-route",children:[(I=t[0])==null?void 0:I.origem," → ",(w=t[0])==null?void 0:w.destino]}),l.jsxs("span",{className:"search-date",children:[(y=t[0])==null?void 0:y.data," • ",t.length," voos encontrados"]})]}),l.jsx("button",{onClick:e,className:"btn-modify-search",children:"Modificar Busca"})]})}),l.jsxs("div",{className:"results-container",children:[l.jsxs("aside",{className:"filters-sidebar",children:[l.jsxs("div",{className:"filter-card",children:[l.jsxs("div",{className:"filter-title",children:[l.jsx(cR,{size:20}),l.jsx("span",{children:"Filtros"})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("h4",{children:"Companhias Aéreas"}),f.map(T=>l.jsxs("label",{className:"filter-option",children:[l.jsx("input",{type:"checkbox",checked:a.companhias.includes(T),onChange:()=>g("companhias",T)}),l.jsx("span",{children:T}),l.jsxs("span",{className:"filter-count",children:["(",t.filter(N=>{var O;return((O=N.companhia)==null?void 0:O.nome)===T}).length,")"]})]},T))]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("h4",{children:"Paradas"}),l.jsxs("label",{className:"filter-option",children:[l.jsx("input",{type:"checkbox",checked:a.paradas.includes("Direto"),onChange:()=>g("paradas","Direto")}),l.jsx("span",{children:"Voos Diretos"}),l.jsxs("span",{className:"filter-count",children:["(",t.filter(T=>T.paradas==="Direto").length,")"]})]}),l.jsxs("label",{className:"filter-option",children:[l.jsx("input",{type:"checkbox",checked:a.paradas.includes("1 parada"),onChange:()=>g("paradas","1 parada")}),l.jsx("span",{children:"1 Parada"}),l.jsxs("span",{className:"filter-count",children:["(",t.filter(T=>T.paradas==="1 parada").length,")"]})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("h4",{children:"Preço Máximo"}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:a.precoMax,onChange:T=>u(N=>({...N,precoMax:parseInt(T.target.value)})),className:"price-range"}),l.jsxs("div",{className:"price-range-label",children:["Até R$ ",a.precoMax.toLocaleString("pt-BR")]})]}),l.jsx("button",{onClick:x,className:"btn-reset-filters",children:"Limpar Filtros"})]}),l.jsxs("div",{className:"filter-card economy-tip",children:[l.jsx("div",{className:"economy-icon",children:"💡"}),l.jsx("h4",{children:"Dica de Economia"}),l.jsx("p",{children:"Voos diretos geralmente oferecem melhor custo-benefício em milhas!"})]})]}),l.jsxs("main",{className:"results-list",children:[l.jsxs("div",{className:"results-header",children:[l.jsxs("div",{className:"results-count",children:["Mostrando ",l.jsx("strong",{children:E.length})," de ",t.length," voos"]}),l.jsxs("div",{className:"sort-options",children:[l.jsx("span",{className:"sort-label",children:"Ordenar por:"}),l.jsxs("button",{className:`sort-btn ${d==="economia"?"active":""}`,onClick:()=>h("economia"),children:[l.jsx(Vf,{size:16}),"Economia"]}),l.jsx("button",{className:`sort-btn ${d==="preco"?"active":""}`,onClick:()=>h("preco"),children:"Menor Preço"}),l.jsxs("button",{className:`sort-btn ${d==="duracao"?"active":""}`,onClick:()=>h("duracao"),children:[l.jsx(L1,{size:16}),"Duração"]})]})]}),n&&l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("button",{onClick:n,className:"btn-compare-miles",style:{width:"100%",padding:"12px 24px",background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx(Vf,{size:20}),"Comparar Milhas vs Dinheiro"]})}),E.length>0?E.map((T,N)=>{var O,L,b,_,A,R;return l.jsxs("div",{className:`flight-card-results ${N===0?"best-offer":""}`,children:[N===0&&l.jsx("div",{className:"best-offer-badge",children:"⭐ MELHOR OFERTA"}),l.jsxs("div",{className:"flight-header",children:[l.jsxs("div",{className:"airline-info",children:[l.jsx("div",{className:`airline-logo-box airline-${(L=(O=T.companhia)==null?void 0:O.nome)==null?void 0:L.toLowerCase()}`,children:(b=T.companhia)==null?void 0:b.codigo}),l.jsxs("div",{className:"airline-details",children:[l.jsx("h3",{children:(_=T.companhia)==null?void 0:_.nome}),l.jsxs("p",{children:["Voo ",T.voo_numero]})]})]}),l.jsxs("div",{className:"flight-price",children:[l.jsxs("div",{className:"price-miles",children:[(A=T.milhas_necessarias)==null?void 0:A.toLocaleString("pt-BR")," milhas"]}),l.jsxs("div",{className:"price-money",children:["ou R$ ",(R=T.preco_dinheiro)==null?void 0:R.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("div",{className:"price-economy",children:["Economia de ",T.economia_calculada,"%"]})]})]}),l.jsxs("div",{className:"flight-route",children:[l.jsxs("div",{className:"route-point",children:[l.jsx("div",{className:"route-time",children:T.horario_saida}),l.jsx("div",{className:"route-airport",children:T.origem})]}),l.jsxs("div",{className:"route-middle",children:[l.jsx("div",{className:"route-duration",children:T.duracao||"2h 30min"}),l.jsx("div",{className:"route-line-container",children:l.jsx(Hr,{size:20,className:"route-plane-icon"})}),l.jsx("div",{className:"route-stops",children:T.paradas})]}),l.jsxs("div",{className:"route-point",children:[l.jsx("div",{className:"route-time",children:T.horario_chegada}),l.jsx("div",{className:"route-airport",children:T.destino})]})]}),l.jsxs("div",{className:"flight-features",children:[l.jsxs("div",{className:"feature-item",children:[l.jsx(kn,{size:16,className:"feature-icon"}),l.jsx("span",{children:"Bagagem de mão incluída"})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx(kn,{size:16,className:"feature-icon"}),l.jsx("span",{children:"Escolha de assento"})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx(kn,{size:16,className:"feature-icon"}),l.jsx("span",{children:"Remarcação flexível"})]})]}),l.jsxs("div",{className:"flight-actions",children:[l.jsx("button",{className:"btn-details",onClick:()=>o(T),children:"Ver Detalhes"}),s&&l.jsx("button",{className:"btn-quote",onClick:()=>s(T),style:{padding:"12px 24px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:"📋 Gerar Orçamento"}),l.jsx("button",{className:"btn-select",onClick:()=>r&&r(T),children:"Selecionar Voo"})]})]},T.id||N)}):l.jsxs("div",{className:"no-results",children:[l.jsx(Ls,{size:48}),l.jsx("h3",{children:"Nenhum voo encontrado"}),l.jsx("p",{children:"Tente ajustar os filtros ou fazer uma nova busca"}),l.jsx("button",{onClick:x,className:"btn-reset-filters",children:"Limpar Filtros"})]})]})]}),i&&l.jsx(K3,{flight:i,onClose:()=>o(null)})]})}const X3=({onSelectPlan:t})=>{const[e,n]=m.useState("anual"),r=[{id:"gratuito",icon:"🆓",name:"Gratuito",description:"Para quem quer testar a plataforma",priceMonthly:0,priceYearly:0,consultations:"5 consultas por mês",features:["Busca básica de passagens","Comparação simples","Suporte por email","Resultados limitados"],buttonText:"Começar Grátis",buttonClass:"secondary",popular:!1},{id:"basico",icon:"⭐",name:"Básico",description:"Ideal para viajantes frequentes",priceMonthly:99,priceYearly:79,consultations:"100 consultas por mês",features:["Busca avançada de passagens","Filtros completos","Histórico de buscas","Suporte prioritário","Alertas de preços"],buttonText:"Assinar Plano Básico",buttonClass:"secondary",popular:!1},{id:"premium",icon:"💎",name:"Premium",description:"O favorito dos nossos clientes",priceMonthly:299,priceYearly:239,consultations:"500 consultas por mês",features:["Todas as funcionalidades","Orçamentos personalizados","Cashback de 2%","Suporte 24/7","Relatórios avançados","API de integração"],buttonText:"Assinar Plano Premium",buttonClass:"primary",popular:!0},{id:"agente",icon:"👨‍💼",name:"Agente",description:"Para agentes de viagem profissionais",priceMonthly:499,priceYearly:399,consultations:"1000 consultas por mês",features:["Painel do agente completo","Comissões configuráveis","Marca própria (White Label)","Relatórios personalizados","Multi-usuários","Gerente de conta dedicado"],buttonText:"Assinar Plano Agente",buttonClass:"primary",popular:!1}],s=[{name:"Consultas por mês",values:["5","100","500","1000"]},{name:"Busca básica",values:[!0,!0,!0,!0]},{name:"Filtros avançados",values:[!1,!0,!0,!0]},{name:"Histórico de buscas",values:[!1,!0,!0,!0]},{name:"Alertas de preços",values:[!1,!0,!0,!0]},{name:"Orçamentos personalizados",values:[!1,!1,!0,!0]},{name:"Cashback",values:[!1,!1,"2%","3%"]},{name:"Suporte",values:["Email","Prioritário","24/7","Dedicado"]},{name:"Marca própria (White Label)",values:[!1,!1,!1,!0]},{name:"API de integração",values:[!1,!1,!0,!0]}],i=[{icon:"💳",question:"Como funciona o pagamento?",answer:"Aceitamos cartão de crédito, débito e PIX. O pagamento é recorrente mensal ou anual, conforme sua escolha. Você pode cancelar a qualquer momento."},{icon:"🔄",question:"Posso trocar de plano depois?",answer:"Sim! Você pode fazer upgrade ou downgrade do seu plano a qualquer momento. O ajuste de valores será feito proporcionalmente."},{icon:"✈️",question:"O que conta como uma consulta?",answer:"Uma consulta é contada quando você busca passagens em uma companhia aérea específica. Exemplo: Se você busca em 3 companhias, são 3 consultas."},{icon:"💰",question:"Como funciona o cashback?",answer:"O cashback é calculado sobre cada emissão de passagem. O valor fica disponível na sua conta e pode ser usado para pagar futuras consultas ou resgatado."}],o=u=>e==="anual"?u.priceYearly:u.priceMonthly,a=u=>{t&&t(u,e)};return l.jsx("div",{className:"pricing-page",children:l.jsxs("div",{className:"pricing-container",children:[l.jsxs("div",{className:"pricing-header",children:[l.jsx("div",{className:"pricing-logo",children:"✈️ ClickPassagens"}),l.jsxs("h1",{className:"pricing-title",children:["Escolha o ",l.jsx("span",{className:"gradient-text",children:"plano perfeito"})," para você"]}),l.jsx("p",{className:"pricing-subtitle",children:"Todos os planos incluem busca ilimitada nas principais companhias aéreas"})]}),l.jsxs("div",{className:"billing-toggle",children:[l.jsx("button",{className:`billing-option ${e==="mensal"?"active":""}`,onClick:()=>n("mensal"),children:"💳 Mensal"}),l.jsxs("button",{className:`billing-option ${e==="anual"?"active":""}`,onClick:()=>n("anual"),children:["💰 Anual ",l.jsx("span",{className:"discount-badge",children:"-20% OFF"})]})]}),l.jsx("div",{className:"plans-grid",children:r.map(u=>l.jsxs("div",{className:`plan-card ${u.popular?"popular":""}`,children:[u.popular&&l.jsx("div",{className:"popular-badge",children:"⭐ MAIS POPULAR"}),l.jsx("div",{className:"plan-icon",children:u.icon}),l.jsx("h3",{className:"plan-name",children:u.name}),l.jsx("p",{className:"plan-description",children:u.description}),l.jsxs("div",{className:"plan-price",children:[l.jsxs("span",{className:"plan-price-value",children:["R$ ",o(u)]}),l.jsx("span",{className:"plan-price-period",children:"/mês"})]}),l.jsx("p",{className:"plan-consultations",children:u.consultations}),l.jsx("ul",{className:"plan-features",children:u.features.map((d,h)=>l.jsxs("li",{children:[l.jsx("span",{className:"check-icon",children:"✓"})," ",d]},h))}),l.jsx("button",{className:`plan-btn plan-btn-${u.buttonClass}`,onClick:()=>a(u.id),children:u.buttonText})]},u.id))}),l.jsxs("div",{className:"comparison-section",children:[l.jsx("h2",{className:"comparison-title",children:"📊 Compare todos os recursos"}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"comparison-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Funcionalidade"}),l.jsx("th",{style:{textAlign:"center"},children:"Gratuito"}),l.jsx("th",{style:{textAlign:"center"},children:"Básico"}),l.jsx("th",{style:{textAlign:"center"},children:"Premium"}),l.jsx("th",{style:{textAlign:"center"},children:"Agente"})]})}),l.jsx("tbody",{children:s.map((u,d)=>l.jsxs("tr",{children:[l.jsx("td",{className:"feature-name",children:u.name}),u.values.map((h,f)=>l.jsx("td",{className:"feature-value",children:typeof h=="boolean"?h?l.jsx("span",{className:"check-yes",children:l.jsx(kn,{size:20})}):l.jsx("span",{className:"check-no",children:l.jsx(Ls,{size:20})}):h},f))]},d))})]})})]}),l.jsxs("div",{className:"faq-section",children:[l.jsx("h2",{className:"faq-title",children:"❓ Perguntas Frequentes"}),i.map((u,d)=>l.jsxs("div",{className:"faq-item",children:[l.jsxs("div",{className:"faq-question",children:[u.icon," ",u.question]}),l.jsx("p",{className:"faq-answer",children:u.answer})]},d)),l.jsxs("div",{className:"guarantee-badge",children:[l.jsx("h3",{children:"🛡️ Garantia de 30 Dias"}),l.jsx("p",{children:"Não ficou satisfeito? Devolvemos seu dinheiro, sem perguntas!"})]})]})]})})};const Y3=({onSelect:t})=>{const[e,n]=m.useState("comparison"),[r,s]=m.useState({milhas:5e4,precoPorMilha:.015,taxas:150,precoPassagem:1500}),i={icon:"✈️",title:"Pagar com Milhas",subtitle:"Economize usando seus pontos",price:"50.000",priceLabel:"milhas + R$ 150",subPrice:"Taxas e emissão",savings:"Economia de 65%",recommended:!0,features:[{text:"Sem pagar passagem",available:!0},{text:"Use seus pontos acumulados",available:!0},{text:"Upgrade de classe",available:!0},{text:"Pagamento flexível",available:!0},{text:"Sem tarifas ocultas",available:!0}]},o={icon:"💵",title:"Pagar em Dinheiro",subtitle:"Pagamento tradicional à vista",price:"R$ 1.500",priceLabel:"valor total",subPrice:"Sem taxas adicionais",savings:null,recommended:!1,features:[{text:"Pagamento à vista ou parcelado",available:!0},{text:"Acumula milhas",available:!0},{text:"Cashback no cartão",available:!0},{text:"Upgrade de classe",available:!1},{text:"Reembolso total",available:!0}]},a=[{feature:"Custo Total",miles:"R$ 900 (50k milhas + taxas)",cash:"R$ 1.500"},{feature:"Economia",miles:"R$ 600 (40%)",cash:"-"},{feature:"Formas de Pagamento",miles:"Milhas + Dinheiro",cash:"Dinheiro/Cartão"},{feature:"Upgrade de Classe",miles:"Disponível",cash:"Não disponível"},{feature:"Flexibilidade",miles:"Alta",cash:"Média"},{feature:"Acúmulo de Pontos",miles:"Não",cash:"Sim (até 3%)"}],d=(()=>{const{milhas:h,precoPorMilha:f,taxas:g,precoPassagem:x}=r,S=h*f+g,E=x-S,I=(E/x*100).toFixed(1);return{custoMilhas:S,economia:E,percentualEconomia:I,valeAPena:E>0}})();return l.jsx("div",{className:"comparison-page",children:l.jsxs("div",{className:"comparison-container",children:[l.jsxs("div",{className:"comparison-header",children:[l.jsx("div",{className:"comparison-logo",children:"✈️ ClickPassagens"}),l.jsxs("h1",{className:"comparison-title",children:[l.jsx("span",{className:"gradient-text",children:"Milhas"})," ou ",l.jsx("span",{className:"gradient-text-green",children:"Dinheiro"}),"?"]}),l.jsx("p",{className:"comparison-subtitle",children:"Compare e descubra a melhor forma de pagar sua passagem"})]}),l.jsxs("div",{className:"view-toggle",children:[l.jsx("button",{className:`toggle-btn ${e==="comparison"?"active":""}`,onClick:()=>n("comparison"),children:"📊 Comparação"}),l.jsx("button",{className:`toggle-btn ${e==="calculator"?"active":""}`,onClick:()=>n("calculator"),children:"🧮 Calculadora"})]}),e==="comparison"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"comparison-grid-comp",children:[l.jsxs("div",{className:"option-card recommended",children:[l.jsx("div",{className:"recommended-badge",children:"⭐ RECOMENDADO"}),l.jsx("div",{className:"option-type",children:i.icon}),l.jsx("h2",{className:"option-title option-miles",children:i.title}),l.jsx("p",{className:"option-subtitle",children:i.subtitle}),l.jsxs("div",{className:"price-display",children:[l.jsx("div",{className:"price-main miles-color",children:i.price}),l.jsx("div",{className:"price-sub",children:i.priceLabel}),l.jsx("div",{className:"savings-badge",children:i.savings})]}),l.jsx("ul",{className:"features-list",children:i.features.map((h,f)=>l.jsxs("li",{children:[h.available?l.jsx(kn,{size:20,className:"check-yes"}):l.jsx(Ls,{size:20,className:"check-no"}),h.text]},f))}),l.jsxs("button",{className:"btn-select-option btn-miles",onClick:()=>t&&t("miles"),children:[l.jsx(vR,{size:20}),"Escolher Milhas"]})]}),l.jsxs("div",{className:"option-card",children:[l.jsx("div",{className:"option-type",children:o.icon}),l.jsx("h2",{className:"option-title option-cash",children:o.title}),l.jsx("p",{className:"option-subtitle",children:o.subtitle}),l.jsxs("div",{className:"price-display",children:[l.jsx("div",{className:"price-main cash-color",children:o.price}),l.jsx("div",{className:"price-sub",children:o.priceLabel})]}),l.jsx("ul",{className:"features-list",children:o.features.map((h,f)=>l.jsxs("li",{children:[h.available?l.jsx(kn,{size:20,className:"check-yes"}):l.jsx(Ls,{size:20,className:"check-no"}),h.text]},f))}),l.jsxs("button",{className:"btn-select-option btn-cash",onClick:()=>t&&t("cash"),children:[l.jsx($1,{size:20}),"Escolher Dinheiro"]})]})]}),l.jsxs("div",{className:"comparison-table-section",children:[l.jsx("h2",{className:"table-title",children:"📊 Comparação Detalhada"}),l.jsx("div",{className:"table-wrapper-comp",children:l.jsxs("table",{className:"comparison-table-comp",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Característica"}),l.jsx("th",{children:"✈️ Milhas"}),l.jsx("th",{children:"💵 Dinheiro"})]})}),l.jsx("tbody",{children:a.map((h,f)=>l.jsxs("tr",{children:[l.jsx("td",{children:h.feature}),l.jsx("td",{className:"value-miles",children:h.miles}),l.jsx("td",{className:"value-cash",children:h.cash})]},f))})]})})]})]}):l.jsxs("div",{className:"calculator-section",children:[l.jsx("h2",{className:"calculator-title",children:"🧮 Calculadora de Milhas"}),l.jsx("p",{className:"calculator-subtitle",children:"Calcule se vale a pena usar suas milhas nesta passagem"}),l.jsxs("div",{className:"calculator-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Quantidade de Milhas"}),l.jsx("input",{type:"number",value:r.milhas,onChange:h=>s(f=>({...f,milhas:parseInt(h.target.value)||0})),placeholder:"Ex: 50000"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Preço por Milha (R$)"}),l.jsx("input",{type:"number",step:"0.001",value:r.precoPorMilha,onChange:h=>s(f=>({...f,precoPorMilha:parseFloat(h.target.value)||0})),placeholder:"Ex: 0.015"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Taxas e Emissão (R$)"}),l.jsx("input",{type:"number",value:r.taxas,onChange:h=>s(f=>({...f,taxas:parseFloat(h.target.value)||0})),placeholder:"Ex: 150"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Preço da Passagem (R$)"}),l.jsx("input",{type:"number",value:r.precoPassagem,onChange:h=>s(f=>({...f,precoPassagem:parseFloat(h.target.value)||0})),placeholder:"Ex: 1500"})]})]}),l.jsxs("div",{className:`calculator-result ${d.valeAPena?"vale-pena":"nao-vale"}`,children:[l.jsx("h3",{children:d.valeAPena?"✅ Vale a pena usar milhas!":"❌ Melhor pagar em dinheiro"}),l.jsxs("div",{className:"result-details",children:[l.jsxs("div",{className:"result-item",children:[l.jsx("span",{className:"result-label",children:"Custo com Milhas:"}),l.jsxs("span",{className:"result-value",children:["R$ ",d.custoMilhas.toFixed(2)]})]}),l.jsxs("div",{className:"result-item",children:[l.jsx("span",{className:"result-label",children:"Economia:"}),l.jsxs("span",{className:"result-value saving",children:["R$ ",Math.abs(d.economia).toFixed(2)," (",d.percentualEconomia,"%)"]})]})]})]})]})]})})},J3={GRU:{name:"Aeroporto Internacional de Guarulhos",city:"São Paulo",state:"SP",domesticTax:47.18,internationalTax:89.14,currency:"BRL"},CGH:{name:"Aeroporto de Congonhas",city:"São Paulo",state:"SP",domesticTax:42.35,internationalTax:0,currency:"BRL"},VCP:{name:"Aeroporto de Viracopos",city:"Campinas",state:"SP",domesticTax:44.62,internationalTax:85.73,currency:"BRL"},GIG:{name:"Aeroporto Internacional do Galeão",city:"Rio de Janeiro",state:"RJ",domesticTax:46.89,internationalTax:88.42,currency:"BRL"},SDU:{name:"Aeroporto Santos Dumont",city:"Rio de Janeiro",state:"RJ",domesticTax:43.17,internationalTax:0,currency:"BRL"},BSB:{name:"Aeroporto Internacional de Brasília",city:"Brasília",state:"DF",domesticTax:45.73,internationalTax:86.95,currency:"BRL"},CNF:{name:"Aeroporto Internacional de Confins",city:"Belo Horizonte",state:"MG",domesticTax:44.28,internationalTax:84.16,currency:"BRL"},PLU:{name:"Aeroporto da Pampulha",city:"Belo Horizonte",state:"MG",domesticTax:38.92,internationalTax:0,currency:"BRL"},SSA:{name:"Aeroporto Internacional de Salvador",city:"Salvador",state:"BA",domesticTax:43.84,internationalTax:83.27,currency:"BRL"},REC:{name:"Aeroporto Internacional do Recife",city:"Recife",state:"PE",domesticTax:42.91,internationalTax:81.58,currency:"BRL"},FOR:{name:"Aeroporto Internacional de Fortaleza",city:"Fortaleza",state:"CE",domesticTax:43.56,internationalTax:82.73,currency:"BRL"},POA:{name:"Aeroporto Internacional Salgado Filho",city:"Porto Alegre",state:"RS",domesticTax:44.15,internationalTax:83.94,currency:"BRL"},CWB:{name:"Aeroporto Internacional Afonso Pena",city:"Curitiba",state:"PR",domesticTax:43.29,internationalTax:82.16,currency:"BRL"},MAO:{name:"Aeroporto Internacional Eduardo Gomes",city:"Manaus",state:"AM",domesticTax:42.47,internationalTax:80.84,currency:"BRL"},BEL:{name:"Aeroporto Internacional Val de Cans",city:"Belém",state:"PA",domesticTax:41.83,internationalTax:79.52,currency:"BRL"},FLN:{name:"Aeroporto Internacional Hercílio Luz",city:"Florianópolis",state:"SC",domesticTax:43.72,internationalTax:83.08,currency:"BRL"},VIX:{name:"Aeroporto de Vitória",city:"Vitória",state:"ES",domesticTax:42.64,internationalTax:81.19,currency:"BRL"},GYN:{name:"Aeroporto Santa Genoveva",city:"Goiânia",state:"GO",domesticTax:41.25,internationalTax:78.43,currency:"BRL"},CGB:{name:"Aeroporto Internacional Marechal Rondon",city:"Cuiabá",state:"MT",domesticTax:40.78,internationalTax:77.62,currency:"BRL"},NAT:{name:"Aeroporto Internacional de Natal",city:"Natal",state:"RN",domesticTax:42.19,internationalTax:80.28,currency:"BRL"},MIA:{name:"Miami International Airport",city:"Miami",state:"FL",domesticTax:0,internationalTax:125.5,currency:"USD"},JFK:{name:"John F. Kennedy International Airport",city:"New York",state:"NY",domesticTax:0,internationalTax:132.4,currency:"USD"},LIS:{name:"Aeroporto de Lisboa",city:"Lisboa",state:"Portugal",domesticTax:0,internationalTax:28.5,currency:"EUR"},MAD:{name:"Aeropuerto de Madrid-Barajas",city:"Madrid",state:"España",domesticTax:0,internationalTax:32.8,currency:"EUR"},CDG:{name:"Aéroport Paris-Charles de Gaulle",city:"Paris",state:"France",domesticTax:0,internationalTax:45.6,currency:"EUR"},LHR:{name:"London Heathrow Airport",city:"London",state:"UK",domesticTax:0,internationalTax:98.75,currency:"GBP"},EZE:{name:"Aeropuerto Internacional de Ezeiza",city:"Buenos Aires",state:"Argentina",domesticTax:0,internationalTax:55.3,currency:"USD"},SCL:{name:"Aeropuerto Internacional Arturo Merino Benítez",city:"Santiago",state:"Chile",domesticTax:0,internationalTax:41.2,currency:"USD"}};function zw(t,e=!1){const n=J3[t.toUpperCase()];if(!n)return{found:!1,airportCode:t,tax:0,currency:"BRL",message:"Taxa não cadastrada para este aeroporto"};const r=e?n.internationalTax:n.domesticTax;return{found:!0,airportCode:t,airportName:n.name,city:n.city,state:n.state,tax:r,currency:n.currency,isInternational:e}}function Z3(t,e,n=!1){const r=["GRU","CGH","VCP","GIG","SDU","BSB","CNF","PLU","SSA","REC","FOR","POA","CWB","MAO","BEL","FLN","VIX","GYN","CGB","NAT"],s=r.includes(t.toUpperCase()),i=r.includes(e.toUpperCase()),o=s!==i,a=zw(t,o),u=zw(e,o);let d=a.tax;return n&&(d+=u.tax),{origin:a,destination:u,isInternational:o,isRoundTrip:n,totalTax:d,currency:a.currency,breakdown:{outbound:a.tax,return:n?u.tax:0}}}const Ho=.3,e5={USD:5.2,EUR:5.65,GBP:6.5};function Ww(t){const e=t.match(/\(([A-Z]{3})\)/);return e?e[1]:t.toUpperCase().slice(0,3)}function Sp(t,e){return e==="BRL"?t:t*(e5[e]||1)}function t5(t,e){const n=t.preco_dinheiro||t.preco||0,r=Sp(e.totalTax,e.currency);return{basePrice:n,taxes:r,subtotal:n+r}}function gb(t,e={}){var x;const n=Ww(t.origem),r=Ww(t.destino),s=!!t.dataVolta||!!t.data_volta,i=Z3(n,r,s),o=t5(t,i),a=o.subtotal*Ho,u=o.subtotal+a,d=t.milhas_necessarias||t.milhas||0,h=d*Ho,f=d+h;return{quoteType:"INTERNAL",quoteNumber:`ORC-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`,generatedAt:new Date().toISOString(),validUntil:new Date(Date.now()+7*24*60*60*1e3).toISOString(),flight:{airline:((x=t.companhia)==null?void 0:x.nome)||t.companhia||"N/A",flightNumber:t.voo_numero||t.numero_voo||"N/A",origin:{code:n,name:t.origem,airport:i.origin.airportName},destination:{code:r,name:t.destino,airport:i.destination.airportName},departure:{date:t.data||t.dataIda,time:t.horario_saida||"A definir"},return:s?{date:t.dataVolta||t.data_volta,time:t.horario_chegada_volta||"A definir"}:null,duration:t.duracao||"A definir",stops:t.paradas||0,class:t.classe||"Econômica"},passenger:{name:e.nome||e.name||"A definir",email:e.email||"A definir",phone:e.telefone||e.phone||"A definir",document:e.cpf||e.document||"A definir",quantity:t.passageiros||e.passageiros||1},pricing:{basePrice:o.basePrice,airportTaxes:{origin:{airport:i.origin.airportName,code:i.origin.airportCode,amount:Sp(i.origin.tax,i.origin.currency)},destination:s?{airport:i.destination.airportName,code:i.destination.airportCode,amount:Sp(i.destination.tax,i.destination.currency)}:null,total:i.totalTax,currency:"BRL"},subtotal:o.subtotal,profit:{percentage:Ho*100,amount:a},clientPrice:u,miles:d>0?{baseNeeded:d,profit:h,clientTotal:f,profitPercentage:Ho*100}:null,savings:d>0?{amount:u-f*.015,percentage:t.economia_calculada||0}:null},internalNotes:{profitMargin:`${Ho*100}%`,costBreakdown:`Base: R$ ${o.basePrice.toFixed(2)} + Taxas: R$ ${o.taxes.toFixed(2)}`,recommendation:o.subtotal<1e3?"Margem de lucro adequada":"Considerar desconto para fechar negócio"}}}function n5(t,e={}){var r;const n=gb(t,e);return{quoteType:"CLIENT",quoteNumber:n.quoteNumber,generatedAt:n.generatedAt,validUntil:n.validUntil,flight:n.flight,passenger:n.passenger,pricing:{flightPrice:n.pricing.clientPrice,taxes:{airportTaxes:n.pricing.airportTaxes.total,description:"Taxas de embarque e outros encargos aeroportuários"},total:n.pricing.clientPrice,milesOption:n.pricing.miles?{totalMiles:Math.ceil(n.pricing.miles.clientTotal),estimatedValue:`R$ ${(n.pricing.miles.clientTotal*.015).toFixed(2)}`,savings:n.pricing.savings}:null,paymentMethods:[{method:"Dinheiro/PIX",price:n.pricing.clientPrice,discount:"5% de desconto no PIX",finalPrice:n.pricing.clientPrice*.95},{method:"Cartão de Crédito",price:n.pricing.clientPrice,installments:"Até 12x sem juros",installmentValue:n.pricing.clientPrice/12},{method:"Milhas",miles:Math.ceil(((r=n.pricing.miles)==null?void 0:r.clientTotal)||0),taxesCash:n.pricing.airportTaxes.total,description:"Milhas + taxas em dinheiro"}]},terms:["Preços sujeitos a disponibilidade no momento da confirmação","Taxas de embarque podem sofrer alterações até a emissão do bilhete","Valores em milhas são aproximados e dependem do programa de fidelidade","Orçamento válido por 7 dias corridos","Consulte regras de bagagem e alterações com a companhia aérea"],agency:{name:"ClickPassagens",email:"contato@clickpassagens.com",phone:"(11) 99999-9999",whatsapp:"(11) 99999-9999"}}}function r5(t){try{const e=JSON.parse(localStorage.getItem("quotesHistory")||"[]");e.unshift({...t,savedAt:new Date().toISOString()});const n=e.slice(0,50);return localStorage.setItem("quotesHistory",JSON.stringify(n)),!0}catch(e){return console.error("Erro ao salvar orçamento:",e),!1}}const s5=({selectedFlight:t,onSubmit:e,onBack:n})=>{var b;const[r,s]=m.useState(1),[i,o]=m.useState(null),[a,u]=m.useState(null),[d,h]=m.useState("client"),{currentUser:f,userData:g,incrementQuotes:x}=wl(),[S,E]=m.useState({tipo:"ida-volta",origem:"",destino:"",dataIda:"",dataVolta:"",passageiros:1,classe:"economica",nome:"",email:"",telefone:"",observacoes:"",arquivo:null}),I=[{id:1,label:"Viagem",icon:"✈️"},{id:2,label:"Dados",icon:"👤"},{id:3,label:"Detalhes",icon:"📋"},{id:4,label:"Confirmação",icon:"✅"}];m.useEffect(()=>{f&&g&&E(_=>({..._,nome:g.displayName||f.displayName||_.nome,email:f.email||_.email}))},[f,g]),m.useEffect(()=>{t&&(E(_=>({..._,origem:t.origem||"",destino:t.destino||"",dataIda:t.data||t.dataIda||"",dataVolta:t.dataVolta||t.data_volta||"",passageiros:t.passageiros||1,classe:t.classe||"economica",tipo:t.dataVolta||t.data_volta?"ida-volta":"so-ida"})),s(2))},[t]);const w=(_,A)=>{E(R=>({...R,[_]:A}))},y=()=>{r<4&&s(r+1)},T=()=>{r>1&&s(r-1)},N=_=>{if(_.preventDefault(),t){const A={nome:S.nome,email:S.email,telefone:S.telefone,passageiros:S.passageiros},R=gb(t,A),k=n5(t,A);o(R),u(k),r5(k),f&&x()}s(4),e&&e(S)},O=_=>{const A=_==="internal"?i:a,R="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(A,null,2)),k=document.createElement("a");k.setAttribute("href",R),k.setAttribute("download",`orcamento-${_}-${A.quoteNumber}.json`),document.body.appendChild(k),k.click(),k.remove()},L=()=>{window.print()};return l.jsx("div",{className:"quote-page",children:l.jsxs("div",{className:"quote-container",children:[l.jsxs("div",{className:"quote-header",children:[l.jsxs("h1",{className:"quote-title",children:["Solicite um ",l.jsx("span",{className:"gradient-text",children:"Orçamento Personalizado"})]}),l.jsx("p",{className:"quote-subtitle",children:"Preencha os dados e receba as melhores ofertas em até 24 horas"})]}),l.jsxs("div",{className:"steps-container",children:[l.jsx("div",{className:"steps-progress",children:l.jsx("div",{className:"steps-fill",style:{width:`${(r-1)/3*100}%`}})}),l.jsx("div",{className:"steps",children:I.map(_=>l.jsxs("div",{className:`step ${r===_.id?"active":""} ${r>_.id?"completed":""}`,children:[l.jsx("div",{className:"step-number",children:_.icon}),l.jsx("div",{className:"step-label",children:_.label})]},_.id))})]}),l.jsxs("form",{onSubmit:N,className:"quote-form",children:[r===1&&l.jsxs("div",{className:"form-step",children:[l.jsxs("h2",{className:"step-title",children:[l.jsx(Hr,{size:24})," Informações da Viagem"]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tipo de Viagem"}),l.jsxs("select",{value:S.tipo,onChange:_=>w("tipo",_.target.value),children:[l.jsx("option",{value:"ida-volta",children:"Ida e Volta"}),l.jsx("option",{value:"somente-ida",children:"Somente Ida"}),l.jsx("option",{value:"multiplos-destinos",children:"Múltiplos Destinos"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Classe"}),l.jsxs("select",{value:S.classe,onChange:_=>w("classe",_.target.value),children:[l.jsx("option",{value:"economica",children:"Econômica"}),l.jsx("option",{value:"executiva",children:"Executiva"}),l.jsx("option",{value:"primeira",children:"Primeira Classe"})]})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(Va,{size:16})," Origem"]}),l.jsx("input",{type:"text",value:S.origem,onChange:_=>w("origem",_.target.value),placeholder:"Ex: São Paulo (GRU)",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(Va,{size:16})," Destino"]}),l.jsx("input",{type:"text",value:S.destino,onChange:_=>w("destino",_.target.value),placeholder:"Ex: Rio de Janeiro (GIG)",required:!0})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(au,{size:16})," Data de Ida"]}),l.jsx("input",{type:"date",value:S.dataIda,onChange:_=>w("dataIda",_.target.value),required:!0})]}),S.tipo==="ida-volta"&&l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(au,{size:16})," Data de Volta"]}),l.jsx("input",{type:"date",value:S.dataVolta,onChange:_=>w("dataVolta",_.target.value),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(W1,{size:16})," Passageiros"]}),l.jsx("input",{type:"number",min:"1",max:"9",value:S.passageiros,onChange:_=>w("passageiros",parseInt(_.target.value))})]})]})]}),r===2&&l.jsxs("div",{className:"form-step",children:[l.jsx("h2",{className:"step-title",children:"👤 Seus Dados de Contato"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{type:"text",value:S.nome,onChange:_=>w("nome",_.target.value),placeholder:"Seu nome completo",required:!0})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"E-mail"}),l.jsx("input",{type:"email",value:S.email,onChange:_=>w("email",_.target.value),placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Telefone/WhatsApp"}),l.jsx("input",{type:"tel",value:S.telefone,onChange:_=>w("telefone",_.target.value),placeholder:"(11) 99999-9999",required:!0})]})]})]}),r===3&&l.jsxs("div",{className:"form-step",children:[l.jsxs("h2",{className:"step-title",children:[l.jsx(La,{size:24})," Informações Adicionais"]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Observações (opcional)"}),l.jsx("textarea",{value:S.observacoes,onChange:_=>w("observacoes",_.target.value),placeholder:"Preferências de horário, bagagem extra, necessidades especiais...",rows:5})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{children:[l.jsx(Vy,{size:16})," Anexar Arquivo (opcional)"]}),l.jsxs("div",{className:"file-upload",children:[l.jsx("input",{type:"file",id:"file-upload",onChange:_=>w("arquivo",_.target.files[0]),accept:".pdf,.doc,.docx,.jpg,.png"}),l.jsxs("label",{htmlFor:"file-upload",className:"file-upload-label",children:[l.jsx(Vy,{size:24}),l.jsx("span",{children:"Clique para anexar ou arraste aqui"}),l.jsx("span",{className:"file-hint",children:"PDF, DOC, JPG até 5MB"})]}),S.arquivo&&l.jsxs("div",{className:"file-selected",children:["✓ ",S.arquivo.name]})]})]})]}),r===4&&l.jsx("div",{className:"form-step",children:l.jsxs("div",{className:"confirmation-success",children:[l.jsx("div",{className:"success-icon",children:"✅"}),l.jsx("h2",{children:"Orçamentos Gerados com Sucesso!"}),l.jsx("p",{children:"Confira abaixo os orçamentos detalhados para sua viagem."}),i&&a&&l.jsxs("div",{className:"quote-toggle",style:{marginTop:"2rem",marginBottom:"2rem"},children:[l.jsx("button",{className:`quote-toggle-btn ${d==="client"?"active":""}`,onClick:()=>h("client"),style:{padding:"12px 32px",background:d==="client"?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"transparent",border:"2px solid #fbbf24",borderRadius:"8px 0 0 8px",color:d==="client"?"#1e293b":"#fbbf24",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"📄 Orçamento Cliente"}),l.jsx("button",{className:`quote-toggle-btn ${d==="internal"?"active":""}`,onClick:()=>h("internal"),style:{padding:"12px 32px",background:d==="internal"?"linear-gradient(135deg, #10b981 0%, #34d399 100%)":"transparent",border:"2px solid #10b981",borderRadius:"0 8px 8px 0",color:d==="internal"?"white":"#10b981",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"💼 Orçamento Interno"})]}),d==="client"&&a&&l.jsxs("div",{className:"quote-details",style:{background:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:[l.jsxs("div",{style:{borderBottom:"2px solid #fbbf24",paddingBottom:"1rem",marginBottom:"2rem"},children:[l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#1e293b"},children:"📄 ORÇAMENTO PARA CLIENTE"}),l.jsxs("p",{style:{color:"#64748b",marginTop:"0.5rem"},children:["Número: ",l.jsx("strong",{children:a.quoteNumber})," | Válido até: ",l.jsx("strong",{children:new Date(a.validUntil).toLocaleDateString("pt-BR")})]})]}),l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h4",{style:{color:"#1e3a8a",marginBottom:"1rem",fontSize:"1.2rem"},children:"✈️ Dados da Viagem"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Companhia:"})," ",a.flight.airline]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Voo:"})," ",a.flight.flightNumber]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Origem:"})," ",a.flight.origin.name," (",a.flight.origin.code,")"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Destino:"})," ",a.flight.destination.name," (",a.flight.destination.code,")"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Data Ida:"})," ",a.flight.departure.date]}),a.flight.return&&l.jsxs("div",{children:[l.jsx("strong",{children:"Data Volta:"})," ",a.flight.return.date]})]})]}),l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h4",{style:{color:"#1e3a8a",marginBottom:"1rem",fontSize:"1.2rem"},children:"💰 Valores"}),l.jsxs("div",{style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[l.jsx("span",{children:"Passagem:"}),l.jsxs("strong",{style:{color:"#1e3a8a"},children:["R$ ",a.pricing.flightPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[l.jsx("span",{children:"Taxas de Embarque:"}),l.jsxs("strong",{children:["R$ ",a.pricing.taxes.airportTaxes.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{borderTop:"2px solid #fbbf24",marginTop:"1rem",paddingTop:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("strong",{style:{fontSize:"1.3rem"},children:"TOTAL:"}),l.jsxs("strong",{style:{fontSize:"1.3rem",color:"#fbbf24"},children:["R$ ",a.pricing.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),a.pricing.milesOption&&l.jsxs("div",{style:{marginTop:"1.5rem",background:"#eff6ff",padding:"1.5rem",borderRadius:"12px",border:"2px solid #3b82f6"},children:[l.jsx("h5",{style:{color:"#1e3a8a",marginBottom:"0.75rem"},children:"⭐ Opção em Milhas"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{children:"Milhas Necessárias:"}),l.jsx("strong",{children:a.pricing.milesOption.totalMiles.toLocaleString("pt-BR")})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Economia:"}),l.jsxs("strong",{style:{color:"#10b981"},children:[(b=a.pricing.milesOption.savings)==null?void 0:b.percentage,"%"]})]})]})]}),l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h4",{style:{color:"#1e3a8a",marginBottom:"1rem",fontSize:"1.2rem"},children:"💳 Formas de Pagamento"}),a.pricing.paymentMethods.map((_,A)=>l.jsxs("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px",marginBottom:"0.75rem",border:"1px solid #e2e8f0"},children:[l.jsx("strong",{children:_.method}),_.finalPrice&&l.jsxs("div",{style:{color:"#10b981",marginTop:"0.25rem"},children:["R$ ",_.finalPrice.toLocaleString("pt-BR",{minimumFractionDigits:2}),l.jsxs("span",{style:{fontSize:"0.9rem",marginLeft:"0.5rem"},children:["(",_.discount,")"]})]}),_.installments&&l.jsxs("div",{style:{color:"#64748b",marginTop:"0.25rem",fontSize:"0.9rem"},children:[_.installments," de R$ ",_.installmentValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),_.miles&&l.jsxs("div",{style:{color:"#3b82f6",marginTop:"0.25rem"},children:[_.miles.toLocaleString("pt-BR")," milhas + R$ ",_.taxesCash.toLocaleString("pt-BR",{minimumFractionDigits:2})," (taxas)"]})]},A))]}),l.jsxs("div",{style:{background:"#fef3c7",padding:"1rem",borderRadius:"8px",border:"1px solid #fbbf24"},children:[l.jsx("strong",{style:{color:"#92400e"},children:"📞 Contato:"}),l.jsxs("div",{style:{color:"#78350f",marginTop:"0.5rem"},children:[a.agency.name," | ",a.agency.phone," | ",a.agency.email]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"1rem",justifyContent:"center"},children:[l.jsxs("button",{onClick:()=>O("client"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Df,{size:20})," Baixar Orçamento"]}),l.jsxs("button",{onClick:L,style:{padding:"12px 24px",background:"linear-gradient(135deg, #64748b 0%, #475569 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(fR,{size:20})," Imprimir"]})]})]}),d==="internal"&&i&&l.jsxs("div",{className:"quote-details",style:{background:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"2rem",border:"3px solid #10b981"},children:[l.jsxs("div",{style:{borderBottom:"2px solid #10b981",paddingBottom:"1rem",marginBottom:"2rem"},children:[l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#1e293b"},children:"💼 ORÇAMENTO INTERNO (CONFIDENCIAL)"}),l.jsxs("p",{style:{color:"#64748b",marginTop:"0.5rem"},children:["Número: ",l.jsx("strong",{children:i.quoteNumber})]})]}),l.jsxs("div",{style:{marginBottom:"2rem",background:"#dcfce7",padding:"1.5rem",borderRadius:"12px",border:"2px solid #10b981"},children:[l.jsx("h4",{style:{color:"#065f46",marginBottom:"1rem",fontSize:"1.3rem"},children:"💰 Análise Financeira"}),l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"8px"},children:[l.jsx("span",{children:"Custo Base da Passagem:"}),l.jsxs("strong",{style:{color:"#1e3a8a"},children:["R$ ",i.pricing.basePrice.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"8px"},children:[l.jsx("span",{children:"Taxas de Embarque:"}),l.jsxs("strong",{children:["R$ ",i.pricing.airportTaxes.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"8px",border:"2px solid #3b82f6"},children:[l.jsx("span",{children:l.jsx("strong",{children:"SUBTOTAL (Custo Real):"})}),l.jsxs("strong",{style:{color:"#3b82f6",fontSize:"1.1rem"},children:["R$ ",i.pricing.subtotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"#fef3c7",borderRadius:"8px",border:"2px solid #fbbf24"},children:[l.jsx("span",{children:l.jsxs("strong",{children:["LUCRO (",i.pricing.profit.percentage,"%):"]})}),l.jsxs("strong",{style:{color:"#f59e0b",fontSize:"1.2rem"},children:["+ R$ ",i.pricing.profit.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem",background:"#10b981",borderRadius:"8px",color:"white"},children:[l.jsx("span",{children:l.jsx("strong",{style:{fontSize:"1.2rem"},children:"PREÇO AO CLIENTE:"})}),l.jsxs("strong",{style:{fontSize:"1.4rem"},children:["R$ ",i.pricing.clientPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h4",{style:{color:"#1e3a8a",marginBottom:"1rem"},children:"📋 Detalhamento de Taxas"}),l.jsxs("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px"},children:[l.jsxs("div",{style:{marginBottom:"0.75rem"},children:[l.jsx("strong",{children:"Origem:"})," ",i.pricing.airportTaxes.origin.airport," (",i.pricing.airportTaxes.origin.code,")",l.jsxs("div",{style:{color:"#64748b",marginTop:"0.25rem"},children:["Taxa: R$ ",i.pricing.airportTaxes.origin.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),i.pricing.airportTaxes.destination&&l.jsxs("div",{children:[l.jsx("strong",{children:"Destino:"})," ",i.pricing.airportTaxes.destination.airport," (",i.pricing.airportTaxes.destination.code,")",l.jsxs("div",{style:{color:"#64748b",marginTop:"0.25rem"},children:["Taxa: R$ ",i.pricing.airportTaxes.destination.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),i.pricing.miles&&l.jsxs("div",{style:{marginBottom:"2rem",background:"#eff6ff",padding:"1.5rem",borderRadius:"12px"},children:[l.jsx("h4",{style:{color:"#1e3a8a",marginBottom:"1rem"},children:"⭐ Análise em Milhas"}),l.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Milhas Base (Custo):"}),l.jsx("strong",{children:i.pricing.miles.baseNeeded.toLocaleString("pt-BR")})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:["Lucro em Milhas (",i.pricing.miles.profitPercentage,"%):"]}),l.jsxs("strong",{style:{color:"#f59e0b"},children:["+ ",Math.ceil(i.pricing.miles.profit).toLocaleString("pt-BR")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"2px solid #3b82f6"},children:[l.jsx("strong",{children:"Total ao Cliente:"}),l.jsxs("strong",{style:{color:"#3b82f6",fontSize:"1.1rem"},children:[Math.ceil(i.pricing.miles.clientTotal).toLocaleString("pt-BR")," milhas"]})]})]})]}),l.jsxs("div",{style:{background:"#fef3c7",padding:"1rem",borderRadius:"8px",border:"1px solid #fbbf24"},children:[l.jsx("strong",{style:{color:"#92400e"},children:"💡 Observações Internas:"}),l.jsx("div",{style:{color:"#78350f",marginTop:"0.5rem",fontSize:"0.9rem"},children:i.internalNotes.recommendation})]}),l.jsx("div",{style:{marginTop:"1.5rem",display:"flex",gap:"1rem",justifyContent:"center"},children:l.jsxs("button",{onClick:()=>O("internal"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Df,{size:20})," Baixar Orçamento Interno"]})})]}),!i&&!a&&l.jsxs("div",{className:"summary-card",children:[l.jsx("h3",{children:"Resumo da Solicitação"}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{children:"Rota:"}),l.jsxs("strong",{children:[S.origem," → ",S.destino]})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{children:"Data:"}),l.jsxs("strong",{children:[S.dataIda," ",S.dataVolta&&`- ${S.dataVolta}`]})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{children:"Passageiros:"}),l.jsx("strong",{children:S.passageiros})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{children:"Contato:"}),l.jsx("strong",{children:S.email})]})]})]})}),l.jsxs("div",{className:"form-navigation",children:[n&&r===1&&l.jsxs("button",{type:"button",onClick:n,className:"btn-nav btn-previous",style:{background:"linear-gradient(135deg, #64748b 0%, #475569 100%)",color:"white",padding:"12px 24px",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(nR,{size:20})," Voltar aos Resultados"]}),r>1&&r<4&&l.jsx("button",{type:"button",onClick:T,className:"btn-nav btn-previous",children:"Voltar"}),r<3&&l.jsxs("button",{type:"button",onClick:y,className:"btn-nav btn-next",children:["Próximo ",l.jsx(rR,{size:20})]}),r===3&&l.jsxs("button",{type:"submit",className:"btn-nav btn-submit",children:[l.jsx(kn,{size:20})," Gerar Orçamento"]}),r===4&&l.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"btn-nav btn-new",children:"Nova Solicitação"})]})]})]})})};const i5=()=>{const[t,e]=m.useState("mes"),n=[{icon:"💰",label:"Comissões Totais",value:"R$ 12.450,00",change:"+15.3%",positive:!0},{icon:"✈️",label:"Vendas Realizadas",value:"48",change:"+8",positive:!0},{icon:"👥",label:"Clientes Ativos",value:"127",change:"+12",positive:!0},{icon:"📈",label:"Taxa Média",value:"8.5%",change:"+0.5%",positive:!0}],r=[{id:1,cliente:"João Silva",rota:"GRU → MIA",data:"2024-10-01",valor:"R$ 4.200,00",comissao:"R$ 357,00",status:"pago"},{id:2,cliente:"Maria Santos",rota:"GIG → LIS",data:"2024-09-28",valor:"R$ 3.800,00",comissao:"R$ 323,00",status:"pago"},{id:3,cliente:"Pedro Costa",rota:"BSB → NYC",data:"2024-09-25",valor:"R$ 5.500,00",comissao:"R$ 467,50",status:"pendente"},{id:4,cliente:"Ana Oliveira",rota:"GRU → LON",data:"2024-09-22",valor:"R$ 4.900,00",comissao:"R$ 416,50",status:"pago"}];return l.jsx("div",{className:"commissions-page",children:l.jsxs("div",{className:"commissions-container",children:[l.jsxs("div",{className:"commissions-header",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"commissions-title",children:["Sistema de ",l.jsx("span",{className:"gradient-text",children:"Comissões"})]}),l.jsx("p",{className:"commissions-subtitle",children:"Acompanhe seus ganhos e vendas em tempo real"})]}),l.jsxs("button",{className:"btn-download",children:[l.jsx(Df,{size:20}),"Exportar Relatório"]})]}),l.jsxs("div",{className:"period-filter",children:[l.jsx("button",{className:`period-btn ${t==="mes"?"active":""}`,onClick:()=>e("mes"),children:"Este Mês"}),l.jsx("button",{className:`period-btn ${t==="trimestre"?"active":""}`,onClick:()=>e("trimestre"),children:"Trimestre"}),l.jsx("button",{className:`period-btn ${t==="ano"?"active":""}`,onClick:()=>e("ano"),children:"Ano"})]}),l.jsx("div",{className:"stats-grid-comm",children:n.map((s,i)=>l.jsxs("div",{className:"stat-card-comm",children:[l.jsx("div",{className:"stat-icon-comm",children:s.icon}),l.jsx("div",{className:"stat-label-comm",children:s.label}),l.jsx("div",{className:"stat-value-comm",children:s.value}),l.jsxs("div",{className:`stat-change-comm ${s.positive?"positive":"negative"}`,children:[s.positive?"↗":"↘"," ",s.change]})]},i))}),l.jsxs("div",{className:"sales-section",children:[l.jsxs("h2",{className:"section-title-comm",children:[l.jsx(La,{size:24})," Vendas Recentes"]}),l.jsx("div",{className:"table-wrapper-comm",children:l.jsxs("table",{className:"sales-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Cliente"}),l.jsx("th",{children:"Rota"}),l.jsx("th",{children:"Data"}),l.jsx("th",{children:"Valor Venda"}),l.jsx("th",{children:"Comissão"}),l.jsx("th",{children:"Status"})]})}),l.jsx("tbody",{children:r.map(s=>l.jsxs("tr",{children:[l.jsx("td",{className:"client-name",children:s.cliente}),l.jsx("td",{className:"route",children:s.rota}),l.jsx("td",{children:new Date(s.data).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"value",children:s.valor}),l.jsx("td",{className:"commission",children:s.comissao}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${s.status}`,children:s.status==="pago"?"✓ Pago":"⏱ Pendente"})})]},s.id))})]})})]}),l.jsxs("div",{className:"settings-section",children:[l.jsx("h2",{className:"section-title-comm",children:"⚙️ Configurações de Comissão"}),l.jsxs("div",{className:"settings-grid",children:[l.jsxs("div",{className:"setting-card",children:[l.jsx("h3",{children:"Taxa Padrão"}),l.jsx("div",{className:"setting-value",children:"8.5%"}),l.jsx("button",{className:"btn-edit",children:"Editar"})]}),l.jsxs("div",{className:"setting-card",children:[l.jsx("h3",{children:"Pagamento"}),l.jsx("div",{className:"setting-value",children:"Semanal"}),l.jsx("button",{className:"btn-edit",children:"Editar"})]}),l.jsxs("div",{className:"setting-card",children:[l.jsx("h3",{children:"Método"}),l.jsx("div",{className:"setting-value",children:"PIX"}),l.jsx("button",{className:"btn-edit",children:"Editar"})]})]})]})]})})};const o5=({onNavigate:t})=>{var I;const[e,n]=m.useState("home"),{currentUser:r,userData:s,logout:i}=wl(),o=w=>{if(n(w),t){const y={home:"busca",buscas:"resultados",orcamentos:"orcamento",comissoes:"comissoes",configuracoes:"dashboard"};y[w]&&t(y[w])}},a=async()=>{(await i()).success&&t&&t("busca")},u=[{id:"home",icon:l.jsx(uR,{size:20}),label:"Início"},{id:"buscas",icon:l.jsx(ha,{size:20}),label:"Minhas Buscas"},{id:"orcamentos",icon:l.jsx(La,{size:20}),label:"Orçamentos"},{id:"comissoes",icon:l.jsx($1,{size:20}),label:"Comissões"},{id:"configuracoes",icon:l.jsx(B1,{size:20}),label:"Configurações"}],d=[{icon:"🔍",label:"Buscas Realizadas",value:(s==null?void 0:s.searches)||0,color:"#3b82f6"},{icon:"�",label:"Orçamentos Gerados",value:(s==null?void 0:s.quotes)||0,color:"#10b981"},{icon:"⭐",label:"Plano Atual",value:(s==null?void 0:s.plan)==="free"?"Gratuito":(s==null?void 0:s.plan)==="basic"?"Básico":(s==null?void 0:s.plan)==="premium"?"Premium":"Enterprise",color:"#f59e0b"},{icon:"📅",label:"Membro Desde",value:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString("pt-BR",{month:"short",year:"numeric"}):"Recente",color:"#8b5cf6"}],h=[{id:1,origem:"GRU",destino:"MIA",data:"15/12/2024",status:"Finalizada"},{id:2,origem:"GIG",destino:"LIS",data:"20/11/2024",status:"Pendente"},{id:3,origem:"BSB",destino:"NYC",data:"10/01/2025",status:"Aguardando"}],f=[{destino:"Miami",data:"15/12/2024",voo:"G3 1234",status:"Confirmado"},{destino:"Lisboa",data:"20/01/2025",voo:"TP 8091",status:"Confirmado"}],g=(s==null?void 0:s.displayName)||(r==null?void 0:r.displayName)||((I=r==null?void 0:r.email)==null?void 0:I.split("@")[0])||"Usuário",x=g.split(" ").map(w=>w[0]).join("").toUpperCase().substring(0,2),E={free:"Plano Gratuito",basic:"Plano Básico",premium:"Plano Premium",enterprise:"Plano Enterprise"}[s==null?void 0:s.plan]||"Plano Gratuito";return l.jsxs("div",{className:"dashboard-page",children:[l.jsxs("aside",{className:"sidebar-dash",children:[l.jsx("div",{className:"logo-sidebar-dash",children:"✈️ ClickPassagens"}),l.jsxs("div",{className:"user-profile-dash",children:[l.jsx("div",{className:"user-avatar-large-dash",children:r!=null&&r.photoURL?l.jsx("img",{src:r.photoURL,alt:g,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):x}),l.jsxs("div",{className:"user-details-dash",children:[l.jsx("div",{className:"user-name-dash",children:g}),l.jsx("div",{className:"user-plan-dash",children:E})]})]}),l.jsxs("nav",{className:"nav-menu-dash",children:[u.map(w=>l.jsxs("button",{className:`nav-link-dash ${e===w.id?"active":""}`,onClick:()=>o(w.id),children:[w.icon,l.jsx("span",{children:w.label})]},w.id)),l.jsxs("button",{className:"nav-link-dash logout",onClick:a,children:[l.jsx(F1,{size:20}),l.jsx("span",{children:"Sair"})]})]})]}),l.jsxs("main",{className:"main-content-dash",children:[l.jsxs("div",{className:"top-bar-dash",children:[l.jsxs("div",{className:"welcome-message-dash",children:[l.jsxs("h1",{children:["Bem-vindo de volta, ",l.jsx("span",{className:"gradient-text",children:g.split(" ")[0]}),"!"]}),l.jsx("p",{children:"Aqui está o resumo da sua conta"})]}),l.jsxs("div",{className:"top-actions-dash",children:[l.jsxs("button",{className:"btn-notification-dash",children:[l.jsx(M1,{size:20}),l.jsx("span",{className:"notification-badge",children:"3"})]}),l.jsxs("button",{className:"btn-new-search-dash",onClick:()=>t&&t("busca"),children:[l.jsx(ha,{size:20}),"Nova Busca"]})]})]}),l.jsx("div",{className:"quick-stats-dash",children:d.map((w,y)=>l.jsxs("div",{className:"quick-stat-card",style:{borderLeftColor:w.color},children:[l.jsx("div",{className:"stat-icon-dash",children:w.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"stat-label-dash",children:w.label}),l.jsx("div",{className:"stat-value-dash",style:{color:w.color},children:w.value})]})]},y))}),l.jsxs("div",{className:"dashboard-grid",children:[l.jsxs("div",{className:"dashboard-card",children:[l.jsxs("h2",{className:"card-title-dash",children:[l.jsx(ha,{size:20})," Buscas Recentes"]}),l.jsx("div",{className:"searches-list",children:h.map(w=>l.jsxs("div",{className:"search-item-dash",children:[l.jsxs("div",{className:"search-route-dash",children:[l.jsx("strong",{children:w.origem})," → ",l.jsx("strong",{children:w.destino})]}),l.jsx("div",{className:"search-date-dash",children:w.data}),l.jsx("span",{className:`search-status-dash ${w.status.toLowerCase()}`,children:w.status})]},w.id))}),l.jsx("button",{className:"btn-view-all-dash",onClick:()=>t&&t("resultados"),children:"Ver Todas"})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsxs("h2",{className:"card-title-dash",children:[l.jsx(au,{size:20})," Próximas Viagens"]}),l.jsx("div",{className:"trips-list",children:f.map((w,y)=>l.jsxs("div",{className:"trip-item-dash",children:[l.jsx("div",{className:"trip-icon-dash",children:"✈️"}),l.jsxs("div",{className:"trip-details-dash",children:[l.jsx("div",{className:"trip-destination-dash",children:w.destino}),l.jsx("div",{className:"trip-date-dash",children:w.data}),l.jsxs("div",{className:"trip-flight-dash",children:["Voo ",w.voo]})]}),l.jsx("span",{className:"trip-status-confirmed",children:w.status})]},y))}),l.jsx("button",{className:"btn-view-all-dash",children:"Ver Todas"})]}),l.jsxs("div",{className:"dashboard-card full-width",children:[l.jsxs("h2",{className:"card-title-dash",children:[l.jsx(z1,{size:20})," Atividade dos Últimos Meses"]}),l.jsx("div",{className:"activity-chart",children:["Jan","Fev","Mar","Abr","Mai","Jun"].map((w,y)=>l.jsxs("div",{className:"chart-bar-container",children:[l.jsx("div",{className:"chart-bar",style:{height:`${Math.random()*100+50}px`}}),l.jsx("div",{className:"chart-label",children:w})]},y))})]})]})]})]})};const a5=({flightData:t,onComplete:e})=>{const[n,r]=m.useState(2),[s,i]=m.useState("credit-card"),[o,a]=m.useState({nome:"",cpf:"",email:"",telefone:"",endereco:"",cidade:"",estado:"",cep:"",cardNumber:"",cardName:"",cardExpiry:"",cardCVV:""}),u=t||{origem:"GRU",destino:"MIA",companhia:"GOL",data:"15/12/2024",horario:"08:00",preco:2450},d=(f,g)=>{a(x=>({...x,[f]:g}))},h=f=>{f.preventDefault(),r(3),e&&setTimeout(()=>e(o),2e3)};return l.jsx("div",{className:"checkout-page",children:l.jsxs("div",{className:"checkout-container",children:[l.jsxs("div",{className:"checkout-header",children:[l.jsx("div",{className:"checkout-logo",children:"✈️ ClickPassagens"}),l.jsxs("div",{className:"checkout-progress",children:[l.jsx("div",{className:"progress-fill-checkout",style:{width:`${n/3*100}%`}}),l.jsxs("div",{className:"checkout-steps",children:[l.jsxs("div",{className:`checkout-step ${n>=1?"completed":""} ${n===1?"active":""}`,children:[l.jsx("div",{className:"checkout-step-circle",children:"1"}),l.jsx("div",{className:"checkout-step-label",children:"Dados"})]}),l.jsxs("div",{className:`checkout-step ${n>=2?"completed":""} ${n===2?"active":""}`,children:[l.jsx("div",{className:"checkout-step-circle",children:"2"}),l.jsx("div",{className:"checkout-step-label",children:"Pagamento"})]}),l.jsxs("div",{className:`checkout-step ${n>=3?"completed":""} ${n===3?"active":""}`,children:[l.jsx("div",{className:"checkout-step-circle",children:"3"}),l.jsx("div",{className:"checkout-step-label",children:"Confirmação"})]})]})]})]}),l.jsxs("div",{className:"checkout-grid",children:[l.jsx("div",{className:"checkout-form-section",children:l.jsxs("form",{onSubmit:h,children:[n===1&&l.jsxs("div",{className:"checkout-step-content",children:[l.jsxs("h2",{className:"checkout-section-title",children:[l.jsx(ol,{size:24})," Dados do Passageiro"]}),l.jsxs("div",{className:"form-row-checkout",children:[l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Nome Completo *"}),l.jsx("input",{type:"text",value:o.nome,onChange:f=>d("nome",f.target.value),placeholder:"Nome como no documento",required:!0})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"CPF *"}),l.jsx("input",{type:"text",value:o.cpf,onChange:f=>d("cpf",f.target.value),placeholder:"000.000.000-00",required:!0})]})]}),l.jsxs("div",{className:"form-row-checkout",children:[l.jsxs("div",{className:"form-group-checkout",children:[l.jsxs("label",{children:[l.jsx(Em,{size:16})," E-mail *"]}),l.jsx("input",{type:"email",value:o.email,onChange:f=>d("email",f.target.value),placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsxs("label",{children:[l.jsx(U1,{size:16})," Telefone *"]}),l.jsx("input",{type:"tel",value:o.telefone,onChange:f=>d("telefone",f.target.value),placeholder:"(11) 99999-9999",required:!0})]})]}),l.jsxs("h3",{className:"subsection-title",children:[l.jsx(Va,{size:20})," Endereço"]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Endereço Completo *"}),l.jsx("input",{type:"text",value:o.endereco,onChange:f=>d("endereco",f.target.value),placeholder:"Rua, número, complemento",required:!0})]}),l.jsxs("div",{className:"form-row-checkout",children:[l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Cidade *"}),l.jsx("input",{type:"text",value:o.cidade,onChange:f=>d("cidade",f.target.value),required:!0})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Estado *"}),l.jsxs("select",{value:o.estado,onChange:f=>d("estado",f.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Selecione"}),l.jsx("option",{value:"SP",children:"São Paulo"}),l.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),l.jsx("option",{value:"MG",children:"Minas Gerais"})]})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"CEP *"}),l.jsx("input",{type:"text",value:o.cep,onChange:f=>d("cep",f.target.value),placeholder:"00000-000",required:!0})]})]})]}),n===2&&l.jsxs("div",{className:"checkout-step-content",children:[l.jsxs("h2",{className:"checkout-section-title",children:[l.jsx(V1,{size:24})," Forma de Pagamento"]}),l.jsxs("div",{className:"payment-methods",children:[l.jsx("button",{type:"button",className:`payment-method-btn ${s==="credit-card"?"active":""}`,onClick:()=>i("credit-card"),children:"💳 Cartão de Crédito"}),l.jsx("button",{type:"button",className:`payment-method-btn ${s==="pix"?"active":""}`,onClick:()=>i("pix"),children:"📱 PIX"}),l.jsx("button",{type:"button",className:`payment-method-btn ${s==="boleto"?"active":""}`,onClick:()=>i("boleto"),children:"🏦 Boleto"})]}),s==="credit-card"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Número do Cartão *"}),l.jsx("input",{type:"text",value:o.cardNumber,onChange:f=>d("cardNumber",f.target.value),placeholder:"0000 0000 0000 0000",maxLength:"19",required:!0})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Nome no Cartão *"}),l.jsx("input",{type:"text",value:o.cardName,onChange:f=>d("cardName",f.target.value),placeholder:"Nome como no cartão",required:!0})]}),l.jsxs("div",{className:"form-row-checkout",children:[l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"Validade *"}),l.jsx("input",{type:"text",value:o.cardExpiry,onChange:f=>d("cardExpiry",f.target.value),placeholder:"MM/AA",maxLength:"5",required:!0})]}),l.jsxs("div",{className:"form-group-checkout",children:[l.jsx("label",{children:"CVV *"}),l.jsx("input",{type:"text",value:o.cardCVV,onChange:f=>d("cardCVV",f.target.value),placeholder:"123",maxLength:"4",required:!0})]})]}),l.jsxs("div",{className:"installments-section",children:[l.jsx("label",{children:"Parcelas"}),l.jsxs("select",{className:"installments-select",children:[l.jsxs("option",{children:["1x de R$ ",u.preco.toFixed(2)," sem juros"]}),l.jsxs("option",{children:["2x de R$ ",(u.preco/2).toFixed(2)," sem juros"]}),l.jsxs("option",{children:["3x de R$ ",(u.preco/3).toFixed(2)," sem juros"]}),l.jsxs("option",{children:["6x de R$ ",(u.preco/6).toFixed(2)," sem juros"]})]})]})]}),s==="pix"&&l.jsxs("div",{className:"pix-info",children:[l.jsx("div",{className:"pix-icon",children:"📱"}),l.jsx("h3",{children:"Pagamento via PIX"}),l.jsx("p",{children:"Após confirmar, você receberá um QR Code para realizar o pagamento."}),l.jsx("div",{className:"pix-benefit",children:"✓ Aprovação instantânea"}),l.jsx("div",{className:"pix-benefit",children:"✓ Desconto de 5%"})]}),s==="boleto"&&l.jsxs("div",{className:"boleto-info",children:[l.jsx("div",{className:"boleto-icon",children:"🏦"}),l.jsx("h3",{children:"Pagamento via Boleto"}),l.jsx("p",{children:"O boleto será enviado para seu e-mail após a confirmação."}),l.jsx("div",{className:"boleto-warning",children:"⚠️ Vencimento em 3 dias úteis"})]}),l.jsxs("div",{className:"security-badge-checkout",children:[l.jsx(Mf,{size:24}),l.jsxs("div",{children:[l.jsx("strong",{children:"Pagamento 100% Seguro"}),l.jsx("p",{children:"Seus dados estão protegidos com criptografia SSL"})]})]})]}),n===3&&l.jsx("div",{className:"checkout-step-content",children:l.jsxs("div",{className:"confirmation-checkout",children:[l.jsx("div",{className:"success-icon-checkout",children:"✅"}),l.jsx("h2",{children:"Pagamento Confirmado!"}),l.jsx("p",{children:"Sua passagem foi reservada com sucesso"}),l.jsxs("div",{className:"booking-code",children:[l.jsx("strong",{children:"Código de Reserva:"}),l.jsx("div",{className:"code",children:"ABC123XYZ"})]}),l.jsxs("div",{className:"confirmation-message",children:[l.jsx(kn,{size:20}),l.jsxs("span",{children:["E-mail de confirmação enviado para ",o.email]})]}),l.jsxs("div",{className:"next-steps",children:[l.jsx("h3",{children:"Próximos Passos:"}),l.jsxs("ul",{children:[l.jsx("li",{children:"✓ Verifique seu e-mail"}),l.jsx("li",{children:"✓ Faça check-in online 24h antes do voo"}),l.jsx("li",{children:"✓ Chegue com 2h de antecedência"})]})]})]})}),n<3&&l.jsxs("div",{className:"checkout-navigation",children:[n>1&&l.jsx("button",{type:"button",onClick:()=>r(n-1),className:"btn-checkout-nav btn-back",children:"Voltar"}),l.jsx("button",{type:n===2?"submit":"button",onClick:()=>n===1&&r(2),className:"btn-checkout-nav btn-continue",children:n===2?"Finalizar Compra":"Continuar"})]})]})}),l.jsxs("div",{className:"checkout-summary",children:[l.jsx("h3",{className:"summary-title",children:"Resumo da Compra"}),l.jsxs("div",{className:"flight-summary",children:[l.jsxs("div",{className:"flight-route-summary",children:[l.jsx("strong",{children:u.origem})," → ",l.jsx("strong",{children:u.destino})]}),l.jsxs("div",{className:"flight-airline",children:[u.companhia," Airlines"]}),l.jsxs("div",{className:"flight-datetime",children:[u.data," às ",u.horario]})]}),l.jsxs("div",{className:"price-breakdown",children:[l.jsxs("div",{className:"price-item",children:[l.jsx("span",{children:"Passagem"}),l.jsxs("span",{children:["R$ ",u.preco.toFixed(2)]})]}),l.jsxs("div",{className:"price-item",children:[l.jsx("span",{children:"Taxas"}),l.jsx("span",{children:"R$ 150.00"})]}),s==="pix"&&l.jsxs("div",{className:"price-item discount",children:[l.jsx("span",{children:"Desconto PIX (5%)"}),l.jsxs("span",{children:["- R$ ",(u.preco*.05).toFixed(2)]})]}),l.jsxs("div",{className:"price-total",children:[l.jsx("strong",{children:"Total"}),l.jsxs("strong",{children:["R$ ",s==="pix"?(u.preco*.95+150).toFixed(2):(u.preco+150).toFixed(2)]})]})]}),l.jsxs("div",{className:"trust-badges",children:[l.jsxs("div",{className:"trust-badge",children:[l.jsx(Mf,{size:20}),l.jsx("span",{children:"Compra Segura"})]}),l.jsxs("div",{className:"trust-badge",children:[l.jsx(kn,{size:20}),l.jsx("span",{children:"Garantia"})]})]})]})]})]})})};function l5({isOpen:t,onClose:e}){const[n,r]=m.useState("login"),[s,i]=m.useState({email:"",password:"",confirmPassword:"",displayName:""}),[o,a]=m.useState(""),[u,d]=m.useState(""),[h,f]=m.useState(!1),{login:g,signup:x,googleLogin:S,resetPassword:E,currentUser:I}=wl();if(m.useEffect(()=>{t&&sessionStorage.getItem("googleLoginSuccess")==="true"&&(console.log("✅ [AuthModal] Login com Google detectado no sessionStorage"),sessionStorage.removeItem("googleLoginSuccess"),d("Login realizado com sucesso!"),setTimeout(()=>{e()},1500))},[t,e]),m.useEffect(()=>{t&&I&&(console.log("✅ AuthModal: Usuário logado, fechando modal"),setTimeout(()=>{e()},500))},[t,I,e]),He.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[t]),!t)return null;const w=b=>{i(_=>({..._,[b.target.name]:b.target.value})),a(""),d("")},y=()=>{if(n==="reset")return s.email?/\S+@\S+\.\S+/.test(s.email)?!0:(a("Email inválido"),!1):(a("Digite seu email"),!1);if(!s.email||!s.password)return a("Preencha todos os campos"),!1;if(!/\S+@\S+\.\S+/.test(s.email))return a("Email inválido"),!1;if(s.password.length<6)return a("A senha deve ter pelo menos 6 caracteres"),!1;if(n==="signup"){if(!s.displayName)return a("Digite seu nome"),!1;if(s.password!==s.confirmPassword)return a("As senhas não coincidem"),!1}return!0},T=async b=>{if(b.preventDefault(),!!y()){f(!0),a(""),d("");try{let _;n==="login"?_=await g(s.email,s.password):n==="signup"?_=await x(s.email,s.password,s.displayName):n==="reset"&&(_=await E(s.email)),_.success?n==="reset"?(d("Email de recuperação enviado! Verifique sua caixa de entrada."),setTimeout(()=>{r("login"),d("")},3e3)):(d(n==="login"?"Login realizado!":"Conta criada com sucesso!"),setTimeout(()=>{e(),O()},1e3)):a(_.error)}catch{a("Erro ao processar solicitação")}finally{f(!1)}}},N=async()=>{console.log("🔵 [AuthModal.handleGoogleLogin] Iniciando..."),f(!0),a("");try{console.log("🔵 [AuthModal.handleGoogleLogin] Chamando googleLogin()...");const b=await S();if(console.log("🔵 [AuthModal.handleGoogleLogin] Resultado:",b),b.redirect){console.log("🔄 [AuthModal] Redirect iniciado - aguardando retorno..."),d("Redirecionando para Google...");return}b.success?(console.log("✅ [AuthModal.handleGoogleLogin] Sucesso!"),d("Login realizado com sucesso!"),setTimeout(()=>{e(),O()},1500)):(console.log("❌ [AuthModal.handleGoogleLogin] Falhou:",b.error),a(b.error||"Erro ao fazer login com Google"))}catch(b){console.error("❌ [AuthModal.handleGoogleLogin] Exceção:",b),a("Erro ao fazer login com Google")}finally{result!=null&&result.redirect||f(!1)}},O=()=>{i({email:"",password:"",confirmPassword:"",displayName:""}),a(""),d(""),r("login")},L=()=>{O(),e()};return l.jsx("div",{className:"auth-modal-overlay",onClick:L,children:l.jsxs("div",{className:"auth-modal",onClick:b=>b.stopPropagation(),children:[l.jsx("button",{className:"auth-modal-close",onClick:L,children:l.jsx(Ls,{size:24})}),l.jsxs("div",{className:"auth-modal-header",children:[l.jsxs("h2",{children:[n==="login"&&"🔐 Entrar na Conta",n==="signup"&&"✨ Criar Conta",n==="reset"&&"🔑 Recuperar Senha"]}),l.jsxs("p",{children:[n==="login"&&"Acesse sua conta ClickPassagens",n==="signup"&&"Crie sua conta e aproveite todas as funcionalidades",n==="reset"&&"Enviaremos um link de recuperação para seu email"]})]}),o&&l.jsxs("div",{className:"auth-alert auth-alert-error",children:[l.jsx(eR,{size:20}),l.jsx("span",{children:o})]}),u&&l.jsxs("div",{className:"auth-alert auth-alert-success",children:[l.jsx(oR,{size:20}),l.jsx("span",{children:u})]}),l.jsxs("form",{onSubmit:T,className:"auth-form",children:[n==="signup"&&l.jsxs("div",{className:"auth-input-group",children:[l.jsxs("label",{children:[l.jsx(ol,{size:18}),l.jsx("span",{children:"Nome Completo"})]}),l.jsx("input",{type:"text",name:"displayName",placeholder:"Digite seu nome",value:s.displayName,onChange:w,disabled:h})]}),l.jsxs("div",{className:"auth-input-group",children:[l.jsxs("label",{children:[l.jsx(Em,{size:18}),l.jsx("span",{children:"Email"})]}),l.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:s.email,onChange:w,disabled:h,autoComplete:"email"})]}),n!=="reset"&&l.jsxs("div",{className:"auth-input-group",children:[l.jsxs("label",{children:[l.jsx(Ly,{size:18}),l.jsx("span",{children:"Senha"})]}),l.jsx("input",{type:"password",name:"password",placeholder:"Mínimo 6 caracteres",value:s.password,onChange:w,disabled:h,autoComplete:n==="login"?"current-password":"new-password"})]}),n==="signup"&&l.jsxs("div",{className:"auth-input-group",children:[l.jsxs("label",{children:[l.jsx(Ly,{size:18}),l.jsx("span",{children:"Confirmar Senha"})]}),l.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Digite a senha novamente",value:s.confirmPassword,onChange:w,disabled:h,autoComplete:"new-password"})]}),l.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:h,children:h?l.jsx(l.Fragment,{children:"🔄 Processando..."}):l.jsxs(l.Fragment,{children:[n==="login"&&"🔓 Entrar",n==="signup"&&"✨ Criar Conta",n==="reset"&&"📧 Enviar Link"]})})]}),n!=="reset"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("button",{type:"button",onClick:N,className:"auth-google-btn",disabled:h,children:[l.jsx(lR,{size:20}),"Continuar com Google"]})]}),l.jsxs("div",{className:"auth-footer",children:[n==="login"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>r("reset"),className:"auth-link",children:"Esqueci minha senha"}),l.jsxs("p",{children:["Não tem uma conta?"," ",l.jsx("button",{type:"button",onClick:()=>r("signup"),className:"auth-link-primary",children:"Criar conta"})]})]}),n==="signup"&&l.jsxs("p",{children:["Já tem uma conta?"," ",l.jsx("button",{type:"button",onClick:()=>r("login"),className:"auth-link-primary",children:"Fazer login"})]}),n==="reset"&&l.jsxs("p",{children:["Lembrou sua senha?"," ",l.jsx("button",{type:"button",onClick:()=>r("login"),className:"auth-link-primary",children:"Fazer login"})]})]})]})})}function c5({onNavigate:t}){var I;const[e,n]=m.useState(!1),[r,s]=m.useState(!1),i=m.useRef(null),{currentUser:o,userData:a,logout:u}=wl();m.useEffect(()=>{function w(y){i.current&&!i.current.contains(y.target)&&n(!1)}if(e)return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[e]),m.useEffect(()=>{s(!1)},[o==null?void 0:o.photoURL]);const d=async()=>{(await u()).success&&(n(!1),t&&t("busca"))},h=w=>{n(!1),t&&t(w)};if(!o)return null;const f=(a==null?void 0:a.displayName)||o.displayName||((I=o.email)==null?void 0:I.split("@")[0]),g=(f==null?void 0:f.charAt(0).toUpperCase())||"?",x=(a==null?void 0:a.plan)||"free",S={free:"Gratuito",basic:"Básico",premium:"Premium",enterprise:"Enterprise"},E={free:"#6b7280",basic:"#3b82f6",premium:"#f59e0b",enterprise:"#8b5cf6"};return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"user-menu-overlay",onClick:()=>n(!1)}),l.jsxs("div",{className:"user-menu",ref:i,children:[l.jsxs("button",{className:"user-menu-trigger",onClick:w=>{w.preventDefault(),w.stopPropagation();const y=!e;console.log("🔘 CLIQUE NO AVATAR! Estado:",e,"→",y),n(y)},children:[l.jsx("div",{className:"user-avatar",children:o!=null&&o.photoURL&&!r?l.jsx("img",{src:o.photoURL,alt:f,onError:()=>s(!0),referrerPolicy:"no-referrer"}):l.jsx("span",{children:g})}),l.jsxs("div",{className:"user-info",children:[l.jsx("span",{className:"user-name",children:f}),l.jsx("span",{className:"user-plan",style:{color:E[x]},children:S[x]})]}),l.jsx(xm,{size:18,className:`user-menu-arrow ${e?"open":""}`})]}),e&&l.jsxs("div",{className:"user-menu-dropdown user-menu-mobile",children:[l.jsx("button",{onClick:()=>n(!1),className:"mobile-close-btn",style:{position:"absolute",top:"1rem",right:"1rem",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",color:"white",fontSize:"1.5rem",cursor:"pointer",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"}),l.jsxs("div",{className:"user-menu-header",children:[l.jsx("div",{className:"user-menu-avatar-large",children:o!=null&&o.photoURL&&!r?l.jsx("img",{src:o.photoURL,alt:f,onError:()=>s(!0),referrerPolicy:"no-referrer"}):l.jsx("span",{children:g})}),l.jsxs("div",{className:"user-menu-details",children:[l.jsx("h3",{children:f}),l.jsx("p",{children:o.email}),l.jsx("span",{className:"user-menu-badge",style:{background:E[x]},children:S[x]})]})]}),l.jsxs("div",{className:"user-menu-stats",children:[l.jsxs("div",{className:"user-stat",children:[l.jsx(La,{size:16}),l.jsxs("div",{children:[l.jsx("strong",{children:(a==null?void 0:a.quotes)||0}),l.jsx("span",{children:"Orçamentos"})]})]}),l.jsxs("div",{className:"user-stat",children:[l.jsx(My,{size:16}),l.jsxs("div",{children:[l.jsx("strong",{children:(a==null?void 0:a.searches)||0}),l.jsx("span",{children:"Buscas"})]})]})]}),l.jsx("div",{className:"user-menu-divider"}),l.jsxs("div",{className:"user-menu-actions",children:[l.jsxs("button",{className:"user-menu-item",onClick:()=>h("dashboard"),children:[l.jsx(ol,{size:18}),l.jsx("span",{children:"Meu Painel"})]}),l.jsxs("button",{className:"user-menu-item",onClick:()=>h("orcamento"),children:[l.jsx(La,{size:18}),l.jsx("span",{children:"Meus Orçamentos"})]}),l.jsxs("button",{className:"user-menu-item",onClick:()=>h("planos"),children:[l.jsx(My,{size:18}),l.jsx("span",{children:"Planos e Assinatura"})]}),l.jsxs("button",{className:"user-menu-item",onClick:()=>h("dashboard"),children:[l.jsx(B1,{size:18}),l.jsx("span",{children:"Configurações"})]})]}),l.jsx("div",{className:"user-menu-divider"}),l.jsxs("button",{className:"user-menu-item user-menu-logout",onClick:d,children:[l.jsx(F1,{size:18}),l.jsx("span",{children:"Sair da Conta"})]})]})]})]})}const Hw="G-XXXXXXXXXX",u5=()=>{m.useEffect(()=>{if(!window.gtag){const t=document.createElement("script");t.src=`https://www.googletagmanager.com/gtag/js?id=${Hw}`,t.async=!0,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",Hw,{send_page_view:!1})}},[])},ws=(t,e={})=>{window.gtag&&window.gtag("event",t,e)},d5={searchFlights:(t,e,n)=>{ws("search_flights",{origin:t,destination:e,date:n,timestamp:new Date().toISOString()})},viewFlightResult:(t,e,n)=>{ws("view_flight_result",{flight_id:t,price:e,airline:n})},selectPlan:(t,e)=>{ws("select_plan",{plan_name:t,plan_price:e})},requestQuote:t=>{ws("request_quote",{quote_type:t})},installPWA:()=>{ws("install_pwa",{platform:navigator.platform,user_agent:navigator.userAgent})},enableNotifications:()=>{ws("enable_notifications")},share:t=>{ws("share",{method:t})}};function h5(){const[t,e]=m.useState("busca"),[n,r]=m.useState([]),[s,i]=m.useState(!1),[o,a]=m.useState(null),[u,d]=m.useState(!1),{isAuthenticated:h,incrementSearches:f}=wl();u5(),m.useEffect(()=>{window.gtag&&window.gtag("event","tab_change",{tab_name:t})},[t]);const g=E=>{var I,w,y;console.log("🎯 handleBuscaCompleta chamado!"),console.log("📊 Resultados recebidos:",E),console.log("📊 É array?",Array.isArray(E)),console.log("📊 Quantidade:",E==null?void 0:E.length),Array.isArray(E)?(r(E),i(!0),console.log("✅ Estado atualizado - navegando para resultados"),S("resultados"),h&&f(),E.length>0&&d5.searchFlights(((I=E[0])==null?void 0:I.origem)||"N/A",((w=E[0])==null?void 0:w.destino)||"N/A",((y=E[0])==null?void 0:y.data)||"N/A")):console.error("Resultados inválidos:",E)},x=()=>{e("busca"),r([]),i(!1),window.scrollTo({top:0,behavior:"smooth"})},S=E=>{e(E),window.scrollTo({top:0,behavior:"smooth"})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[l.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-lg border-b border-white/20 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16 mobile-header",children:[l.jsxs("button",{onClick:x,className:"flex items-center space-x-2 sm:space-x-3 hover:opacity-80 transition-all duration-300 cursor-pointer group logo-button",title:"Voltar à página inicial",children:[l.jsx("div",{className:"bg-gradient-aviation p-1.5 sm:p-2 rounded-xl shadow-lg group-hover:shadow-xl transition-shadow duration-300 logo-icon",children:l.jsx(Hr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),l.jsxs("div",{className:"logo-text",children:[l.jsx("span",{className:"text-lg sm:text-2xl font-bold bg-gradient-aviation bg-clip-text text-transparent group-hover:opacity-80 transition-opacity duration-300",children:"ClickPassagens"}),l.jsx("div",{className:"text-[0.6rem] sm:text-xs text-gray-500 font-medium hidden sm:block",children:"Voe mais, gaste menos"})]})]}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-4 lg:space-x-6",children:[l.jsx("button",{onClick:()=>S("resultados"),className:`transition-all duration-300 px-3 py-2 rounded-lg font-medium whitespace-nowrap ${t==="resultados"?"text-aviation-blue bg-aviation-blue/10 shadow-sm":"text-gray-700 hover:text-aviation-blue hover:bg-aviation-blue/5"}`,children:"Resultados"}),l.jsx("button",{onClick:()=>S("comparacao"),className:`transition-all duration-300 px-3 py-2 rounded-lg font-medium whitespace-nowrap ${t==="comparacao"?"text-aviation-blue bg-aviation-blue/10 shadow-sm":"text-gray-700 hover:text-aviation-blue hover:bg-aviation-blue/5"}`,children:"Comparação"}),l.jsx("button",{onClick:()=>S("orcamento"),className:`transition-all duration-300 px-3 py-2 rounded-lg font-medium whitespace-nowrap ${t==="orcamento"?"text-aviation-blue bg-aviation-blue/10 shadow-sm":"text-gray-700 hover:text-aviation-blue hover:bg-aviation-blue/5"}`,children:"Orçamento"}),l.jsx("button",{onClick:()=>S("planos"),className:`transition-all duration-300 px-3 py-2 rounded-lg font-medium whitespace-nowrap ${t==="planos"?"text-aviation-blue bg-aviation-blue/10 shadow-sm":"text-gray-700 hover:text-aviation-blue hover:bg-aviation-blue/5"}`,children:"Planos"}),l.jsx("button",{onClick:()=>S("dashboard"),className:`transition-all duration-300 px-3 py-2 rounded-lg font-medium whitespace-nowrap ${t==="dashboard"?"text-aviation-blue bg-aviation-blue/10 shadow-sm":"text-gray-700 hover:text-aviation-blue hover:bg-aviation-blue/5"}`,children:"Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(H3,{}),h?l.jsx(c5,{onNavigate:S}):l.jsx(Ni,{onClick:()=>d(!0),variant:"outline",className:"border-aviation-blue text-aviation-blue hover:bg-aviation-blue hover:text-white transition-colors duration-300",children:"Login"})]})]})})}),l.jsx("main",{className:"flex-1 pb-16 md:pb-0",children:l.jsxs(KN,{value:t,onValueChange:S,className:"w-full",children:[l.jsx(Sn,{value:"busca",className:"m-0",children:l.jsx(q3,{onSearchSubmit:g})}),l.jsx(Sn,{value:"resultados",className:"m-0",children:s&&n.length>0?l.jsx(Q3,{results:n,onNewSearch:()=>S("busca"),onCompare:()=>S("comparacao"),onCheckout:E=>{console.log("Indo para checkout com voo:",E),a(E),S("checkout")},onGenerateQuote:E=>{console.log("Gerando orçamento para voo:",E),a(E),S("orcamento")}}):l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(Hr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhuma busca realizada"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Faça uma busca para ver os resultados aqui"}),l.jsxs(Ni,{onClick:()=>S("busca"),className:"bg-gradient-aviation hover:opacity-90 text-white",children:[l.jsx(ha,{className:"w-4 h-4 mr-2"}),"Fazer Busca"]})]})})}),l.jsx(Sn,{value:"planos",className:"m-0",children:l.jsx(X3,{onSelectPlan:(E,I)=>{console.log("Plano selecionado:",E,I)}})}),l.jsx(Sn,{value:"comparacao",className:"m-0",children:l.jsx(Y3,{onSelect:E=>{console.log("Seleção de comparação:",E)}})}),l.jsx(Sn,{value:"orcamento",className:"m-0",children:l.jsx(s5,{selectedFlight:o,onSubmit:E=>{console.log("Orçamento enviado:",E)},onBack:()=>{a(null),S("resultados")}})}),l.jsx(Sn,{value:"dashboard",className:"m-0",children:l.jsx(o5,{onNavigate:E=>S(E)})}),l.jsx(Sn,{value:"comissoes",className:"m-0",children:l.jsx(i5,{})}),l.jsx(Sn,{value:"checkout",className:"m-0",children:l.jsx(a5,{flightData:{origem:"São Paulo (GRU)",destino:"Rio de Janeiro (GIG)",data:"15 Jan 2024",passageiros:1,classe:"Econômica",preco:850},onComplete:()=>{console.log("Compra finalizada"),S("dashboard")}})}),l.jsx(Sn,{value:"contato",className:"m-0",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Entre em ",l.jsx("span",{className:"bg-gradient-aviation bg-clip-text text-transparent",children:"Contato"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Nossa equipe está pronta para ajudar você a encontrar as melhores ofertas"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[l.jsxs(Xo,{className:"text-center p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"bg-gradient-aviation p-4 rounded-xl w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:l.jsx(U1,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Telefone"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Atendimento de segunda a sexta, 8h às 18h"}),l.jsx("p",{className:"text-aviation-blue font-semibold",children:"(11) 99999-9999"})]}),l.jsxs(Xo,{className:"text-center p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"bg-gradient-aviation p-4 rounded-xl w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:l.jsx(Em,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"E-mail"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Resposta em até 24 horas"}),l.jsx("p",{className:"text-aviation-blue font-semibold",children:"contato@clickpassagens.com"})]}),l.jsxs(Xo,{className:"text-center p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"bg-gradient-aviation p-4 rounded-xl w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:l.jsx(hR,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Chat Online"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Suporte instantâneo"}),l.jsx(Ni,{className:"bg-gradient-aviation hover:opacity-90 text-white",children:"Iniciar Chat"})]})]}),l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Perguntas Frequentes"}),l.jsx("div",{className:"space-y-6",children:[{pergunta:"Como funciona a busca por passagens com milhas?",resposta:"Nossa plataforma compara preços em dinheiro e milhas de múltiplas companhias aéreas, mostrando a melhor opção para economia."},{pergunta:"As milhas são transferidas automaticamente?",resposta:"Não, você precisa ter as milhas em sua conta. Mostramos quanto você precisará para cada voo."},{pergunta:"Há taxa de serviço?",resposta:"Nosso serviço básico é gratuito. Para funcionalidades avançadas, oferecemos planos pagos."},{pergunta:"Como garantir o melhor preço?",resposta:"Use nossos filtros avançados e alertas de preço para acompanhar variações e encontrar a melhor oportunidade."}].map((E,I)=>l.jsxs(Xo,{className:"p-6 shadow-md hover:shadow-lg transition-shadow duration-300",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:E.pergunta}),l.jsx("p",{className:"text-gray-600",children:E.resposta})]},I))})]})]})})]})}),l.jsx("footer",{className:"bg-gray-900 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"bg-gradient-aviation p-2 rounded-lg",children:l.jsx(Hr,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"ClickPassagens"})]}),l.jsx("p",{className:"text-gray-400",children:"A melhor plataforma para encontrar passagens aéreas com milhas e economizar em suas viagens."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Produtos"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>{e("busca"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-white transition-colors text-left",children:"Busca de Passagens"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>{e("comparacao"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-white transition-colors text-left",children:"Comparador de Milhas"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Alertas de Preço"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>{e("planos"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-white transition-colors text-left",children:"Programa de Fidelidade"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Empresa"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Sobre Nós"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Como Funciona"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Termos de Uso"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Política de Privacidade"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Suporte"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Central de Ajuda"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>{e("contato"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-white transition-colors text-left",children:"Contato"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status do Sistema"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Reportar Problema"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:l.jsx("p",{children:"© 2025 ClickPassagens. Todos os direitos reservados."})})]})}),l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:l.jsxs("div",{className:"grid grid-cols-5 h-16",children:[l.jsxs("button",{onClick:()=>S("busca"),className:`flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${t==="busca"?"text-aviation-blue bg-aviation-blue/10":"text-gray-600 hover:text-aviation-blue hover:bg-gray-50"}`,children:[l.jsx(ha,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Buscar"})]}),l.jsxs("button",{onClick:()=>S("resultados"),className:`flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${t==="resultados"?"text-aviation-blue bg-aviation-blue/10":"text-gray-600 hover:text-aviation-blue hover:bg-gray-50"}`,children:[l.jsx(Va,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Voos"})]}),l.jsxs("button",{onClick:()=>S("comparacao"),className:`flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${t==="comparacao"?"text-aviation-blue bg-aviation-blue/10":"text-gray-600 hover:text-aviation-blue hover:bg-gray-50"}`,children:[l.jsx(Vf,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Comparar"})]}),l.jsxs("button",{onClick:()=>S("planos"),className:`flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${t==="planos"?"text-aviation-blue bg-aviation-blue/10":"text-gray-600 hover:text-aviation-blue hover:bg-gray-50"}`,children:[l.jsx(V1,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Planos"})]}),l.jsxs("button",{onClick:()=>S("dashboard"),className:`flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${t==="dashboard"?"text-aviation-blue bg-aviation-blue/10":"text-gray-600 hover:text-aviation-blue hover:bg-gray-50"}`,children:[l.jsx(ol,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Painel"})]})]})}),l.jsx(l5,{isOpen:u,onClose:()=>d(!1)})]})}function f5(){return l.jsx(K4,{children:l.jsx(h5,{})})}Lh.createRoot(document.getElementById("root")).render(l.jsx(He.StrictMode,{children:l.jsx(f5,{})}));
